{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"vscode\"","webpack:///../node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack:///../node_modules/diagnostic-channel/dist/src/channel.js","webpack:///../node_modules/semver/classes/semver.js","webpack:///../node_modules/vscode-languageclient/lib/common/client.js","webpack:///../node_modules/applicationinsights/out/Library/Logging.js","webpack:///external \"path\"","webpack:///../node_modules/semver/functions/compare.js","webpack:///../node_modules/semver/classes/range.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/index.js","webpack:///external \"fs\"","webpack:///../node_modules/vscode-jsonrpc/lib/common/ral.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js","webpack:///../node_modules/applicationinsights/out/Library/Util.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/is.js","webpack:///../node_modules/semver/internal/re.js","webpack:///../node_modules/semver/functions/parse.js","webpack:///../node_modules/vscode-jsonrpc/lib/node/main.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/is.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/events.js","webpack:///external \"os\"","webpack:///../node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js","webpack:///../node_modules/applicationinsights/out/Library/RequestResponseHeaders.js","webpack:///../node_modules/semver/internal/constants.js","webpack:///../node_modules/semver/internal/debug.js","webpack:///../node_modules/semver/internal/parse-options.js","webpack:///../node_modules/semver/functions/gt.js","webpack:///../node_modules/semver/classes/comparator.js","webpack:///../node_modules/semver/functions/satisfies.js","webpack:///external \"url\"","webpack:///../node_modules/vscode-languageclient/lib/node/main.js","webpack:///external \"child_process\"","webpack:///../node_modules/semver/internal/identifiers.js","webpack:///../node_modules/semver/functions/eq.js","webpack:///../node_modules/semver/functions/compare-build.js","webpack:///../node_modules/semver/functions/lt.js","webpack:///../node_modules/semver/functions/gte.js","webpack:///../node_modules/semver/functions/lte.js","webpack:///../node_modules/semver/ranges/outside.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/uuid.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///../node_modules/applicationinsights/out/Library/CorrelationIdManager.js","webpack:///./src/requests.ts","webpack:///../node_modules/semver/functions/neq.js","webpack:///../node_modules/semver/functions/cmp.js","webpack:///../node_modules/vscode-languageclient/lib/common/commonClient.js","webpack:///../node_modules/vscode-jsonrpc/node.js","webpack:///external \"util\"","webpack:///../node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/api.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messages.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack:///external \"crypto\"","webpack:///../node_modules/vscode-languageclient/lib/common/configuration.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCodeLens.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCodeAction.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js","webpack:///../node_modules/vscode-languageclient/lib/common/progressPart.js","webpack:///../node_modules/vscode-languageserver-protocol/node.js","webpack:///../node_modules/vscode-nls/lib/common/ral.js","webpack:///../node_modules/vscode-nls/lib/common/common.js","webpack:///../node_modules/diagnostic-channel/dist/src/patchRequire.js","webpack:///external \"module\"","webpack:///external \"events\"","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/Performance.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/RequestParser.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpRequests.js","webpack:///./src/node/htmlClientMain.ts","webpack:///./src/node/nodeFs.ts","webpack:///../node_modules/semver/index.js","webpack:///../node_modules/semver/functions/valid.js","webpack:///../node_modules/semver/functions/clean.js","webpack:///../node_modules/semver/functions/inc.js","webpack:///../node_modules/semver/functions/diff.js","webpack:///../node_modules/semver/functions/major.js","webpack:///../node_modules/semver/functions/minor.js","webpack:///../node_modules/semver/functions/patch.js","webpack:///../node_modules/semver/functions/prerelease.js","webpack:///../node_modules/semver/functions/rcompare.js","webpack:///../node_modules/semver/functions/compare-loose.js","webpack:///../node_modules/semver/functions/sort.js","webpack:///../node_modules/semver/functions/rsort.js","webpack:///../node_modules/semver/functions/coerce.js","webpack:///../node_modules/lru-cache/index.js","webpack:///../node_modules/yallist/yallist.js","webpack:///../node_modules/yallist/iterator.js","webpack:///../node_modules/semver/ranges/to-comparators.js","webpack:///../node_modules/semver/ranges/max-satisfying.js","webpack:///../node_modules/semver/ranges/min-satisfying.js","webpack:///../node_modules/semver/ranges/min-version.js","webpack:///../node_modules/semver/ranges/valid.js","webpack:///../node_modules/semver/ranges/gtr.js","webpack:///../node_modules/semver/ranges/ltr.js","webpack:///../node_modules/semver/ranges/intersects.js","webpack:///../node_modules/semver/ranges/simplify.js","webpack:///../node_modules/semver/ranges/subset.js","webpack:///../node_modules/vscode-jsonrpc/lib/node/ril.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/connection.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack:///external \"net\"","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack:///../node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack:///../node_modules/vscode-languageclient/lib/common/codeConverter.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolConverter.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/async.js","webpack:///../node_modules/vscode-languageclient/lib/common/colorProvider.js","webpack:///../node_modules/vscode-languageclient/lib/common/implementation.js","webpack:///../node_modules/vscode-languageclient/lib/common/typeDefinition.js","webpack:///../node_modules/vscode-languageclient/lib/common/workspaceFolders.js","webpack:///../node_modules/vscode-languageclient/lib/common/foldingRange.js","webpack:///../node_modules/vscode-languageclient/lib/common/declaration.js","webpack:///../node_modules/vscode-languageclient/lib/common/selectionRange.js","webpack:///../node_modules/vscode-languageclient/lib/common/progress.js","webpack:///../node_modules/vscode-languageclient/lib/common/callHierarchy.js","webpack:///../node_modules/vscode-languageclient/lib/common/semanticTokens.js","webpack:///../node_modules/vscode-languageclient/lib/common/fileOperations.js","webpack:///../node_modules/minimatch/minimatch.js","webpack:///../node_modules/brace-expansion/index.js","webpack:///../node_modules/concat-map/index.js","webpack:///../node_modules/balanced-match/index.js","webpack:///../node_modules/vscode-languageclient/lib/common/linkedEditingRange.js","webpack:///../node_modules/vscode-languageclient/lib/node/processes.js","webpack:///../node_modules/vscode-languageclient/lib/common/api.js","webpack:///./src/htmlClient.ts","webpack:///../node_modules/vscode-nls/lib/node/main.js","webpack:///./src/htmlEmptyTagsShared.ts","webpack:///./src/tagClosing.ts","webpack:///./src/customData.ts","webpack:///../node_modules/vscode-languageclient/node.js","webpack:///../node_modules/vscode-extension-telemetry/lib/telemetryReporter.js","webpack:///../node_modules/applicationinsights/out/applicationinsights.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/index.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js","webpack:///../node_modules/diagnostic-channel/node_modules/semver/semver.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","webpack:///external \"stream\"","webpack:///external \"console\"","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Connection$","webpack:///../node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Pool$","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js","webpack:///../node_modules/zone.js/dist/zone-node.js","webpack:///external \"timers\"","webpack:///external \"_http_client\"","webpack:///../node_modules/applicationinsights/out/AutoCollection/Console.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Constants.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/Exceptions.js","webpack:///external \"constants\"","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js","webpack:///../node_modules/applicationinsights/out/Library/NodeClient.js","webpack:///../node_modules/applicationinsights/out/Library/TelemetryClient.js","webpack:///../node_modules/applicationinsights/out/Library/Config.js","webpack:///../node_modules/applicationinsights/out/Library/Context.js","webpack:///../node_modules/applicationinsights/out/Library/Channel.js","webpack:///../node_modules/applicationinsights/out/TelemetryProcessors/index.js","webpack:///../node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js","webpack:///../node_modules/applicationinsights/out/Library/Sender.js","webpack:///external \"zlib\"","webpack:///../node_modules/applicationinsights/out/Library/EnvelopeFactory.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__createBinding","this","k","k2","undefined","__exportStar","createProtocolConnection","node_1","input","output","logger","options","createMessageConnection","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","vscode_jsonrpc_1","method","RequestType0","super","RequestType","ParameterStructures","byName","NotificationType0","NotificationType","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","version","subscribers","contextPreservationFunction","cb","knownPatches","currentlyPublishing","shouldPublish","listeners","some","_a","filter","publish","event","standardEvent_1","timestamp","Date","now","data","forEach","listener","e","subscribe","push","unsubscribe","index","length","splice","reset","_this","getOwnPropertyNames","prop","bindToContext","addContextPreservation","preserver","previousPreservationStack","registerMonkeyPatch","packageName","patcher","getPatchesObject","global","diagnosticsSource","channel","debug","MAX_LENGTH","MAX_SAFE_INTEGER","re","parseOptions","compareIdentifiers","SemVer","loose","includePrerelease","TypeError","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","id","test","num","build","format","join","other","compareMain","comparePre","a","b","release","identifier","inc","isNaN","Error","BaseLanguageClient","MessageTransports","TextDocumentFeature","State","RevealOutputChannelOn","CloseAction","ErrorAction","vscode_1","vscode_languageserver_protocol_1","configuration_1","c2p","p2c","Is","async_1","UUID","progressPart_1","ConsoleLogger","message","RAL","console","error","warn","info","log","ClientState","DefaultErrorHandler","maxRestartCount","restarts","_error","_message","count","Continue","Shutdown","Restart","window","showErrorMessage","DoNotRestart","shift","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","String","Number","Boolean","Array","Key","Null","EnumMember","Struct","Event","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Text","Unit","Value","Keyword","Snippet","Color","Reference","Folder","SupportedSymbolTags","SymbolTag","Deprecated","ensure","target","FileFormattingOptions","DynamicFeature","fromConfiguration","document","filesConfig","workspace","getConfiguration","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","is","candidate","func","register","unregister","dispose","registrationType","DocumentNotifications","_client","_event","_type","_middleware","_createParams","_selectorFilter","_selectors","Map","selectors","textDocument","selector","languages","registerOptions","documentSelector","_listener","callback","set","values","sendNotification","notificationSent","_data","delete","size","clear","send","DidOpenTextDocumentFeature","client","_syncedDocuments","onDidOpenTextDocument","DidOpenTextDocumentNotification","type","clientOptions","middleware","didOpen","code2ProtocolConverter","asOpenTextDocumentParams","textDocumentFilter","capabilities","dynamicRegistration","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","uri","toString","has","DidCloseTextDocumentFeature","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","DidChangeTextDocumentNotification","change","TextDocumentSyncKind","None","assign","syncKind","onDidChangeTextDocument","contentChanges","changeData","Incremental","params","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","sendRequest","then","edits","vEdits","protocol2CodeConverter","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","save","saveOptions","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","DidChangeWatchedFilesNotification","_capabilities","_documentSelector","isArray","watchers","disposables","watcher","string","globPattern","watchCreate","watchChange","watchDelete","kind","WatchKind","Create","Change","Delete","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","onDidCreate","resource","asUri","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","disposable","_registrationType","_registrations","registration","registerLanguageProvider","provider","capability","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","boolean","WorkDoneProgressOptions","result","item","CompletionItemFeature","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","tagSupport","valueSet","CompletionItemTag","insertReplaceSupport","resolveSupport","properties","insertTextModeSupport","InsertTextMode","asIs","adjustIndentation","completionItemKind","getRegistrationOptions","completionProvider","triggerCharacters","provideCompletionItems","position","token","context","asCompletionParams","asCompletionResult","handleFailedRequest","provideCompletionItem","resolveCompletionItem","resolveProvider","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asTextDocumentPositionParams","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","config","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","asSignatureHelpParams","asSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","metaData","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","asReferenceParams","asReferences","registerReferenceProvider","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","asDocumentSymbolParams","element","DocumentSymbol","asDocumentSymbols","asSymbolInformations","label","registerDocumentSymbolProvider","WorkspaceSymbolFeature","WorkspaceSymbolRequest","workspaceSymbolProvider","workDoneProgress","_options","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","cap","isPreferredSupport","disabledSupport","dataSupport","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","codeActionProvider","provideCodeActions","range","_provideCodeActions","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","resolveCodeAction","CodeActionResolveRequest","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","refreshSupport","onRequest","CodeLensRefreshRequest","async","getAllProviders","onDidChangeCodeLensEmitter","fire","codeLensProvider","eventEmitter","EventEmitter","onDidChangeCodeLenses","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","asPosition","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","prepareRename","PrepareRenameRequest","Range","isDefaultBehavior","defaultBehavior","Promise","reject","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","DidChangeConfigurationNotification","section","synchronize","configurationSection","onDidChangeConfiguration","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","getMiddleware","keys","ensurePath","path","current","obj","workspaceFolder","indexOf","substr","toJSONObject","ExecuteCommandFeature","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","command","args","arguments","commands","registerCommand","MessageReader","reader","MessageWriter","writer","OnReady","_resolve","_reject","_used","_traceFormat","TraceFormat","_features","_dynamicFeatures","_id","_name","markdown","isTrusted","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","_state","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_providers","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","resolve","_onReadyCallbacks","_onStop","_telemetryEmitter","Emitter","_stateChangeEmitter","_trace","Trace","Off","_tracer","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","oldState","getPublicState","newState","state","Running","Starting","Stopped","isConnectionActive","forceDocumentSync","handler","onNotification","WorkDoneProgress","handleWorkDoneProgress","onProgress","sendProgress","createOutputChannel","onReady","resolveConnection","connection","trace","traceFormat","ResponseError","responseError","code","stack","showNotification","appendLine","toLocaleTimeString","data2String","Info","showNotificationMessage","Warn","showInformationMessage","show","isLSPMessage","append","JSON","stringify","Stopping","isUsed","createDiagnosticCollection","onLogMessage","MessageType","Warning","onShowMessage","showWarningMessage","ShowMessageRequest","messageFunc","actions","onTelemetry","ShowDocumentRequest","showDocument","external","success","env","openExternal","selection","takeFocus","preserveFocus","showTextDocument","listen","initialize","StartFailed","Disposable","needsStop","stop","createConnection","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","Uri","file","computeClientCapabilities","workspaceFolders","fillInitializeParams","part","ProgressPart","workDoneToken","doInitialize","done","cancel","number","textDocumentSync","onDiagnostics","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","title","folders","folder","scheme","cleanUp","shutdown","exit","end","cleanUpChannel","diagnostics","feature","didChangeWatchedFile","didChangeWatchedFiles","changes","workSpaceMiddleware","_didChangeTextDocumentFeature","asDiagnostics","setDiagnostics","handleConnectionError","closeHandler","handleConnectionClosed","createMessageTransports","transports","onError","onClose","tracer","sendNotificationOrTraceOptions","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","LogMessageNotification","ShowMessageNotification","TelemetryEventNotification","didOpenTextDocument","didChangeTextDocument","didCloseTextDocument","didSaveTextDocument","PublishDiagnosticsNotification","action","closed","start","traceConfig","fromString","_connection","fileEvents","array","registerRaw","features","registerFeature","request","notifyFileEvent","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","DiagnosticTag","Unnecessary","codeDescriptionSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","regularExpressions","engine","parser","fillClientCapabilities","registrations","err","unregistration","unregisterations","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","defaultValue","LSPErrorCodes","RequestCancelled","makeCancelError","ContentModified","Canceled","Logging","optionalParams","_i","enableDebug","TAG","disableWarnings","compare","Comparator","parseRange","first","isNullSet","isAny","comps","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","COMPARATORLOOSE","COMPARATOR","rangeList","comp","parseComparator","replaceGTE0","rangeMap","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","intersects","er","testSet","max","comparators","remainingComparators","slice","testComparator","pop","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","semver","ANY","allowed","__export","_ral","install","ral","default","Domain","__assign","http","https","url","constants","RequestResponseHeaders","Util","getCookie","cookie","cookieName","cookies","substring","str","int32ArrayToBase64","toChar","v","fromCharCode","x","Buffer","random32","Math","random","randomu32","w3cTraceId","tmp","hexValues","oct","clockSequenceHi","isError","isPrimitive","propType","isDate","msToTimeSpan","totalms","sec","toFixed","min","floor","hour","days","extractError","looseError","extractObject","origProperty","toJSON","validateStringMap","field","stringTarget","constructor","MAX_PROPERTY_LENGTH","canIncludeCorrelationHeader","requestUrl","excludedDomains","correlationHeaderExcludedDomains","RegExp","parse","hostname","getCorrelationContextTarget","response","contextHeaders","headers","requestContextHeader","keyValues","keyValue","makeRequest","requestOptions","requestCallback","requestUrlParsed","host","port","pathname","proxyUrl","protocol","proxyHttpsUrl","proxyHttpUrl","proxyUrlParsed","Host","isHttps","httpsAgent","agent","httpAgent","tlsRestrictedAgent","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","thenable","typedArray","stringArray","elem","check","resolved","MAX_SAFE_COMPONENT_LENGTH","src","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","LONECARET","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","AbstractMessageReader","process","on","fireError","fireClose","off","AbstractMessageWriter","errorCount","msg","handleError","ReadableStreamMessageReader","socket","encoding","stream","asReadableStream","WriteableStreamMessageWriter","asWritableStream","destroy","readble","writable","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","platform","tmpdir","limit","pipeName","connectResolve","connected","server","createServer","close","removeListener","onConnected","NullLogger","read","addListener","isReadableStream","write","isWritableStream","ConnectionStrategy","connectionStrategy","ral_1","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","callbacks","contexts","apply","thisArgs","onFirstListenerAdd","isEmpty","add","_noop","onLastListenerRemove","invoke","DiagChannel","CorrelationContextManager","getCurrentContext","enabled","Zone","generateContextObject","operationId","parentId","operationName","correlationContextHeader","operation","customProperties","CustomPropertiesImpl","runWithContext","fn","fork","run","wrapCallback","wrap","enable","isNodeVersionCompatible","hasEverEnabled","registerContextPreservation","patchError","patchTimers","disable","nodeVer","versions","node","parseInt","methodNames","methodName","orig","handleId","AppInsightsAsyncCorrelatedErrorWrapper","stackRewrite","prepareStackTrace","stackTrace","foundOne","fileName","getFileName","stackFrames","startIndex","props","concat","propertyName","hiddenPropertyName","getOwnPropertyDescriptor","header","addHeaderData","keyvals","keyval","parts","serializeToHeader","getProperty","setProperty","val","bannedCharacters","requestContextSourceKey","requestContextTargetKey","requestIdHeader","parentIdHeader","rootIdHeader","SEMVER_SPEC_VERSION","NODE_DEBUG","opts","reduce","operator","cmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","SettingMonitor","LanguageClient","TransportKind","cp","fs","commonClient_1","client_1","processes_1","Executable","Transport","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","CommonLanguageClient","arg1","arg2","arg3","arg4","arg5","serverOptions","forceDebug","_serverOptions","_forceDebug","checkVersion","codeVersion","satisfies","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","setTimeout","kill","pid","terminate","getEnvironment","debugStartWith","debugEquals","assertStdio","stdin","stdout","stderr","json","runDebug","execArgv","arg","startsWith","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","transport","stdio","runtime","ipc","pipe","cwd","silent","sp","execOptions","_getRuntimePath","serverProcess","spawn","serverWorkingDirectory","isAbsolute","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","isDirectory","envValue","_setting","primary","rest","needsStart","numeric","anum","bnum","rcompareIdentifiers","versionA","versionB","compareBuild","gt","lt","lte","gte","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","isUUID","v4","empty","ValueUUID","_value","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","_chars","_UUIDPattern","IsInitialized","publishers","unpatchedModules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","HttpDependencyParser","CorrelationContextManager_1","AutoCollectHttpDependencies","INSTANCE","isEnabled","_isEnabled","_isInitialized","_initialize","isInitialized","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","telemetry","requestParser","currentContext","uniqueRequestId","requestNumber","getUrl","getHeader","setHeader","correlationId","correlationHeader","components","key_1","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","CorrelationIdManager","queryCorrelationId","appIdUrlString","profileQueryEndpoint","instrumentationKey","completedLookups","pendingLookups","fetchAppId","disableAppInsightsAutoCollection","req","res","statusCode","appId_1","setEncoding","correlationIdPrefix","correlationIdRetryIntervalMs","cancelCorrelationIdQuery","generateRequestId","suffix","currentRootId","appendSuffix","generateRootId","getRootId","endIndex","delimiter","requestIdMaxLength","trimPosition","FsContentRequest","FsStatRequest","FsReadDirRequest","param","getContent","readFile","buffer","TextDecoder","decode","uriString","readDirectory","stat","FileType","lastIndexOfSlash","lastIndexOf","Slash","charCodeAt","Dot","isAbsolutePath","normalizePath","newParts","joinPath","paths","with","eq","neq","op","ProposedFeatures","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolders_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","registerFeatures","createAll","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","CallHierarchyFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","ProgressType","ConnectionOptions","CancellationToken","CancellationTokenSource","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","ErrorCodes","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","CancellationStrategy","messages_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","isResponseMessage","isNotificationMessage","isRequestMessage","AbstractMessageSignature","ParseError","InvalidRequest","MethodNotFound","InvalidParams","InternalError","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageWriteError","MessageReadError","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","setPrototypeOf","auto","byPosition","numberOfParams","_parameterStructures","freeze","isCancellationRequested","onCancellationRequested","Cancelled","shortcutEvent","handle","timer","clearTimeout","MutableToken","_isCancelled","_emitter","_token","configuration","ConfigurationRequest","items","scopeUri","ProtocolCompletionItem","CompletionItem","ProtocolCodeLens","CodeLens","ProtocolDocumentLink","DocumentLink","vscode","ProtocolCodeAction","CodeAction","ProtocolDiagnostic","DiagnosticCode","Diagnostic","severity","hasDiagnosticCode","ProtocolCallHierarchyItem","CallHierarchyItem","detail","selectionRange","_reported","begin","report","withProgress","location","ProgressLocation","Window","cancellable","progress","cancellationToken","_progress","_infinite","percentage","_cancellationToken","WorkDoneProgressCancelNotification","delta","increment","loadMessageBundle","localize","setPseudo","isPseudo","isDefined","BundleFormat","MessageFormat","LocalizeInfo","replacement","comment","pseudo","_key","moduleModule","nativeModules","binding","originalRequire","patchedModules","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","versionSpecifier","AvailabilityData","Base","ContextTagKeys","Data","DataPoint","DataPointType","Envelope","EventData","ExceptionData","ExceptionDetails","MessageData","MetricData","PageViewData","RemoteDependencyData","RequestData","SeverityLevel","StackFrame","extendStatics","__extends","__proto__","__","_super","ver","measurements","AutoCollectPerformance","_handle","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","setInterval","trackPerformance","unref","clearInterval","countRequest","once","_lastRequestExecutionTime","_trackCpu","_trackMemory","_trackNetwork","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","trackMetric","freeMem","freemem","usedMem","memoryUsage","rss","lastRequests","requests","intervalRequests","elapsedMs","elapsedSeconds","requestsPerSec","RequestParser","startTime","_setStatus","status","endTime","duration","_isSuccess","HttpRequestParser","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","getOperationId","tags","getRequestId","getOperationName","getCorrelationContextHeader","wrapOnRequestHandler","requestParser_1","correlationContext","wrapServerEventHandler","originalAddListener","eventType","eventHandler","originalHttpServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","getOperationParentId","headersSent","ellapsedMilliseconds","requestTelemetry","getRequestTelemetry","tagOverrides","getRequestTags","clientPackageJSON","asAbsolutePath","readFileSync","aiKey","main","getPackageInfo","serverMain","serverModule","debugOptions","round","startClient","getNodeFSRequestService","ensureFileUri","getScheme","buf","Unknown","ctime","mtime","isFile","Directory","isSymbolicLink","SymbolicLink","getTime","readdir","withFileTypes","children","internalRe","tokens","valid","clean","diff","rcompare","compareLoose","sort","rsort","coerce","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","version1","version2","v1","v2","hasPre","prefix","defaultResult","parsed","list","rtl","next","COERCERTL","exec","lastIndex","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","self","doUse","hit","isStale","del","unshiftNode","maxAge","walker","tail","prev","removeNode","Entry","forEachStep","thisp","Infinity","lc","stale","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lC","head","toArray","h","unshift","arr","expiresAt","insert","inserted","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","deleteCount","nodes","reverse","iterator","maxSV","rangeObj","minSV","minver","setMin","compver","r1","r2","ranges","simplified","original","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","sawNonNull","OUTER","simpleSub","simpleDom","isSub","util_1","messageBuffer_1","MessageBuffer","AbstractMessageBuffer","emptyBuffer","allocUnsafe","ReadableStreamWrapper","WritableStreamWrapper","_ril","messageBuffer","applicationJson","encoder","encode","charset","decoder","ms","setImmediate","clearImmediate","RIL","_encoding","_chunks","_totalLength","chunk","toAppend","byteLength","chunkIndex","offset","chunkBytesRead","row","_read","byteCount","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","errorEmitter","closeEmitter","partialMessageEmitter","asError","fromOptions","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","readable","_partialMessageTimeout","nextMessageLength","messageToken","timeout","partialMessageTimer","onData","tryReadHeaders","contentLength","body","tryReadBody","setPartialMessageTimer","clearPartialMessageTimer","firePartialMessage","waitingTime","semaphore_1","ResolvedMessageWriterOptions","_b","contentTypeEncoder","contentEncoder","writeSemaphore","Semaphore","lock","doWrite","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","linkedMap_1","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","Messages","Verbose","cancelUndispatched","Message","createCancellationTokenSource","conn","sendCancellation","cleanup","receiver","sender","cancellationStrategy","messageReader","messageWriter","_logger","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","LinkedMap","responsePromises","requestTokens","New","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","addMessageToQueue","queue","isListening","Listening","isClosed","Closed","isDisposed","Disposed","triggerMessageQueue","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","logLSPMessage","traceReceivedRequest","requestHandler","tokenKey","cancellationSource","handlerResult","parameterStructures","promise","replySuccess","handleRequest","notificationHandler","source","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","toCancel","strategy","lspMessage","throwIfClosedOrDisposed","undefinedToNull","nullToUndefined","isNamedParam","computeSingleParam","computeMessageParams","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onUnhandledProgress","throwIfNotListening","last","traceSendingRequest","_sendNotification","onUnhandledNotification","onDispose","AlreadyListening","throwIfListening","inspect","verbose","Touch","LRUCache","First","AsOld","Last","AsNew","_map","_head","_tail","_size","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","entries","newSize","currentSize","ratio","_limit","_ratio","checkTrim","trimOld","lspReservedErrorRangeStart","lspReservedErrorRangeEnd","integer","uinteger","Position","Location","LocationLink","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","CodeDescription","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","line","character","objectLiteral","one","two","three","four","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","textEdit","additionalTextEdits","startLine","endLine","startCharacter","endCharacter","Information","Hint","href","codeDescription","newText","needsConfirmation","description","annotation","annotationId","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","InsertTextFormat","InsertReplaceEdit","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolInformation","CodeActionContext","FormattingOptions","SelectionRange","TextEditChangeImpl","changeAnnotations","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","configurable","idOrAnnotation","nextId","WorkspaceChange","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","renameFile","deleteFile","languageId","text","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","containerName","deprecated","SourceFixAll","only","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","parent","TextDocument","EOL","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","sortedEdits","mergeSort","left","right","leftIdx","rightIdx","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","charAt","mid","lineOffset","nextLineOffset","SignatureHelpTriggerKind","CompletionTriggerKind","TextDocumentSaveReason","TextDocumentContentChangeEvent","InitializeError","DocumentSelector","DocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","WillDeleteFilesRequest","DidDeleteFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","WillCreateFilesRequest","DidCreateFilesNotification","FileOperationPatternKind","LinkedEditingRangeRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","SemanticTokens","SemanticTokenModifiers","SemanticTokenTypes","CallHierarchyPrepareRequest","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","WorkDoneProgressCreateRequest","SelectionRangeRequest","DeclarationRequest","FoldingRangeRequest","ColorPresentationRequest","DocumentColorRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ImplementationRequest","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","pattern","Abort","Transactional","Undo","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","rangeLength","isFull","Manual","AfterDelay","FocusOut","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","resultId","Relative","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asTextDocumentSaveReason","reason","asCompletionTriggerKind","triggerKind","asSignatureHelpTriggerKind","Invoke","asParameterInformation","asSignatureInformation","asWorkerPosition","asLocation","asDiagnosticSeverity","asDiagnosticTag","tag","asRelatedInformation","asDiagnostic","protocolDiagnostic","asDiagnosticCode","converted","asDiagnosticTags","asCompletionItemTag","asTextEdit","asSymbolKind","asSymbolTag","asSymbolTags","asVersionedTextDocumentIdentifier","isTextDocument","isTextDocumentChangeEvent","includeContent","asDidCreateFilesParams","files","fileUri","asDidRenameFilesParams","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","triggerCharacter","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","protocolItem","asDocumentation","filterText","insertText","SnippetString","insertTextFormat","fromEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","commitCharacters","preselect","asCompletionItemTags","insertTextMode","keepWhitespace","includeDeclaration","asCodeActionKind","disabled","fileOptions","tooltip","asCallHierarchyItem","ls","CodeBlock","trustMarkdown","diagnostic","asDiagnosticRelatedInformation","information","asRanges","asMarkdownString","MarkdownString","asCompletionRange","asCompletionInsertText","itemKind","asSignatureInformations","asParameterInformations","asLocationLink","asLocationResult","asDocumentHighlight","asDocumentHighlightKind","asSymbolInformation","fillTags","asDocumentSymbol","child","includes","kindMapping","sharedMetadata","asWorkspaceEditEntryMetadata","asMetadata","asColor","asColorInformation","ci","asColorPresentation","presentation","asFoldingRangeKind","Comment","Imports","Region","asFoldingRange","asSelectionRange","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","hover","appendCodeblock","appendMarkdown","appendText","asHoverContent","SignatureHelp","asDeclarationResult","asCommands","asFoldingRanges","foldingRanges","asColorInformations","colorInformation","asColorPresentations","colorPresentations","asSelectionRanges","selectionRanges","asSemanticTokensLegend","asSemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","asCallHierarchyItems","asCallHierarchyIncomingCalls","asCallHierarchyOutgoingCalls","asLinkedEditingRanges","LinkedEditingRanges","asRegularExpression","wordPattern","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","getRegistration","colorProvider","provideColorPresentations","requestParams","provideDocumentColors","registerColorProvider","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","arrayDiff","access","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","removed","added","doSendEvent","addedFolders","removedFolders","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","sendInitialEvent","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","registerFoldingRangeProvider","declarationSupport","declarationProvider","provideDeclaration","registerDeclarationProvider","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","activeParts","deleteHandler","CallHierarchyProvider","prepareCallHierarchy","provideCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","callHierarchyProvider","registerCallHierarchyProvider","tokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","enumMember","function","macro","keyword","modifier","regexp","tokenModifiers","declaration","definition","readonly","static","abstract","modification","defaultLibrary","formats","full","multilineTokenSupport","overlappingTokenSupport","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","previousResultId","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","minimatch","FileOperationFeature","clientCapability","serverCapability","_filters","_clientCapability","_serverCapability","fileOperations","filters","minimatchFilter","matcher","Minimatch","glob","asMinimatchOptions","makeRe","matches","fileMatches","fileType","getFileType","ignoreCase","nocase","NotificationFileOperationFeature","notificationType","accessUri","createParams","_notificationType","_accessUri","originalEvent","filteredEvent","doSend","onDidCreateFiles","didCreateFiles","onDidRenameFiles","didRenameFiles","onDidDeleteFiles","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","willCreateFiles","onWillRenameFiles","willRenameFiles","onWillDeleteFiles","willDeleteFiles","sep","GLOBSTAR","expand","plTypes","open","reSpecials","slashSplit","ext","nocomment","negate","make","braceExpand","nobrace","defaults","def","_made","parseNegate","globSet","globParts","si","negateOffset","nonegate","noglobstar","stateChar","hasMagic","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","qmark","noext","reStart","pl","reEnd","cs","SUBPARSE","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","flags","regExp","_glob","_src","twoStar","regExpEscape","ex","mm","f","nonull","partial","filename","matchBase","matchOne","flipNegate","fi","pi","fl","fr","swallowee","concatMap","balanced","isTop","expansions","pre","isNumericSequence","isAlphaSequence","isSequence","isOptions","post","escClose","parseCommaParts","postParts","embrace","N","y","width","incr","abs","pad","isPadded","need","el","j","expansion","escSlash","escOpen","escComma","escPeriod","escapeBraces","unescapeBraces","xs","maybeMatch","reg","begs","beg","ai","bi","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","provideLinkedEditingRange","registerLinkedEditingRangeProvider","path_1","isWindows","isMacintosh","isLinux","execFileSync","cmd","__dirname","spawnSync","common_1","common_2","resolvedBundles","isNumber","isString","readJsonFileSync","createScopedLocalizeFunction","messages","cacheBundle","bundle","loadNlsBundleOrCreateFromI18n","bundlePath","cacheRoot","hash","useMemoryOnly","writeBundle","flag","utimes","SyntaxError","unlink","metaDataPath","languagePackLocation","translationsConfig","languagePack","module_2","entry","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadDefaultNlsBundle","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","languagePackId","translationsConfigFile","root","findInTheBoxBundle","extname","messageFormat","both","headerFile","dirname","tryFindMetaDataHeaderFile","nlsBundle","module_3","resolvedLanguage","cacheLanguageResolution","resolveLanguage","bundleFormat","standalone","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","initializeSettings","EMPTY_ELEMENTS","tagProvider","supportedLanguages","configName","activeDocument","activeTextEditor","lastChange","lastCharacter","rangeStart","activeEditor","selections","active","isEqual","insertSnippet","updateEnabledState","onDidChangeActiveTextEditor","editor","getCustomDataPathsInAllWorkspaces","dataPaths","collect","rootFolder","resolvePath","folderUri","customDataInspect","workspaceFolderValue","workspaceFile","workspaceValue","globalValue","getCustomDataPathsFromAllExtensions","extension","extensions","customData","packageJSON","contributes","html","rp","extensionUri","toDispose","pathsInWorkspace","pathsInExtensions","onChange","newPathsInExtensions","idx","appInsights","TelemetryReporter","extensionId","extensionVersion","userOptIn","logFilePath","logStream","createWriteStream","autoClose","updateUserOptIn","configListener","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","commonProperties","getCommonProperties","userId","machineId","sessionId","endpointUrl","sendTelemetryEvent","eventName","trackEvent","flushEventsToLogger","flushEventsToAI","flush","AutoCollectConsole","AutoCollectExceptions","Contracts","_console","_exceptions","_performance","_serverRequests","_clientRequests","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","Configuration","getCorrelationContext","wrapWithCorrelationContext","collectConsoleLog","resendInterval","maxBytesOnDisk","setInternalLogging","enableDebugLogging","enableWarningLogging","consolePub","diagnostic_channel_1","originalBunyan","originalEmit","_emit","rec","noemit","level","rangeTmp","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","aiLoggingConsole","Console","_loop_1","originalMethod","consoleMethods_1","mongoCore2","originalMongoCore","originalConnect","Server","connect","originalWrite","pool","cbidx","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","requestId","startedData","succeeded","originalMysql","originalMysqlPath","patchObjectFunction","cbWrapper","originalFunc","resultContainer","patchClassMemberFunction","classObject","connectionClass","hrDuration","callbackArgs","poolClass","webpackEmptyContext","postgresPool1","originalPgPool","postgres6","originalPg","originalPgPath","originalClientQuery","Client","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","ceil","emit","preparable","plan","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","originalWinston","curLevels","originalLog","Logger","loggingFilter","meta","levelKind","npm","levels","syslog","zoneSpec","_properties","_parent","_zoneDelegate","ZoneDelegate","assertZonePatched","ZoneAwarePromise","_currentZoneFrame","zone","_currentTask","getZoneWith","_callback","intercept","runGuarded","applyThis","applyArgs","ZoneFrame","runTask","runCount","previousTask","isPeriodic","cancelFn","invokeTask","scheduleMicroTask","customSchedule","scheduleTask","ZoneTask","scheduleMacroTask","customCancel","scheduleEventTask","cancelTask","__symbol__","parentDelegate","_taskCounts","microTask","macroTask","eventTask","_parentDelegate","_forkZS","onFork","_forkDlgt","_forkCurrZone","_interceptZS","onIntercept","_interceptDlgt","_interceptCurrZone","_invokeZS","onInvoke","_invokeDlgt","_invokeCurrZone","_handleErrorZS","onHandleError","_handleErrorDlgt","_handleErrorCurrZone","_scheduleTaskZS","onScheduleTask","_scheduleTaskDlgt","_scheduleTaskCurrZone","_invokeTaskZS","onInvokeTask","_invokeTaskDlgt","_invokeTaskCurrZone","_cancelTaskZS","onCancelTask","_cancelTaskDlgt","_cancelTaskCurrZone","_hasTaskZS","onHasTask","_hasTaskDlgt","_hasTaskCurrZone","targetZone","scheduleFn","scheduleQueueDrain","_microTaskQueue","_updateTaskCount","hasTask","counts","_numberOfNestedTaskFrames","drainMicroTaskQueue","symbolSetTimeout","symbolPromise","symbolThen","_isDrainingMicrotaskQueue","_uncaughtPromiseErrors","consoleError","rejection","uncaughtPromiseError","isThenable","forwardResolution","forwardRejection","symbolState","symbolValue","makeResolver","resolvePromise","clearRejectedNoCatch","scheduleResolveOrReject","error_1","currentTask","chainPromise","onFulfilled","onRejected","delegate","executor","race","rej","onResolve","onReject","values_1","resolvedValues","values_2","catch","FrameType","NativePromise","patchThen","NativePromiseProtototype","NativePromiseThen","nativePromise","fetchPromise","zoneAwareFrame","NativeError","blackListedStackFrames","ZoneAwareError","createProperty","error_2","createMethodProperty","errorMethod","errorProperties","pKeys","createErrorProperties","getErrorPropertiesForPrototype","newProps","cKeys","cKey","originalStack","frames_1","zoneFrame","frame","frameType","blackList","transition","zoneAwareStack","defineProperties","getPrototypeOf","stackTraceLimit","targetObject","constructorOpt","captureStackTrace","structuredStackTrace","getFunctionName","detectZone","parentZoneDelegate","currentZone","parentZD","frames_2","runFrame","runGuardedFrame","runTaskFrame","fnName","zoneSymbol","_global$1","EVENT_TASKS","findExistingRegisteredTask","capture","eventTasks","useCapturing","defaultListenerMetaCreator","invokeAddFunc","addFnSymbol","invokeRemoveFunc","removeFnSymbol","makeZoneAwareAddListener","addFnName","removeFnName","useCapturingParam","allowDuplicates","isPrepend","metaCreator","defaultUseCapturing","scheduleEventListener","attachRegisteredEvent","cancelEventListener","handleEvent","validZoneHandler","makeZoneAwareRemoveListener","symbol","patchMethod","patchFn","delegateName","createNamedFn","events","callAndReturnFirstParam","zoneAwareAddListener$1","zoneAwarePrependListener","zoneAwareRemoveListener$1","zoneAwareRemoveAllListeners","findAllExistingRegisteredTasks","makeZoneAwareRemoveAllListeners","zoneAwareListeners","patchTimer","setName","cancelName","nameSuffix","setNative","clearNative","tasksByHandleId","clearTask","ref","funcName","callbackIndex","patchMacroTask","crypto","httpClient","_global","timers","patchNextTick","nativeRandomBytes_1","nativePbkdf2_1","pbkdf2","ClientRequest","ClientRequest_1","factory","_methodNames","Contracts_1","clients","subscriber","trackTrace","Generated_1","RemoteDependencyDataConstants","TYPE_HTTP","TYPE_AI","domainSupportsProperties","domain","applicationVersion","deviceId","deviceLocale","deviceModel","deviceOEMName","deviceOSVersion","deviceType","locationIp","operationParentId","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","userAuthUserId","cloudRole","cloudRoleInstance","internalSdkVersion","internalAgentVersion","internalNodeName","Measurement","sampleRate","exceptions","hasFullStack","parsedStack","metrics","TelemetryType","telemetryTypeToBaseType","Exception","Metric","Request","Dependency","baseTypeToTelemetryType","baseType","bunyanToAILevelMap","10","20","30","40","50","60","Critical","AIlevel","winstonToAILevelMap","og","emerg","alert","crit","warning","notice","silly","unknown","_exceptionListenerHandle","reThrow","trackException","exception","isAppCrashing","_rejectionListenerHandle","UNCAUGHT_EXCEPTION_HANDLER_NAME","UNHANDLED_REJECTION_HANDLER_NAME","_getUrlFromRequestOptions","baseTelemetry","dependencyId","urlObject","search","dependencyName","toUpperCase","remoteDependencyType","remoteDependencyTarget","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","dbName","databaseName","commandName","queryObj","sqlString","sql","connectionConfig","socketPath","q","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connectionRemoteAddress","legacySocketRemoteAddress","sourceCorrelationId","newTags","_getIp","_getId","encrypted","pathName","ipMatch","results","ip","rawHeaders","parseId","userAgent","rootId","cookieValue","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","Config","Context","Channel","TelemetryProcessors","Sender","EnvelopeFactory","iKey","_telemetryProcessors","disableAppInsights","maxBatchSize","maxBatchIntervalMs","track","triggerSend","telemetryType","envelope","createEnvelope","toISOString","accepted","runTelemetryProcessors","samplingTelemetryProcessor","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","endpointBase","_getInstrumentationKey","samplingPercentage","setCorrelationId","ENV_profileQueryEndpoint","ENV_http_proxy","ENV_https_proxy","_profileQueryEndpoint","endpoint","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","packageJsonPath","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","appVersion","packageJson","DefaultRoleName","arch","sdkVersion","isDisabled","getBatchSize","getBatchIntervalMs","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","_sender","setDiskRetryMode","payload","_stringify","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","getSamplingHashCode","zlib","child_process","_config","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","ICACLS_PATH","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","windowsHide","signal","_runICACLSSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","mkdir","_getShallowDirectorySize","totalSize","fileStats","_getShallowDirectorySizeSync","readdirSync","statSync","TEMPDIR_PREFIX","fileFullPath","mkdirSync","dirSize","tempDir","basename","firstFile","filePath","systemdrive","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","baseData","getTags","severityLevel","remoteDependency","exceptionDetails","typeName","parseStack","requestData","responseCode","metric","Aggregation","stdDev","frames","totalSizeInBytes","_StackFrame","regex","parsedFrame","sizeInBytes","acceptedLeft","acceptedRight","howMany","assembly","baseSize"],"mappings":"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","file":"htmlClientMain.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 78);\n","module.exports = require(\"vscode\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return node_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n// let x: ProtocolNotificationType<number, { value: number}>;\n// let y: ProtocolNotificationType<string, { value: number}>;\n// x = y;\n//# sourceMappingURL=messages.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseLanguageClient = exports.MessageTransports = exports.TextDocumentFeature = exports.State = exports.RevealOutputChannelOn = exports.CloseAction = exports.ErrorAction = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst configuration_1 = require(\"./configuration\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nclass ConsoleLogger {\n    error(message) {\n        vscode_languageserver_protocol_1.RAL().console.error(message);\n    }\n    warn(message) {\n        vscode_languageserver_protocol_1.RAL().console.warn(message);\n    }\n    info(message) {\n        vscode_languageserver_protocol_1.RAL().console.info(message);\n    }\n    log(message) {\n        vscode_languageserver_protocol_1.RAL().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    let logger = new ConsoleLogger();\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    let result = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\nclass DefaultErrorHandler {\n    constructor(name, maxRestartCount) {\n        this.name = name;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return ErrorAction.Continue;\n        }\n        return ErrorAction.Shutdown;\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return CloseAction.Restart;\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted.`);\n                return CloseAction.DoNotRestart;\n            }\n            else {\n                this.restarts.shift();\n                return CloseAction.Restart;\n            }\n        }\n    }\n}\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\nvar State;\n(function (State) {\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State = exports.State || (exports.State = {}));\nvar ClientState;\n(function (ClientState) {\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\n})(ClientState || (ClientState = {}));\nconst SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nconst SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature || (DynamicFeature = {}));\nclass DocumentNotifications {\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\n        this._client = _client;\n        this._event = _event;\n        this._type = _type;\n        this._middleware = _middleware;\n        this._createParams = _createParams;\n        this._selectorFilter = _selectorFilter;\n        this._selectors = new Map();\n    }\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event(this.callback, this);\n        }\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\n    }\n    callback(data) {\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\n            if (this._middleware) {\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\n            }\n            else {\n                this._client.sendNotification(this._type, this._createParams(data));\n            }\n            this.notificationSent(data);\n        }\n    }\n    notificationSent(_data) {\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document)) {\n                return {\n                    send: (data) => {\n                        this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nclass DidOpenTextDocumentFeature extends DocumentNotifications {\n    constructor(client, _syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifications.textDocumentFilter);\n        this._syncedDocuments = _syncedDocuments;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let documentSelector = data.registerOptions.documentSelector;\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            let uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\n                let middleware = this._client.clientOptions.middleware;\n                let didOpen = (textDocument) => {\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                if (middleware.didOpen) {\n                    middleware.didOpen(textDocument, didOpen);\n                }\n                else {\n                    didOpen(textDocument);\n                }\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    notificationSent(textDocument) {\n        super.notificationSent(textDocument);\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n    }\n}\nclass DidCloseTextDocumentFeature extends DocumentNotifications {\n    constructor(client, _syncedDocuments) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifications.textDocumentFilter);\n        this._syncedDocuments = _syncedDocuments;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    notificationSent(textDocument) {\n        super.notificationSent(textDocument);\n        this._syncedDocuments.delete(textDocument.uri.toString());\n    }\n    unregister(id) {\n        let selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        let selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\n                let middleware = this._client.clientOptions.middleware;\n                let didClose = (textDocument) => {\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                if (middleware.didClose) {\n                    middleware.didClose(textDocument, didClose);\n                }\n                else {\n                    didClose(textDocument);\n                }\n            }\n        });\n    }\n}\nclass DidChangeTextDocumentFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._changeData = new Map();\n        this._forcingDelivery = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            documentSelector: data.registerOptions.documentSelector,\n            syncKind: data.registerOptions.syncKind\n        });\n    }\n    callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\n                let middleware = this._client.clientOptions.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\n                    if (middleware.didChange) {\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\n                    }\n                    else {\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    }\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    let didChange = (event) => {\n                        if (this._changeDelayer) {\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\n                                this.forceDelivery();\n                                this._changeDelayer.uri = event.document.uri.toString();\n                            }\n                            this._changeDelayer.delayer.trigger(() => {\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\n                            });\n                        }\n                        else {\n                            this._changeDelayer = {\n                                uri: event.document.uri.toString(),\n                                delayer: new async_1.Delayer(200)\n                            };\n                            this._changeDelayer.delayer.trigger(() => {\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\n                            }, -1);\n                        }\n                    };\n                    if (middleware.didChange) {\n                        middleware.didChange(event, didChange);\n                    }\n                    else {\n                        didChange(event);\n                    }\n                }\n            }\n        }\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._changeDelayer = undefined;\n        this._forcingDelivery = false;\n        this._changeData.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    forceDelivery() {\n        if (this._forcingDelivery || !this._changeDelayer) {\n            return;\n        }\n        try {\n            this._forcingDelivery = true;\n            this._changeDelayer.delayer.forceDelivery();\n        }\n        finally {\n            this._forcingDelivery = false;\n        }\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document)) {\n                return {\n                    send: (event) => {\n                        this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nclass WillSaveFeature extends DocumentNotifications {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifications.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n}\nclass WillSaveWaitUntilFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._selectors = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\n    }\n    callback(event) {\n        if (DocumentNotifications.textDocumentFilter(this._selectors.values(), event.document)) {\n            let middleware = this._client.clientOptions.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nclass DidSaveTextDocumentFeature extends DocumentNotifications {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifications.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n}\nclass FileSystemWatcherFeature {\n    constructor(_client, _notifyFileEvent) {\n        this._client = _client;\n        this._notifyFileEvent = _notifyFileEvent;\n        this._watchers = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        let disposables = [];\n        for (let watcher of data.registerOptions.watchers) {\n            if (!Is.string(watcher.globPattern)) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    dispose() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nclass TextDocumentFeature {\n    constructor(_client, _registrationType) {\n        this._client = _client;\n        this._registrationType = _registrationType;\n        this._registrations = new Map();\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector || documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(selector, textDocument)) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentFeature = TextDocumentFeature;\nclass WorkspaceFeature {\n    constructor(_client, _registrationType) {\n        this._client = _client;\n        this._registrationType = _registrationType;\n        this._registrations = new Map();\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nclass CompletionItemFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = ensure(ensure(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] }\n        };\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const triggerCharacters = options.triggerCharacters || [];\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.clientOptions.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.clientOptions.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(options.documentSelector, provider, ...triggerCharacters), provider];\n    }\n}\nclass HoverFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = (ensure(ensure(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerHoverProvider(options.documentSelector, provider), provider];\n    }\n}\nclass SignatureHelpFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = ensure(ensure(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        let disposable;\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, metaData);\n        }\n        return [disposable, provider];\n    }\n}\nclass DefinitionFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = ensure(ensure(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDefinitionProvider(options.documentSelector, provider), provider];\n    }\n}\nclass ReferencesFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [vscode_1.languages.registerReferenceProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentHighlightFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentSymbolFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = ensure(ensure(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\n                        if (data === null) {\n                            return undefined;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            let element = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\n                                return client.protocol2CodeConverter.asDocumentSymbols(data);\n                            }\n                            else {\n                                return client.protocol2CodeConverter.asSymbolInformations(data);\n                            }\n                        }\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, provider, metaData), provider];\n    }\n}\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = ensure(ensure(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: SupportedSymbolTags\n        };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(_options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            }\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nclass CodeActionFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = ensure(ensure(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = false;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: client.code2ProtocolConverter.asCodeActionContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (values === null) {\n                            return undefined;\n                        }\n                        const result = [];\n                        for (let item of values) {\n                            if (vscode_languageserver_protocol_1.Command.is(item)) {\n                                result.push(client.protocol2CodeConverter.asCommand(item));\n                            }\n                            else {\n                                result.push(client.protocol2CodeConverter.asCodeAction(item));\n                            }\n                        }\n                        return result;\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.clientOptions.middleware;\n                    const resolveCodeAction = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, client.code2ProtocolConverter.asCodeAction(item), token).then(client.protocol2CodeConverter.asCodeAction, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(options.documentSelector, provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nclass CodeLensFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        ensure(ensure(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error, codeLens);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(options.documentSelector, provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nclass DocumentFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nclass RenameFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = ensure(ensure(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error, undefined);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerRenameProvider(options.documentSelector, provider), provider];\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nclass DocumentLinkFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = ensure(ensure(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error, link);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, provider), provider];\n    }\n}\nclass ConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        let section = this._client.clientOptions.synchronize.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        let didChangeConfiguration = (sections) => {\n            if (sections === undefined) {\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n                return;\n            }\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n        };\n        let middleware = this.getMiddleware();\n        middleware\n            ? middleware(sections, didChangeConfiguration)\n            : didChangeConfiguration(sections);\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = configuration_1.toJSONObject(config);\n            }\n        }\n        return result;\n    }\n    getMiddleware() {\n        let middleware = this._client.clientOptions.middleware;\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\n            return middleware.workspace.didChangeConfiguration;\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass ExecuteCommandFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._commands = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.clientOptions.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    dispose() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\nclass OnReady {\n    constructor(_resolve, _reject) {\n        this._resolve = _resolve;\n        this._reject = _reject;\n        this._used = false;\n    }\n    get isUsed() {\n        return this._used;\n    }\n    resolve() {\n        this._used = true;\n        this._resolve();\n    }\n    reject(error) {\n        this._used = true;\n        this._reject(error);\n    }\n}\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        var _a;\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false };\n        if (clientOptions.markdown !== undefined && clientOptions.markdown.isTrusted === true) {\n            markdown.isTrusted = true;\n        }\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector || [],\n            synchronize: clientOptions.synchronize || {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName || this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler || this.createDefaultErrorHandler((_a = clientOptions.connectionOptions) === null || _a === void 0 ? void 0 : _a.maxRestartCount),\n            middleware: clientOptions.middleware || {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._connectionPromise = undefined;\n        this._resolvedConnection = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._listeners = undefined;\n        this._providers = undefined;\n        this._diagnostics = undefined;\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onReady = new Promise((resolve, reject) => {\n            this._onReadyCallbacks = new OnReady(resolve, reject);\n        });\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get state() {\n        return this._state;\n    }\n    set state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        if (this.state === ClientState.Running) {\n            return State.Running;\n        }\n        else if (this.state === ClientState.Starting) {\n            return State.Starting;\n        }\n        else {\n            return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    sendRequest(type, ...params) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            return this._resolvedConnection.sendRequest(type, ...params);\n        }\n        catch (error) {\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onRequest(type, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            return this._resolvedConnection.onRequest(type, handler);\n        }\n        catch (error) {\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    sendNotification(type, params) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            this._resolvedConnection.sendNotification(type, params);\n        }\n        catch (error) {\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onNotification(type, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            return this._resolvedConnection.onNotification(type, handler);\n        }\n        catch (error) {\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            if (vscode_languageserver_protocol_1.WorkDoneProgress.is(type)) {\n                const handleWorkDoneProgress = this._clientOptions.middleware.handleWorkDoneProgress;\n                if (handleWorkDoneProgress !== undefined) {\n                    return this._resolvedConnection.onProgress(type, token, (params) => {\n                        handleWorkDoneProgress(token, params, () => handler(params));\n                    });\n                }\n            }\n            return this._resolvedConnection.onProgress(type, token, handler);\n        }\n        catch (error) {\n            this.error(`Registering progress handler for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    sendProgress(type, token, value) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            this._resolvedConnection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this._name, maxRestartCount !== null && maxRestartCount !== void 0 ? maxRestartCount : 4);\n    }\n    set trace(value) {\n        this._trace = value;\n        this.onReady().then(() => {\n            this.resolveConnection().then((connection) => {\n                connection.trace(this._trace, this._tracer, {\n                    sendNotification: false,\n                    traceFormat: this._traceFormat\n                });\n            });\n        }, () => {\n        });\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    info(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\n            this.showNotificationMessage();\n        }\n    }\n    warn(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\n            this.showNotificationMessage();\n        }\n    }\n    error(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\n            this.showNotificationMessage();\n        }\n    }\n    showNotificationMessage() {\n        vscode_1.window.showInformationMessage('A request has failed. See the output for more information.', 'Go to output').then(() => {\n            this.outputChannel.show(true);\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\n    }\n    onReady() {\n        return this._onReady;\n    }\n    isConnectionActive() {\n        return this.state === ClientState.Running && !!this._resolvedConnection;\n    }\n    start() {\n        if (this._onReadyCallbacks.isUsed) {\n            this._onReady = new Promise((resolve, reject) => {\n                this._onReadyCallbacks = new OnReady(resolve, reject);\n            });\n        }\n        this._listeners = [];\n        this._providers = [];\n        // If we restart then the diagnostics collection is reused.\n        if (!this._diagnostics) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        this.state = ClientState.Starting;\n        this.resolveConnection().then((connection) => {\n            connection.onLogMessage((message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onShowMessage((message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onTelemetry((data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                var _a;\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: true };\n                    }\n                };\n                const middleware = (_a = this._clientOptions.middleware.window) === null || _a === void 0 ? void 0 : _a.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            // Error is handled in the initialize call.\n            return this.initialize(connection);\n        }).then(undefined, (error) => {\n            this.state = ClientState.StartFailed;\n            this._onReadyCallbacks.reject(error);\n            this.error('Starting client failed', error);\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\n        });\n        return new vscode_1.Disposable(() => {\n            if (this.needsStop()) {\n                this.stop();\n            }\n        });\n    }\n    resolveConnection() {\n        if (!this._connectionPromise) {\n            this._connectionPromise = this.createConnection();\n        }\n        return this._connectionPromise;\n    }\n    initialize(connection) {\n        this.refreshTrace(connection, false);\n        let initOption = this._clientOptions.initializationOptions;\n        let rootPath = this._clientOptions.workspaceFolder\n            ? this._clientOptions.workspaceFolder.uri.fsPath\n            : this._clientGetRootPath();\n        let initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: null\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            return this.doInitialize(connection, initParams).then((result) => {\n                part.done();\n                return result;\n            }, (error) => {\n                part.cancel();\n                throw error;\n            });\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    doInitialize(connection, initParams) {\n        return connection.initialize(initParams).then((result) => {\n            this._resolvedConnection = connection;\n            this._initializeResult = result;\n            this.state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            this._onReadyCallbacks.resolve();\n            return result;\n        }).then(undefined, (error) => {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    this.initialize(connection);\n                }\n                else {\n                    this.stop();\n                    this._onReadyCallbacks.reject(error);\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        this.initialize(connection);\n                    }\n                    else {\n                        this.stop();\n                        this._onReadyCallbacks.reject(error);\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                this.stop();\n                this._onReadyCallbacks.reject(error);\n            }\n            throw error;\n        });\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop() {\n        this._initializeResult = undefined;\n        if (!this._connectionPromise) {\n            this.state = ClientState.Stopped;\n            return Promise.resolve();\n        }\n        if (this.state === ClientState.Stopping && this._onStop) {\n            return this._onStop;\n        }\n        this.state = ClientState.Stopping;\n        this.cleanUp(false);\n        // unhook listeners\n        return this._onStop = this.resolveConnection().then(connection => {\n            return connection.shutdown().then(() => {\n                connection.exit();\n                connection.end();\n                connection.dispose();\n                this.state = ClientState.Stopped;\n                this.cleanUpChannel();\n                this._onStop = undefined;\n                this._connectionPromise = undefined;\n                this._resolvedConnection = undefined;\n            });\n        });\n    }\n    cleanUp(channel = true, diagnostics = true) {\n        if (this._listeners) {\n            this._listeners.forEach(listener => listener.dispose());\n            this._listeners = undefined;\n        }\n        if (this._providers) {\n            this._providers.forEach(provider => provider.dispose());\n            this._providers = undefined;\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        for (const feature of this._features.values()) {\n            feature.dispose();\n        }\n        if (channel) {\n            this.cleanUpChannel();\n        }\n        if (diagnostics && this._diagnostics) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n    }\n    cleanUpChannel() {\n        if (this._outputChannel && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        var _a;\n        const client = this;\n        function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            client._fileEventDelayer.trigger(() => {\n                client.onReady().then(() => {\n                    client.resolveConnection().then(connection => {\n                        if (client.isConnectionActive()) {\n                            client.forceDocumentSync();\n                            connection.didChangeWatchedFiles({ changes: client._fileEvents });\n                        }\n                        client._fileEvents = [];\n                    });\n                }, (error) => {\n                    client.error(`Notify file events failed.`, error);\n                });\n            });\n        }\n        const workSpaceMiddleware = (_a = this.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        (workSpaceMiddleware === null || workSpaceMiddleware === void 0 ? void 0 : workSpaceMiddleware.didChangeWatchedFile) ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event);\n    }\n    forceDocumentSync() {\n        if (this._didChangeTextDocumentFeature === undefined) {\n            this._didChangeTextDocumentFeature = this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);\n        }\n        this._didChangeTextDocumentFeature.forceDelivery();\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        let uri = this._p2c.asUri(params.uri);\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\n        let middleware = this.clientOptions.middleware;\n        if (middleware.handleDiagnostics) {\n            middleware.handleDiagnostics(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n        }\n        else {\n            this.setDiagnostics(uri, diagnostics);\n        }\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count);\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed();\n        };\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        });\n    }\n    handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._resolvedConnection) {\n                this._resolvedConnection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let action = CloseAction.DoNotRestart;\n        try {\n            action = this._clientOptions.errorHandler.closed();\n        }\n        catch (error) {\n            // Ignore errors coming from the error handler.\n        }\n        this._connectionPromise = undefined;\n        this._resolvedConnection = undefined;\n        if (action === CloseAction.DoNotRestart) {\n            this.error('Connection to server got closed. Server will not be restarted.');\n            if (this.state === ClientState.Starting) {\n                this._onReadyCallbacks.reject(new Error(`Connection to server got closed. Server will not be restarted.`));\n                this.state = ClientState.StartFailed;\n            }\n            else {\n                this.state = ClientState.Stopped;\n            }\n            this.cleanUp(false, true);\n        }\n        else if (action === CloseAction.Restart) {\n            this.info('Connection to server got closed. Server will restart.');\n            this.cleanUp(false, false);\n            this.state = ClientState.Initial;\n            this.start();\n        }\n    }\n    handleConnectionError(error, message, count) {\n        let action = this._clientOptions.errorHandler.error(error, message, count);\n        if (action === ErrorAction.Shutdown) {\n            this.error('Connection to server is erroring. Shutting down server.');\n            this.stop();\n        }\n    }\n    hookConfigurationChanged(connection) {\n        vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        });\n    }\n    refreshTrace(connection, sendNotification = false) {\n        let config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    registerBuiltinFeatures() {\n        this.registerFeature(new ConfigurationFeature(this));\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\n        this.registerFeature(new WillSaveFeature(this));\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new CompletionItemFeature(this));\n        this.registerFeature(new HoverFeature(this));\n        this.registerFeature(new SignatureHelpFeature(this));\n        this.registerFeature(new DefinitionFeature(this));\n        this.registerFeature(new ReferencesFeature(this));\n        this.registerFeature(new DocumentHighlightFeature(this));\n        this.registerFeature(new DocumentSymbolFeature(this));\n        this.registerFeature(new WorkspaceSymbolFeature(this));\n        this.registerFeature(new CodeActionFeature(this));\n        this.registerFeature(new CodeLensFeature(this));\n        this.registerFeature(new DocumentFormattingFeature(this));\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new RenameFeature(this));\n        this.registerFeature(new DocumentLinkFeature(this));\n        this.registerFeature(new ExecuteCommandFeature(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        ensure(result, 'workspace').applyEdit = true;\n        const workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = ensure(ensure(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = ensure(result, 'window');\n        const showMessage = ensure(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = ensure(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = ensure(result, 'general');\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = { parser: 'marked', version: '1.1.0' };\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        let documentSelector = this._clientOptions.documentSelector;\n        for (let feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    handleRegistrationRequest(params) {\n        return new Promise((resolve, reject) => {\n            for (const registration of params.registrations) {\n                const feature = this._dynamicFeatures.get(registration.method);\n                if (feature === undefined) {\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n                    return;\n                }\n                const options = registration.registerOptions || {};\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\n                const data = {\n                    id: registration.id,\n                    registerOptions: options\n                };\n                try {\n                    feature.register(data);\n                }\n                catch (err) {\n                    reject(err);\n                    return;\n                }\n            }\n            resolve();\n        });\n    }\n    handleUnregistrationRequest(params) {\n        return new Promise((resolve, reject) => {\n            for (let unregistration of params.unregisterations) {\n                const feature = this._dynamicFeatures.get(unregistration.method);\n                if (!feature) {\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n                    return;\n                }\n                feature.unregister(unregistration.id);\n            }\n            resolve();\n        });\n    }\n    handleApplyWorkspaceEdit(params) {\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        let workspaceEdit = params.edit;\n        let openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, error, defaultValue) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled) {\n                throw this.makeCancelError();\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                return defaultValue;\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error);\n        throw error;\n    }\n    makeCancelError() {\n        const result = new Error(BaseLanguageClient.Canceled);\n        result.name = BaseLanguageClient.Canceled;\n        return result;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.Canceled = 'Canceled';\n//# sourceMappingURL=client.js.map","\"use strict\";\r\nvar Logging = (function () {\r\n    function Logging() {\r\n    }\r\n    Logging.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (Logging.enableDebug) {\r\n            console.info(Logging.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.warn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!Logging.disableWarnings) {\r\n            console.warn(Logging.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.enableDebug = false;\r\n    Logging.disableWarnings = false;\r\n    Logging.TAG = \"ApplicationInsights:\";\r\n    return Logging;\r\n}());\r\nmodule.exports = Logging;\r\n//# sourceMappingURL=Logging.js.map","module.exports = require(\"path\");","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./Constants\"));\r\n__export(require(\"./Generated\"));\r\n__export(require(\"./TelemetryTypes\"));\r\n//# sourceMappingURL=index.js.map","module.exports = require(\"fs\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * The abstract common base of all domains.\r\n */\r\nvar Domain = (function () {\r\n    function Domain() {\r\n    }\r\n    return Domain;\r\n}());\r\nmodule.exports = Domain;\r\n//# sourceMappingURL=Domain.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar url = require(\"url\");\r\nvar constants = require(\"constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\r\nvar Util = (function () {\r\n    function Util() {\r\n    }\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    Util.getCookie = function (name, cookie) {\r\n        var value = \"\";\r\n        if (name && name.length && typeof cookie === \"string\") {\r\n            var cookieName = name + \"=\";\r\n            var cookies = cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    Util.trim = function (str) {\r\n        if (typeof str === \"string\") {\r\n            return str.replace(/^\\s+|\\s+$/g, \"\");\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    };\r\n    /**\r\n     * Convert an array of int32 to Base64 (no '==' at the end).\r\n     * MSB first.\r\n     */\r\n    Util.int32ArrayToBase64 = function (array) {\r\n        var toChar = function (v, i) {\r\n            return String.fromCharCode((v >> i) & 0xFF);\r\n        };\r\n        var int32AsString = function (v) {\r\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\r\n        };\r\n        var x = array.map(int32AsString).join(\"\");\r\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\r\n        var s = b.toString(\"base64\");\r\n        return s.substr(0, s.indexOf(\"=\"));\r\n    };\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    Util.random32 = function () {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    };\r\n    /**\r\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\r\n     */\r\n    Util.randomu32 = function () {\r\n        return Util.random32() + 0x80000000;\r\n    };\r\n    /**\r\n     * generate W3C-compatible trace id\r\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\r\n     */\r\n    Util.w3cTraceId = function () {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                    hexValues[tmp >> 4 & 0xF] +\r\n                    hexValues[tmp >> 8 & 0xF] +\r\n                    hexValues[tmp >> 12 & 0xF] +\r\n                    hexValues[tmp >> 16 & 0xF] +\r\n                    hexValues[tmp >> 20 & 0xF] +\r\n                    hexValues[tmp >> 24 & 0xF] +\r\n                    hexValues[tmp >> 28 & 0xF];\r\n        }\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    };\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    Util.isArray = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    Util.isError = function (obj) {\r\n        return obj instanceof Error;\r\n    };\r\n    Util.isPrimitive = function (input) {\r\n        var propType = typeof input;\r\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    Util.isDate = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    };\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    Util.msToTimeSpan = function (totalms) {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        var daysText = days > 0 ? days + \".\" : \"\";\r\n        return daysText + hour + \":\" + min + \":\" + sec;\r\n    };\r\n    /**\r\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\r\n     * Simplify a generic Node Error into a simpler map for customDimensions\r\n     * Custom errors can still implement toJSON to override this functionality\r\n     */\r\n    Util.extractError = function (err) {\r\n        // Error is often subclassed so may have code OR id properties:\r\n        // https://nodejs.org/api/errors.html#errors_error_code\r\n        var looseError = err;\r\n        return {\r\n            message: err.message,\r\n            code: looseError.code || looseError.id || \"\",\r\n        };\r\n    };\r\n    /**\r\n     * Manually call toJSON if available to pre-convert the value.\r\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\r\n     * This avoids double escaping of quotes for Date objects, for example.\r\n     */\r\n    Util.extractObject = function (origProperty) {\r\n        if (origProperty instanceof Error) {\r\n            return Util.extractError(origProperty);\r\n        }\r\n        if (typeof origProperty.toJSON === \"function\") {\r\n            return origProperty.toJSON();\r\n        }\r\n        return origProperty;\r\n    };\r\n    /**\r\n     * Validate that an object is of type { [key: string]: string }\r\n     */\r\n    Util.validateStringMap = function (obj) {\r\n        if (typeof obj !== \"object\") {\r\n            Logging.info(\"Invalid properties dropped from payload\");\r\n            return;\r\n        }\r\n        var map = {};\r\n        for (var field in obj) {\r\n            var property = '';\r\n            var origProperty = obj[field];\r\n            var propType = typeof origProperty;\r\n            if (Util.isPrimitive(origProperty)) {\r\n                property = origProperty.toString();\r\n            }\r\n            else if (origProperty === null || propType === \"undefined\") {\r\n                property = \"\";\r\n            }\r\n            else if (propType === \"function\") {\r\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\r\n                continue;\r\n            }\r\n            else {\r\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\r\n                try {\r\n                    if (Util.isPrimitive(stringTarget)) {\r\n                        property = stringTarget;\r\n                    }\r\n                    else {\r\n                        property = JSON.stringify(stringTarget);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\r\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\r\n                }\r\n            }\r\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\r\n        }\r\n        return map;\r\n    };\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list\r\n     * and if it is safe to add correlation headers\r\n     */\r\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\r\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < excludedDomains.length; i++) {\r\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            if (regex.test(url.parse(requestUrl).hostname)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Util.getCorrelationContextTarget = function (response, key) {\r\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\r\n        if (contextHeaders) {\r\n            var keyValues = contextHeaders.split(\",\");\r\n            for (var i = 0; i < keyValues.length; ++i) {\r\n                var keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length == 2 && keyValue[0] == key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate request\r\n     *\r\n     * Proxify the request creation to handle proxy http\r\n     *\r\n     * @param {string} requestUrl url endpoint\r\n     * @param {Object} requestOptions Request option\r\n     * @param {Function} requestCallback callback on request\r\n     * @returns {http.ClientRequest} request object\r\n     */\r\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\r\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\r\n            requestUrl = 'https:' + requestUrl;\r\n        }\r\n        var requestUrlParsed = url.parse(requestUrl);\r\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\r\n        var proxyUrl = undefined;\r\n        if (requestUrlParsed.protocol === 'https:') {\r\n            proxyUrl = config.proxyHttpsUrl || undefined;\r\n        }\r\n        if (requestUrlParsed.protocol === 'http:') {\r\n            proxyUrl = config.proxyHttpUrl || undefined;\r\n        }\r\n        if (proxyUrl) {\r\n            if (proxyUrl.indexOf('//') === 0) {\r\n                proxyUrl = 'http:' + proxyUrl;\r\n            }\r\n            var proxyUrlParsed = url.parse(proxyUrl);\r\n            // https is not supported at the moment\r\n            if (proxyUrlParsed.protocol === 'https:') {\r\n                Logging.info(\"Proxies that use HTTPS are not supported\");\r\n                proxyUrl = undefined;\r\n            }\r\n            else {\r\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\r\n            }\r\n        }\r\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\r\n        if (isHttps && config.httpsAgent !== undefined) {\r\n            options.agent = config.httpsAgent;\r\n        }\r\n        else if (!isHttps && config.httpAgent !== undefined) {\r\n            options.agent = config.httpAgent;\r\n        }\r\n        else if (isHttps) {\r\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\r\n            options.agent = Util.tlsRestrictedAgent;\r\n        }\r\n        if (isHttps) {\r\n            return https.request(options, requestCallback);\r\n        }\r\n        else {\r\n            return http.request(options, requestCallback);\r\n        }\r\n    };\r\n    ;\r\n    Util.MAX_PROPERTY_LENGTH = 8192;\r\n    Util.tlsRestrictedAgent = new https.Agent({\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    return Util;\r\n}());\r\nmodule.exports = Util;\r\n//# sourceMappingURL=Util.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n//# sourceMappingURL=is.js.map","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super(ril_1.default().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super(ril_1.default().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        ril_1.default().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = net_1.createConnection(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = net_1.createConnection(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return api_1.createMessageConnection(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                ral_1.default().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","module.exports = require(\"os\");","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Logging = require(\"../Library/Logging\");\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar CorrelationContextManager = (function () {\r\n    function CorrelationContextManager() {\r\n    }\r\n    /**\r\n     *  Provides the current Context.\r\n     *  The context is the most recent one entered into for the current\r\n     *  logical chain of execution, including across asynchronous calls.\r\n     */\r\n    CorrelationContextManager.getCurrentContext = function () {\r\n        if (!CorrelationContextManager.enabled) {\r\n            return null;\r\n        }\r\n        return Zone.current.get(\"context\");\r\n    };\r\n    /**\r\n     *  A helper to generate objects conforming to the CorrelationContext interface\r\n     */\r\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader) {\r\n        parentId = parentId || operationId;\r\n        if (this.enabled) {\r\n            return {\r\n                operation: {\r\n                    name: operationName,\r\n                    id: operationId,\r\n                    parentId: parentId\r\n                },\r\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     *  Runs a function inside a given Context.\r\n     *  All logical children of the execution path that entered this Context\r\n     *  will receive this Context object on calls to GetCurrentContext.\r\n     */\r\n    CorrelationContextManager.runWithContext = function (context, fn) {\r\n        if (CorrelationContextManager.enabled) {\r\n            var newZone = Zone.current.fork({\r\n                name: \"AI-\" + ((context && context.operation.parentId) || \"Unknown\"),\r\n                properties: { context: context }\r\n            });\r\n            newZone.run(fn);\r\n        }\r\n        else {\r\n            fn();\r\n        }\r\n    };\r\n    /**\r\n     *  Patches a callback to restore the correct Context when getCurrentContext\r\n     *  is run within it. This is necessary if automatic correlation fails to work\r\n     *  with user-included libraries.\r\n     *\r\n     *  The supplied callback will be given the same context that was present for\r\n     *  the call to wrapCallback.  */\r\n    CorrelationContextManager.wrapCallback = function (fn) {\r\n        if (CorrelationContextManager.enabled) {\r\n            return Zone.current.wrap(fn, \"User-wrapped method\");\r\n        }\r\n        return fn;\r\n    };\r\n    /**\r\n     *  Enables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.enable = function () {\r\n        if (this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.isNodeVersionCompatible()) {\r\n            this.enabled = false;\r\n            return;\r\n        }\r\n        // Run patches for Zone.js\r\n        if (!CorrelationContextManager.hasEverEnabled) {\r\n            this.hasEverEnabled = true;\r\n            // Load in Zone.js\r\n            try {\r\n                // Require zone if we can't detect its presence - guarded because of issue #346\r\n                // Note that usually multiple requires of zone.js does not error - but we see reports of it happening\r\n                // in the Azure Functions environment.\r\n                // This indicates that the file is being included multiple times in the same global scope,\r\n                // averting require's cache somehow.\r\n                if (typeof Zone === \"undefined\") {\r\n                    require(\"zone.js\");\r\n                }\r\n            }\r\n            catch (e) {\r\n                // Zone was already loaded even though we couldn't find its global variable\r\n                Logging.warn(\"Failed to require zone.js\");\r\n            }\r\n            DiagChannel.registerContextPreservation(function (cb) {\r\n                return Zone.current.wrap(cb, \"AI-ContextPreservation\");\r\n            });\r\n            this.patchError();\r\n            this.patchTimers([\"setTimeout\", \"setInterval\"]);\r\n        }\r\n        this.enabled = true;\r\n    };\r\n    /**\r\n     *  Disables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.disable = function () {\r\n        this.enabled = false;\r\n    };\r\n    /**\r\n     *  Reports if the CorrelationContextManager is able to run in this environment\r\n     */\r\n    CorrelationContextManager.isNodeVersionCompatible = function () {\r\n        // Unit tests warn of errors < 3.3 from timer patching. All versions before 4 were 0.x\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\r\n    };\r\n    // Zone.js breaks concatenation of timer return values.\r\n    // This fixes that.\r\n    CorrelationContextManager.patchTimers = function (methodNames) {\r\n        methodNames.forEach(function (methodName) {\r\n            var orig = global[methodName];\r\n            global[methodName] = function () {\r\n                var ret = orig.apply(this, arguments);\r\n                ret.toString = function () {\r\n                    if (this.data && typeof this.data.handleId !== 'undefined') {\r\n                        return this.data.handleId.toString();\r\n                    }\r\n                    else {\r\n                        return Object.prototype.toString.call(this);\r\n                    }\r\n                };\r\n                return ret;\r\n            };\r\n        });\r\n    };\r\n    // Zone.js breaks deepEqual on error objects (by making internal properties enumerable).\r\n    // This fixes that by subclassing the error object and making all properties not enumerable\r\n    CorrelationContextManager.patchError = function () {\r\n        var orig = global.Error;\r\n        // New error handler\r\n        function AppInsightsAsyncCorrelatedErrorWrapper() {\r\n            if (!(this instanceof AppInsightsAsyncCorrelatedErrorWrapper)) {\r\n                return AppInsightsAsyncCorrelatedErrorWrapper.apply(Object.create(AppInsightsAsyncCorrelatedErrorWrapper.prototype), arguments);\r\n            }\r\n            // Is this object set to rewrite the stack?\r\n            // If so, we should turn off some Zone stuff that is prone to break\r\n            var stackRewrite = orig.stackRewrite;\r\n            if (orig.prepareStackTrace) {\r\n                orig.stackRewrite = false;\r\n                var stackTrace = orig.prepareStackTrace;\r\n                orig.prepareStackTrace = function (e, s) {\r\n                    // Remove some AI and Zone methods from the stack trace\r\n                    // Otherwise we leave side-effects\r\n                    // Algorithm is to find the first frame on the stack after the first instance(s)\r\n                    // of AutoCollection/CorrelationContextManager\r\n                    // Eg. this should return the User frame on an array like below:\r\n                    //  Zone | Zone | CorrelationContextManager | CorrelationContextManager | User\r\n                    var foundOne = false;\r\n                    for (var i = 0; i < s.length; i++) {\r\n                        var fileName = s[i].getFileName();\r\n                        if (fileName) {\r\n                            if (fileName.indexOf(\"AutoCollection/CorrelationContextManager\") === -1 &&\r\n                                fileName.indexOf(\"AutoCollection\\\\CorrelationContextManager\") === -1) {\r\n                                if (foundOne) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            else {\r\n                                foundOne = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    // Loop above goes one extra step\r\n                    i = Math.max(0, i - 1);\r\n                    if (foundOne) {\r\n                        s.splice(0, i);\r\n                    }\r\n                    return stackTrace(e, s);\r\n                };\r\n            }\r\n            // Apply the error constructor\r\n            orig.apply(this, arguments);\r\n            // Restore Zone stack rewriting settings\r\n            orig.stackRewrite = stackRewrite;\r\n            // Remove unexpected bits from stack trace\r\n            if (this.stack && typeof this.stack === \"string\") {\r\n                var stackFrames = this.stack.split(\"\\n\");\r\n                // Remove this class\r\n                if (stackFrames.length > 3) {\r\n                    if (stackFrames[2].trim().indexOf(\"at Error.AppInsightsAsyncCorrelatedErrorWrapper\") === 0) {\r\n                        stackFrames.splice(2, 1);\r\n                    }\r\n                    else if (stackFrames[1].trim().indexOf(\"at AppInsightsAsyncCorrelatedErrorWrapper.ZoneAwareError\") === 0\r\n                        && stackFrames[2].trim().indexOf(\"at new AppInsightsAsyncCorrelatedErrorWrapper\") === 0) {\r\n                        stackFrames.splice(1, 2);\r\n                    }\r\n                }\r\n                // Remove AI correlation ids\r\n                this.stack = stackFrames.map(function (v) {\r\n                    var startIndex = v.indexOf(\") [\");\r\n                    if (startIndex > -1) {\r\n                        v = v.substr(0, startIndex + 1);\r\n                    }\r\n                    return v;\r\n                }).join(\"\\n\");\r\n            }\r\n            // getOwnPropertyNames should be a superset of Object.keys...\r\n            // This appears to not always be the case\r\n            var props = Object.getOwnPropertyNames(this).concat(Object.keys(this));\r\n            // Zone.js will automatically create some hidden properties at read time.\r\n            // We need to proactively make those not enumerable as well as the currently visible properties\r\n            for (var i = 0; i < props.length; i++) {\r\n                var propertyName = props[i];\r\n                var hiddenPropertyName = Zone['__symbol__'](propertyName);\r\n                Object.defineProperty(this, propertyName, { enumerable: false });\r\n                Object.defineProperty(this, hiddenPropertyName, { enumerable: false, writable: true });\r\n            }\r\n            return this;\r\n        }\r\n        // Inherit from the Zone.js error handler\r\n        AppInsightsAsyncCorrelatedErrorWrapper.prototype = orig.prototype;\r\n        // We need this loop to copy outer methods like Error.captureStackTrace\r\n        var props = Object.getOwnPropertyNames(orig);\r\n        for (var i = 0; i < props.length; i++) {\r\n            var propertyName = props[i];\r\n            if (!AppInsightsAsyncCorrelatedErrorWrapper[propertyName]) {\r\n                Object.defineProperty(AppInsightsAsyncCorrelatedErrorWrapper, propertyName, Object.getOwnPropertyDescriptor(orig, propertyName));\r\n            }\r\n        }\r\n        // explicit cast to <any> required to avoid type error for captureStackTrace\r\n        // with latest node.d.ts (despite workaround above)\r\n        global.Error = AppInsightsAsyncCorrelatedErrorWrapper;\r\n    };\r\n    CorrelationContextManager.enabled = false;\r\n    CorrelationContextManager.hasEverEnabled = false;\r\n    return CorrelationContextManager;\r\n}());\r\nexports.CorrelationContextManager = CorrelationContextManager;\r\nvar CustomPropertiesImpl = (function () {\r\n    function CustomPropertiesImpl(header) {\r\n        this.props = [];\r\n        this.addHeaderData(header);\r\n    }\r\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\r\n        var keyvals = header ? header.split(\", \") : [];\r\n        this.props = keyvals.map(function (keyval) {\r\n            var parts = keyval.split(\"=\");\r\n            return { key: parts[0], value: parts[1] };\r\n        }).concat(this.props);\r\n    };\r\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\r\n        return this.props.map(function (keyval) {\r\n            return keyval.key + \"=\" + keyval.value;\r\n        }).join(\", \");\r\n    };\r\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                return keyval.value;\r\n            }\r\n        }\r\n        return;\r\n    };\r\n    // TODO: Strictly according to the spec, properties which are recieved from\r\n    // an incoming request should be left untouched, while we may add our own new\r\n    // properties. The logic here will need to change to track that.\r\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\r\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\r\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                keyval.value = val;\r\n                return;\r\n            }\r\n        }\r\n        this.props.push({ key: prop, value: val });\r\n    };\r\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\r\n    return CustomPropertiesImpl;\r\n}());\r\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\r\nmodule.exports = {\r\n    /**\r\n     * Request-Context header\r\n     */\r\n    requestContextHeader: \"request-context\",\r\n    /**\r\n     * Source instrumentation header that is added by an application while making http\r\n     * requests and retrieved by the other application when processing incoming requests.\r\n     */\r\n    requestContextSourceKey: \"appId\",\r\n    /**\r\n     * Target instrumentation header that is added to the response and retrieved by the\r\n     * calling application when processing incoming responses.\r\n     */\r\n    requestContextTargetKey: \"appId\",\r\n    /**\r\n     * Request-Id header\r\n     */\r\n    requestIdHeader: \"request-id\",\r\n    /**\r\n     * Legacy Header containing the id of the immidiate caller\r\n     */\r\n    parentIdHeader: \"x-ms-request-id\",\r\n    /**\r\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\r\n     * accross transactions\r\n     */\r\n    rootIdHeader: \"x-ms-request-root-id\",\r\n    /**\r\n     * Correlation-Context header\r\n     *\r\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\r\n     */\r\n    correlationContextHeader: \"correlation-context\"\r\n};\r\n//# sourceMappingURL=RequestResponseHeaders.js.map","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","module.exports = require(\"url\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst SemVer = require(\"semver\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst commonClient_1 = require(\"../common/commonClient\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.52.0'; // do not change format, updated by `updateVSCode` script\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        let candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== void 0 && candidate.reader !== void 0;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== void 0 && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends commonClient_1.CommonLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === void 0) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        let codeVersion = SemVer.parse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    stop() {\n        return super.stop().then(() => {\n            if (this._serverProcess) {\n                let toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === void 0 || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                process.kill(childProcess.pid, 0);\n                processes_1.terminate(childProcess);\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            let result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        let server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n            }\n            else {\n                json = runDebug.run;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    let args = [];\n                    let options = node.options || Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = node_1.generateRandomPipeName();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        let serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return Promise.reject(`Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return node_1.createClientPipeTransport(pipeName).then((transport) => {\n                            let process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return Promise.reject(`Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return node_1.createClientSocketTransport(transport.port).then((transport) => {\n                            let process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return Promise.reject(`Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, _reject) => {\n                        let args = node.args && node.args.slice() || [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = node_1.generateRandomPipeName();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        let options = node.options || Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            let sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            node_1.createClientPipeTransport(pipeName).then((transport) => {\n                                let sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                });\n                            });\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            node_1.createClientSocketTransport(transport.port).then((transport) => {\n                                let sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                });\n                            });\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                let command = json;\n                let args = command.args || [];\n                let options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                let serverProcess = cp.spawn(command.command, args, options);\n                if (!serverProcess || !serverProcess.pid) {\n                    return Promise.reject(`Launching server using command ${command.command} failed.`);\n                }\n                serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                this._serverProcess = serverProcess;\n                this._isDetached = !!options.detached;\n                return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n    getLocale() {\n        const envValue = process.env['VSCODE_NLS_CONFIG'];\n        if (envValue === undefined) {\n            return 'en';\n        }\n        let config = undefined;\n        try {\n            config = JSON.parse(envValue);\n        }\n        catch (err) {\n        }\n        if (config === undefined || typeof config.locale !== 'string') {\n            return 'en';\n        }\n        return config.locale;\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start();\n        }\n        else if (!enabled && this._client.needsStop()) {\n            this._client.stop();\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\n//# sourceMappingURL=main.js.map","module.exports = require(\"child_process\");","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\r\nif (exports.IsInitialized) {\r\n    var publishers = require(\"diagnostic-channel-publishers\");\r\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\r\n    var unpatchedModules = individualOptOuts.split(\",\");\r\n    var modules = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston\r\n    };\r\n    for (var mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n        }\r\n    }\r\n}\r\nfunction registerContextPreservation(cb) {\r\n    if (!exports.IsInitialized) {\r\n        return;\r\n    }\r\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\r\n}\r\nexports.registerContextPreservation = registerContextPreservation;\r\n//# sourceMappingURL=initialization.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar AutoCollectHttpDependencies = (function () {\r\n    function AutoCollectHttpDependencies(client) {\r\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\r\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpDependencies.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._initialize();\r\n        }\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpDependencies.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var originalGet = http.get;\r\n        var originalRequest = http.request;\r\n        var originalHttpsRequest = https.request;\r\n        var clientRequestPatch = function (request, options) {\r\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\r\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\r\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\r\n            if (request && options && shouldCollect) {\r\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n            }\r\n        };\r\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\r\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\r\n        // Patch both and leave a flag to not double-count on versions that just call through\r\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\r\n        http.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        https.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        // Node 8 calls http.request from http.get using a local reference!\r\n        // We have to patch .get manually in this case and can't just assume request is enough\r\n        // We have to replace the entire method in this case. We can't call the original.\r\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\r\n        http.get = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\r\n            request.end();\r\n            return request;\r\n            var _a;\r\n        };\r\n        https.get = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\r\n            request.end();\r\n            return request;\r\n            var _a;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks an outgoing request. Because it may set headers this method must be called before\r\n     * writing content to or ending the request.\r\n     */\r\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\r\n        if (!telemetry.options || !telemetry.request || !client) {\r\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\r\n            return;\r\n        }\r\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\r\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\r\n        // Add the source correlationId to the request headers, if a value was not already provided.\r\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\r\n        // are not included in the v0.10 type declarations currently used. So check if the\r\n        // methods exist before invoking them.\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\r\n            if (client.config && client.config.correlationId) {\r\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\r\n                if (correlationHeader) {\r\n                    var components = correlationHeader.split(\",\");\r\n                    var key_1 = RequestResponseHeaders.requestContextSourceKey + \"=\";\r\n                    if (!components.some(function (value) { return value.substring(0, key_1.length) === key_1; })) {\r\n                        telemetry.request.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n                    }\r\n                }\r\n                else {\r\n                    telemetry.request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n                }\r\n            }\r\n            if (currentContext && currentContext.operation) {\r\n                telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\r\n                // Also set legacy headers\r\n                telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\r\n                telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\r\n                var correlationContextHeader = currentContext.customProperties.serializeToHeader();\r\n                if (correlationContextHeader) {\r\n                    telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\r\n                }\r\n            }\r\n        }\r\n        // Collect dependency telemetry about the request when it finishes.\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on('response', function (response) {\r\n                requestParser.onResponse(response);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on('error', function (e) {\r\n                requestParser.onError(e);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.dispose = function () {\r\n        AutoCollectHttpDependencies.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\r\n    AutoCollectHttpDependencies.requestNumber = 1;\r\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\r\n    return AutoCollectHttpDependencies;\r\n}());\r\nmodule.exports = AutoCollectHttpDependencies;\r\n//# sourceMappingURL=HttpDependencies.js.map","module.exports = require(\"http\");","module.exports = require(\"https\");","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar CorrelationIdManager = (function () {\r\n    function CorrelationIdManager() {\r\n    }\r\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\r\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\r\n        // If it 404s, the iKey is bad and we should give up\r\n        // If it fails otherwise, try again later\r\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\r\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\r\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\r\n            return;\r\n        }\r\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\r\n            return;\r\n        }\r\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\r\n        var fetchAppId = function () {\r\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                // This query has been cancelled.\r\n                return;\r\n            }\r\n            var requestOptions = {\r\n                method: 'GET',\r\n                // Ensure this request is not captured by auto-collection.\r\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\r\n                disableAppInsightsAutoCollection: true\r\n            };\r\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\r\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\r\n                if (res.statusCode === 200) {\r\n                    // Success; extract the appId from the body\r\n                    var appId_1 = \"\";\r\n                    res.setEncoding(\"utf-8\");\r\n                    res.on('data', function (data) {\r\n                        appId_1 += data;\r\n                    });\r\n                    res.on('end', function () {\r\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\r\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\r\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\r\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\r\n                        }\r\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                    });\r\n                }\r\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\r\n                    // Not found, probably a bad key. Do not try again.\r\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\r\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                }\r\n                else {\r\n                    // Retry after timeout.\r\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\r\n                }\r\n            });\r\n            if (req) {\r\n                req.on('error', function (error) {\r\n                    // Unable to contact endpoint.\r\n                    // Do nothing for now.\r\n                    Logging.warn(CorrelationIdManager.TAG, error);\r\n                });\r\n                req.end();\r\n            }\r\n        };\r\n        setTimeout(fetchAppId, 0);\r\n    };\r\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\r\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\r\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\r\n        if (pendingLookups) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\r\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\r\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    CorrelationIdManager.generateRequestId = function (parentId) {\r\n        if (parentId) {\r\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\r\n            if (parentId[parentId.length - 1] !== '.') {\r\n                parentId += '.';\r\n            }\r\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\r\n        }\r\n        else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    };\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    CorrelationIdManager.getRootId = function (id) {\r\n        var endIndex = id.indexOf('.');\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n        var startIndex = id[0] === '|' ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    };\r\n    CorrelationIdManager.generateRootId = function () {\r\n        return '|' + Util.w3cTraceId() + '.';\r\n    };\r\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for (; trimPosition > 1; --trimPosition) {\r\n                var c = parentId[trimPosition - 1];\r\n                if (c === '.' || c === '_') {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = '0' + suffix;\r\n        }\r\n        return parentId.substring(0, trimPosition) + suffix + '#';\r\n    };\r\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\r\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\r\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\r\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\r\n    CorrelationIdManager.pendingLookups = {};\r\n    CorrelationIdManager.completedLookups = {};\r\n    CorrelationIdManager.requestIdMaxLength = 1024;\r\n    CorrelationIdManager.currentRootId = Util.randomu32();\r\n    return CorrelationIdManager;\r\n}());\r\nmodule.exports = CorrelationIdManager;\r\n//# sourceMappingURL=CorrelationIdManager.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Uri, workspace } from 'vscode';\nimport { RequestType, CommonLanguageClient } from 'vscode-languageclient';\nimport { Runtime } from './htmlClient';\n\nexport namespace FsContentRequest {\n\texport const type: RequestType<{ uri: string; encoding?: string; }, string, any> = new RequestType('fs/content');\n}\nexport namespace FsStatRequest {\n\texport const type: RequestType<string, FileStat, any> = new RequestType('fs/stat');\n}\n\nexport namespace FsReadDirRequest {\n\texport const type: RequestType<string, [string, FileType][], any> = new RequestType('fs/readDir');\n}\n\nexport function serveFileSystemRequests(client: CommonLanguageClient, runtime: Runtime) {\n\tclient.onRequest(FsContentRequest.type, (param: { uri: string; encoding?: string; }) => {\n\t\tconst uri = Uri.parse(param.uri);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.getContent(param.uri);\n\t\t}\n\t\treturn workspace.fs.readFile(uri).then(buffer => {\n\t\t\treturn new runtime.TextDecoder(param.encoding).decode(buffer);\n\t\t});\n\t});\n\tclient.onRequest(FsReadDirRequest.type, (uriString: string) => {\n\t\tconst uri = Uri.parse(uriString);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.readDirectory(uriString);\n\t\t}\n\t\treturn workspace.fs.readDirectory(uri);\n\t});\n\tclient.onRequest(FsStatRequest.type, (uriString: string) => {\n\t\tconst uri = Uri.parse(uriString);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.stat(uriString);\n\t\t}\n\t\treturn workspace.fs.stat(uri);\n\t});\n}\n\nexport enum FileType {\n\t/**\n\t * The file type is unknown.\n\t */\n\tUnknown = 0,\n\t/**\n\t * A regular file.\n\t */\n\tFile = 1,\n\t/**\n\t * A directory.\n\t */\n\tDirectory = 2,\n\t/**\n\t * A symbolic link to a file.\n\t */\n\tSymbolicLink = 64\n}\nexport interface FileStat {\n\t/**\n\t * The type of the file, e.g. is a regular file, a directory, or symbolic link\n\t * to a file.\n\t */\n\ttype: FileType;\n\t/**\n\t * The creation timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n\t */\n\tctime: number;\n\t/**\n\t * The modification timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n\t */\n\tmtime: number;\n\t/**\n\t * The size in bytes.\n\t */\n\tsize: number;\n}\n\nexport interface RequestService {\n\tgetContent(uri: string, encoding?: string): Promise<string>;\n\n\tstat(uri: string): Promise<FileStat>;\n\treadDirectory(uri: string): Promise<[string, FileType][]>;\n}\n\nexport function getScheme(uri: string) {\n\treturn uri.substr(0, uri.indexOf(':'));\n}\n\nexport function dirname(uri: string) {\n\tconst lastIndexOfSlash = uri.lastIndexOf('/');\n\treturn lastIndexOfSlash !== -1 ? uri.substr(0, lastIndexOfSlash) : '';\n}\n\nexport function basename(uri: string) {\n\tconst lastIndexOfSlash = uri.lastIndexOf('/');\n\treturn uri.substr(lastIndexOfSlash + 1);\n}\n\nconst Slash = '/'.charCodeAt(0);\nconst Dot = '.'.charCodeAt(0);\n\nexport function isAbsolutePath(path: string) {\n\treturn path.charCodeAt(0) === Slash;\n}\n\nexport function resolvePath(uri: Uri, path: string): Uri {\n\tif (isAbsolutePath(path)) {\n\t\treturn uri.with({ path: normalizePath(path.split('/')) });\n\t}\n\treturn joinPath(uri, path);\n}\n\nexport function normalizePath(parts: string[]): string {\n\tconst newParts: string[] = [];\n\tfor (const part of parts) {\n\t\tif (part.length === 0 || part.length === 1 && part.charCodeAt(0) === Dot) {\n\t\t\t// ignore\n\t\t} else if (part.length === 2 && part.charCodeAt(0) === Dot && part.charCodeAt(1) === Dot) {\n\t\t\tnewParts.pop();\n\t\t} else {\n\t\t\tnewParts.push(part);\n\t\t}\n\t}\n\tif (parts.length > 1 && parts[parts.length - 1].length === 0) {\n\t\tnewParts.push('');\n\t}\n\tlet res = newParts.join('/');\n\tif (parts[0].length === 0) {\n\t\tres = '/' + res;\n\t}\n\treturn res;\n}\n\n\nexport function joinPath(uri: Uri, ...paths: string[]): Uri {\n\tconst parts = uri.path.split('/');\n\tfor (let path of paths) {\n\t\tparts.push(...path.split('/'));\n\t}\n\treturn uri.with({ path: normalizePath(parts) });\n}\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.CommonLanguageClient = void 0;\nconst client_1 = require(\"./client\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst configuration_1 = require(\"./configuration\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nclass CommonLanguageClient extends client_1.BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        super(id, name, clientOptions);\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    registerBuiltinFeatures() {\n        super.registerBuiltinFeatures();\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n    }\n}\nexports.CommonLanguageClient = CommonLanguageClient;\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=commonClient.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","module.exports = require(\"util\");","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.RAL = void 0;\nexports.CancellationStrategy = void 0;\nconst messages_1 = require(\"../common/messages\");\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst disposable_1 = require(\"../common/disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"../common/events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"../common/cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"../common/messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"../common/messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"../common/connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isResponseMessage = exports.isNotificationMessage = exports.isRequestMessage = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = ErrorCodes.jsonrpcReservedErrorRangeStart;\n    ErrorCodes.MessageWriteError = -32099;\n    ErrorCodes.MessageReadError = -32098;\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = ErrorCodes.jsonrpcReservedErrorRangeEnd;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        return {\n            code: this.code,\n            message: this.message,\n            data: this.data,\n        };\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\n/**\n * Tests if the given message is a request message\n */\nfunction isRequestMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n}\nexports.isRequestMessage = isRequestMessage;\n/**\n * Tests if the given message is a notification message\n */\nfunction isNotificationMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && message.id === void 0;\n}\nexports.isNotificationMessage = isNotificationMessage;\n/**\n * Tests if the given message is a response message\n */\nfunction isResponseMessage(message) {\n    const candidate = message;\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n}\nexports.isResponseMessage = isResponseMessage;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","module.exports = require(\"crypto\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass ConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    dispose() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n//# sourceMappingURL=protocolCodeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n//# sourceMappingURL=protocolDiagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n//# sourceMappingURL=protocolCallHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._disposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            this._progress = progress;\n            this._infinite = params.percentage === undefined;\n            this._cancellationToken = cancellationToken;\n            this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            let percentage = Math.max(0, Math.min(params.percentage, 100));\n            let delta = Math.max(0, percentage - this._reported);\n            this._progress.report({ message: params.message, increment: delta });\n            this._reported += delta;\n        }\n    }\n    cancel() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = undefined;\n        }\n        if (this._reject) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = undefined;\n        }\n        if (this._resolve) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n}\nexports.ProgressPart = ProgressPart;\n//# sourceMappingURL=progressPart.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(\"No runtime abstraction layer installed\");\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(\"No runtime abstraction layer provided\");\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.localize = exports.format = exports.setPseudo = exports.isPseudo = exports.isDefined = exports.BundleFormat = exports.MessageFormat = void 0;\nvar ral_1 = require(\"./ral\");\nvar MessageFormat;\n(function (MessageFormat) {\n    MessageFormat[\"file\"] = \"file\";\n    MessageFormat[\"bundle\"] = \"bundle\";\n    MessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nvar BundleFormat;\n(function (BundleFormat) {\n    // the nls.bundle format\n    BundleFormat[\"standalone\"] = \"standalone\";\n    BundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\nvar LocalizeInfo;\n(function (LocalizeInfo) {\n    function is(value) {\n        var candidate = value;\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\n    }\n    LocalizeInfo.is = is;\n})(LocalizeInfo || (LocalizeInfo = {}));\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexports.isDefined = isDefined;\nexports.isPseudo = false;\nfunction setPseudo(pseudo) {\n    exports.isPseudo = pseudo;\n}\nexports.setPseudo = setPseudo;\nfunction format(message, args) {\n    var result;\n    if (exports.isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            var arg = args[index];\n            var replacement = match;\n            if (typeof arg === 'string') {\n                replacement = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                replacement = String(arg);\n            }\n            return replacement;\n        });\n    }\n    return result;\n}\nexports.format = format;\nfunction localize(_key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexports.localize = localize;\nfunction loadMessageBundle(file) {\n    return ral_1.default().loadMessageBundle(file);\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    return ral_1.default().config(opts);\n}\nexports.config = config;\n//# sourceMappingURL=common.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","module.exports = require(\"module\");","module.exports = require(\"events\");","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AvailabilityData = require(\"./AvailabilityData\");\r\nexports.Base = require(\"./Base\");\r\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\r\nexports.Data = require(\"./Data\");\r\nexports.DataPoint = require(\"./DataPoint\");\r\nexports.DataPointType = require(\"./DataPointType\");\r\nexports.Domain = require(\"./Domain\");\r\nexports.Envelope = require(\"./Envelope\");\r\nexports.EventData = require(\"./EventData\");\r\nexports.ExceptionData = require(\"./ExceptionData\");\r\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\r\nexports.MessageData = require(\"./MessageData\");\r\nexports.MetricData = require(\"./MetricData\");\r\nexports.PageViewData = require(\"./PageViewData\");\r\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\r\nexports.RequestData = require(\"./RequestData\");\r\nexports.SeverityLevel = require(\"./SeverityLevel\");\r\nexports.StackFrame = require(\"./StackFrame\");\r\n//# sourceMappingURL=index.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Data struct to contain only C section with custom fields.\r\n */\r\nvar Base = (function () {\r\n    function Base() {\r\n    }\r\n    return Base;\r\n}());\r\nmodule.exports = Base;\r\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Type of the metric data measurement.\r\n */\r\nvar DataPointType;\r\n(function (DataPointType) {\r\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\r\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\r\n})(DataPointType || (DataPointType = {}));\r\nmodule.exports = DataPointType;\r\n//# sourceMappingURL=DataPointType.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n */\r\nvar EventData = (function (_super) {\r\n    __extends(EventData, _super);\r\n    function EventData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return EventData;\r\n}(Domain));\r\nmodule.exports = EventData;\r\n//# sourceMappingURL=EventData.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar AutoCollectPerformance = (function () {\r\n    function AutoCollectPerformance(client) {\r\n        if (!!AutoCollectPerformance.INSTANCE) {\r\n            throw new Error(\"Performance tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectPerformance.INSTANCE = this;\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n    }\r\n    AutoCollectPerformance.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._lastCpus = os.cpus();\r\n                this._lastRequests = {\r\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n                    time: +new Date\r\n                };\r\n                if (typeof process.cpuUsage === 'function') {\r\n                    this._lastAppCpuUsage = process.cpuUsage();\r\n                }\r\n                this._lastHrtime = process.hrtime();\r\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, 60000);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPerformance.countRequest = function (request, response) {\r\n        var _this = this;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        var start = +new Date;\r\n        if (!request || !response) {\r\n            Logging.warn(\"AutoCollectPerformance.countRequest was called with invalid parameters: \", !!request, !!response);\r\n            return;\r\n        }\r\n        // response listeners\r\n        if (typeof response.once === \"function\") {\r\n            response.once(\"finish\", function () {\r\n                var end = +new Date;\r\n                _this._lastRequestExecutionTime = end - start;\r\n                AutoCollectPerformance._totalRequestCount++;\r\n                if (response.statusCode >= 400) {\r\n                    AutoCollectPerformance._totalFailedRequestCount++;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPerformance.isEnabled = function () {\r\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPerformance.prototype.trackPerformance = function () {\r\n        this._trackCpu();\r\n        this._trackMemory();\r\n        this._trackNetwork();\r\n    };\r\n    AutoCollectPerformance.prototype._trackCpu = function () {\r\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\r\n        // to find the delta since the last measurement\r\n        var cpus = os.cpus();\r\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\r\n            var totalUser = 0;\r\n            var totalSys = 0;\r\n            var totalNice = 0;\r\n            var totalIdle = 0;\r\n            var totalIrq = 0;\r\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\r\n                var cpu = cpus[i];\r\n                var lastCpu = this._lastCpus[i];\r\n                var name = \"% cpu(\" + i + \") \";\r\n                var model = cpu.model;\r\n                var speed = cpu.speed;\r\n                var times = cpu.times;\r\n                var lastTimes = lastCpu.times;\r\n                // user cpu time (or) % CPU time spent in user space\r\n                var user = (times.user - lastTimes.user) || 0;\r\n                totalUser += user;\r\n                // system cpu time (or) % CPU time spent in kernel space\r\n                var sys = (times.sys - lastTimes.sys) || 0;\r\n                totalSys += sys;\r\n                // user nice cpu time (or) % CPU time spent on low priority processes\r\n                var nice = (times.nice - lastTimes.nice) || 0;\r\n                totalNice += nice;\r\n                // idle cpu time (or) % CPU time spent idle\r\n                var idle = (times.idle - lastTimes.idle) || 0;\r\n                totalIdle += idle;\r\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\r\n                var irq = (times.irq - lastTimes.irq) || 0;\r\n                totalIrq += irq;\r\n            }\r\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\r\n            var appCpuPercent = undefined;\r\n            if (typeof process.cpuUsage === 'function') {\r\n                var appCpuUsage = process.cpuUsage();\r\n                var hrtime = process.hrtime();\r\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\r\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\r\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\r\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\r\n                }\r\n                // Set previous\r\n                this._lastAppCpuUsage = appCpuUsage;\r\n                this._lastHrtime = hrtime;\r\n            }\r\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\r\n            this._client.trackMetric({ name: \"\\\\Processor(_Total)\\\\% Processor Time\", value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\r\n            this._client.trackMetric({ name: \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\", value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\r\n        }\r\n        this._lastCpus = cpus;\r\n    };\r\n    AutoCollectPerformance.prototype._trackMemory = function () {\r\n        var freeMem = os.freemem();\r\n        var usedMem = process.memoryUsage().rss;\r\n        this._client.trackMetric({ name: \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\", value: usedMem });\r\n        this._client.trackMetric({ name: \"\\\\Memory\\\\Available Bytes\", value: freeMem });\r\n    };\r\n    AutoCollectPerformance.prototype._trackNetwork = function () {\r\n        // track total request counters\r\n        var lastRequests = this._lastRequests;\r\n        var requests = {\r\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n            time: +new Date\r\n        };\r\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\r\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\r\n        var elapsedMs = requests.time - lastRequests.time;\r\n        var elapsedSeconds = elapsedMs / 1000;\r\n        if (elapsedMs > 0) {\r\n            var requestsPerSec = intervalRequests / elapsedSeconds;\r\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\r\n            this._client.trackMetric({ name: \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\", value: requestsPerSec });\r\n            this._client.trackMetric({ name: \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\", value: AutoCollectPerformance._lastRequestExecutionTime });\r\n        }\r\n        this._lastRequests = requests;\r\n    };\r\n    AutoCollectPerformance.prototype.dispose = function () {\r\n        AutoCollectPerformance.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectPerformance._totalRequestCount = 0;\r\n    AutoCollectPerformance._totalFailedRequestCount = 0;\r\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\r\n    return AutoCollectPerformance;\r\n}());\r\nmodule.exports = AutoCollectPerformance;\r\n//# sourceMappingURL=Performance.js.map","\"use strict\";\r\n/**\r\n * Base class for helpers that read data from HTTP requst/response objects and convert them\r\n * into the telemetry contract objects.\r\n */\r\nvar RequestParser = (function () {\r\n    function RequestParser() {\r\n    }\r\n    /**\r\n     * Gets a url parsed out from request options\r\n     */\r\n    RequestParser.prototype.getUrl = function () {\r\n        return this.url;\r\n    };\r\n    RequestParser.prototype.RequestParser = function () {\r\n        this.startTime = +new Date();\r\n    };\r\n    RequestParser.prototype._setStatus = function (status, error) {\r\n        var endTime = +new Date();\r\n        this.duration = endTime - this.startTime;\r\n        this.statusCode = status;\r\n        var properties = this.properties || {};\r\n        if (error) {\r\n            if (typeof error === \"string\") {\r\n                properties[\"error\"] = error;\r\n            }\r\n            else if (error instanceof Error) {\r\n                properties[\"error\"] = error.message;\r\n            }\r\n            else if (typeof error === \"object\") {\r\n                for (var key in error) {\r\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\r\n                }\r\n            }\r\n        }\r\n        this.properties = properties;\r\n    };\r\n    RequestParser.prototype._isSuccess = function () {\r\n        return (0 < this.statusCode) && (this.statusCode < 400);\r\n    };\r\n    return RequestParser;\r\n}());\r\nmodule.exports = RequestParser;\r\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar AutoCollectPerformance = require(\"./Performance\");\r\nvar AutoCollectHttpRequests = (function () {\r\n    function AutoCollectHttpRequests(client) {\r\n        if (!!AutoCollectHttpRequests.INSTANCE) {\r\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpRequests.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        // Autocorrelation requires automatic monitoring of incoming server requests\r\n        // Disabling autocollection but enabling autocorrelation will still enable\r\n        // request monitoring but will not produce request events\r\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\r\n            this.useAutoCorrelation(this._isAutoCorrelating);\r\n            this._initialize();\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled) {\r\n        if (isEnabled && !this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.enable();\r\n        }\r\n        else if (!isEnabled && this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        }\r\n        this._isAutoCorrelating = isEnabled;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\r\n        return this._isAutoCorrelating;\r\n    };\r\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\r\n        if (!this._isAutoCorrelating) {\r\n            return;\r\n        }\r\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader());\r\n    };\r\n    AutoCollectHttpRequests.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var wrapOnRequestHandler = function (onRequest) {\r\n            if (!onRequest) {\r\n                return undefined;\r\n            }\r\n            if (typeof onRequest !== 'function') {\r\n                throw new Error('onRequest handler must be a function');\r\n            }\r\n            return function (request, response) {\r\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\r\n                if (request && shouldCollect) {\r\n                    // Set up correlation context\r\n                    var requestParser_1 = new HttpRequestParser(request);\r\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\r\n                    // Note: Check for if correlation is enabled happens within this method.\r\n                    // If not enabled, function will directly call the callback.\r\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n                        if (_this._isEnabled) {\r\n                            // Mark as auto collected\r\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\r\n                            // Auto collect request\r\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\r\n                        }\r\n                        // Add this request to the performance counter\r\n                        // Note: Check for if perf counters are enabled happens within this method.\r\n                        // TODO: Refactor common bits between trackRequest and countRequest so they can\r\n                        // be used together, even when perf counters are on, and request tracking is off\r\n                        AutoCollectPerformance.countRequest(request, response);\r\n                        if (typeof onRequest === \"function\") {\r\n                            onRequest(request, response);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    if (typeof onRequest === \"function\") {\r\n                        onRequest(request, response);\r\n                    }\r\n                }\r\n            };\r\n        };\r\n        // The `http.createServer` function will instantiate a new http.Server object.\r\n        // Inside the Server's constructor, it is using addListener to register the\r\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\r\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\r\n        //    the http.createServer call. Or\r\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\r\n        //    fresh server instance. This seems more stable for possible future changes as\r\n        //    it also covers the case where the Server might not use addListener to manage\r\n        //    the callback internally.\r\n        //    And also as long as the constructor uses addListener to add the handle, it is\r\n        //    ok to patch the addListener after construction only. Because if we would patch\r\n        //    the prototype one and the createServer method, we would wrap the handler twice\r\n        //    in case of the constructor call.\r\n        var wrapServerEventHandler = function (server) {\r\n            var originalAddListener = server.addListener.bind(server);\r\n            server.addListener = function (eventType, eventHandler) {\r\n                switch (eventType) {\r\n                    case 'request':\r\n                    case 'checkContinue':\r\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\r\n                    default:\r\n                        return originalAddListener(eventType, eventHandler);\r\n                }\r\n            };\r\n            // on is an alias to addListener only\r\n            server.on = server.addListener;\r\n        };\r\n        var originalHttpServer = http.createServer;\r\n        http.createServer = function (onRequest) {\r\n            // todo: get a pointer to the server so the IP address can be read from server.address\r\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n        var originalHttpsServer = https.createServer;\r\n        https.createServer = function (options, onRequest) {\r\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\r\n     */\r\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\r\n        // Overwrite correlation context with request parser results\r\n        if (correlationContext) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\r\n    };\r\n    /**\r\n     * Tracks a request by listening to the response 'finish' event\r\n     */\r\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\r\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        }\r\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\r\n        if (correlationContext && !_requestParser) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        // response listeners\r\n        if (telemetry.response.once) {\r\n            telemetry.response.once(\"finish\", function () {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\r\n            });\r\n        }\r\n        // track a failed request if an error is emitted\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"error\", function (error) {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add the target correlationId to the response headers, if not already provided.\r\n     */\r\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\r\n        if (client.config && client.config.correlationId &&\r\n            response.getHeader && response.setHeader && !response.headersSent) {\r\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\r\n            if (correlationHeader) {\r\n                var components = correlationHeader.split(\",\");\r\n                var key_1 = RequestResponseHeaders.requestContextSourceKey + \"=\";\r\n                if (!components.some(function (value) { return value.substring(0, key_1.length) === key_1; })) {\r\n                    response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n                }\r\n            }\r\n            else {\r\n                response.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n            }\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\r\n        if (error) {\r\n            requestParser.onError(error, ellapsedMilliseconds);\r\n        }\r\n        else {\r\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\r\n        }\r\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\r\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\r\n        if (telemetry.tagOverrides) {\r\n            for (var key in telemetry.tagOverrides) {\r\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\r\n            }\r\n        }\r\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\r\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\r\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\r\n        client.trackRequest(requestTelemetry);\r\n    };\r\n    AutoCollectHttpRequests.prototype.dispose = function () {\r\n        AutoCollectHttpRequests.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\r\n    return AutoCollectHttpRequests;\r\n}());\r\nmodule.exports = AutoCollectHttpRequests;\r\n//# sourceMappingURL=HttpRequests.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getNodeFSRequestService } from './nodeFs';\nimport { ExtensionContext } from 'vscode';\nimport { startClient, LanguageClientConstructor } from '../htmlClient';\nimport { ServerOptions, TransportKind, LanguageClientOptions, LanguageClient } from 'vscode-languageclient/node';\nimport { TextDecoder } from 'util';\nimport * as fs from 'fs';\nimport TelemetryReporter from 'vscode-extension-telemetry';\n\n\nlet telemetry: TelemetryReporter | undefined;\n\n// this method is called when vs code is activated\nexport function activate(context: ExtensionContext) {\n\n\tlet clientPackageJSON = getPackageInfo(context);\n\ttelemetry = new TelemetryReporter(clientPackageJSON.name, clientPackageJSON.version, clientPackageJSON.aiKey);\n\n\tconst serverMain = `./server/${clientPackageJSON.main.indexOf('/dist/') !== -1 ? 'dist' : 'out'}/node/htmlServerMain`;\n\tconst serverModule = context.asAbsolutePath(serverMain);\n\n\t// The debug options for the server\n\tconst debugOptions = { execArgv: ['--nolazy', '--inspect=' + (8000 + Math.round(Math.random() * 999))] };\n\n\t// If the extension is launch in debug mode the debug server options are use\n\t// Otherwise the run options are used\n\tconst serverOptions: ServerOptions = {\n\t\trun: { module: serverModule, transport: TransportKind.ipc },\n\t\tdebug: { module: serverModule, transport: TransportKind.ipc, options: debugOptions }\n\t};\n\n\tconst newLanguageClient: LanguageClientConstructor = (id: string, name: string, clientOptions: LanguageClientOptions) => {\n\t\treturn new LanguageClient(id, name, serverOptions, clientOptions);\n\t};\n\n\tstartClient(context, newLanguageClient, { fs: getNodeFSRequestService(), TextDecoder, telemetry });\n}\n\ninterface IPackageInfo {\n\tname: string;\n\tversion: string;\n\taiKey: string;\n\tmain: string;\n}\n\nfunction getPackageInfo(context: ExtensionContext): IPackageInfo {\n\tconst location = context.asAbsolutePath('./package.json');\n\ttry {\n\t\treturn JSON.parse(fs.readFileSync(location).toString());\n\t} catch (e) {\n\t\tconsole.log(`Problems reading ${location}: ${e}`);\n\t\treturn { name: '', version: '', aiKey: '', main: '' };\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport { Uri } from 'vscode';\nimport { getScheme, RequestService, FileType } from '../requests';\n\nexport function getNodeFSRequestService(): RequestService {\n\tfunction ensureFileUri(location: string) {\n\t\tif (getScheme(location) !== 'file') {\n\t\t\tthrow new Error('fileRequestService can only handle file URLs');\n\t\t}\n\t}\n\treturn {\n\t\tgetContent(location: string, encoding?: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst uri = Uri.parse(location);\n\t\t\t\tfs.readFile(uri.fsPath, encoding, (err, buf) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t\tc(buf.toString());\n\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tstat(location: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst uri = Uri.parse(location);\n\t\t\t\tfs.stat(uri.fsPath, (err, stats) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\t\t\t\treturn c({ type: FileType.Unknown, ctime: -1, mtime: -1, size: -1 });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet type = FileType.Unknown;\n\t\t\t\t\tif (stats.isFile()) {\n\t\t\t\t\t\ttype = FileType.File;\n\t\t\t\t\t} else if (stats.isDirectory()) {\n\t\t\t\t\t\ttype = FileType.Directory;\n\t\t\t\t\t} else if (stats.isSymbolicLink()) {\n\t\t\t\t\t\ttype = FileType.SymbolicLink;\n\t\t\t\t\t}\n\n\t\t\t\t\tc({\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tctime: stats.ctime.getTime(),\n\t\t\t\t\t\tmtime: stats.mtime.getTime(),\n\t\t\t\t\t\tsize: stats.size\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\treadDirectory(location: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst path = Uri.parse(location).fsPath;\n\n\t\t\t\tfs.readdir(path, { withFileTypes: true }, (err, children) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t\tc(children.map(stat => {\n\t\t\t\t\t\tif (stat.isSymbolicLink()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.SymbolicLink];\n\t\t\t\t\t\t} else if (stat.isDirectory()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.Directory];\n\t\t\t\t\t\t} else if (stat.isFile()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.File];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn [stat.name, FileType.Unknown];\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n}\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst { ANY } = require('../classes/comparator.js')\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a subset of some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else return false\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n// - If any C is a = range, and GT or LT are set, return false\n// - Else return true\n\nconst subset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY)\n    return dom.length === 1 && dom[0].semver === ANY\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            return setTimeout(callback, ms, ...args);\n        },\n        clearTimeout(handle) {\n            clearTimeout(handle);\n        },\n        setImmediate(callback, ...args) {\n            return setImmediate(callback, ...args);\n        },\n        clearImmediate(handle) {\n            clearImmediate(handle);\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        var _a;\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\n        }\n        else {\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        var _a, _b;\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\n        }\n        else {\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSquenceNumber = 0;\n    let unknownResponseSquenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = Object.create(null);\n    let starNotificationHandler = undefined;\n    const notificationHandlers = Object.create(null);\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = Object.create(null);\n    let requestTokens = Object.create(null);\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSquenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.isRequestMessage(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.isResponseMessage(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = ral_1.default().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.isRequestMessage(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.isNotificationMessage(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.isResponseMessage(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\n                const key = createRequestQueueKey(message.params.id);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.isRequestMessage(toCancel)) {\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response);\n                        return;\n                    }\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers[requestMessage.method];\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = String(requestMessage.id);\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            requestTokens[tokenKey] = cancellationSource;\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    delete requestTokens[tokenKey];\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        delete requestTokens[tokenKey];\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        delete requestTokens[tokenKey];\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    delete requestTokens[tokenKey];\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                delete requestTokens[tokenKey];\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = String(responseMessage.id);\n            const responsePromise = responsePromises[key];\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise) {\n                delete responsePromises[key];\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            notificationHandler = (params) => {\n                const id = params.id;\n                const source = requestTokens[String(id)];\n                if (source) {\n                    source.cancel();\n                }\n            };\n        }\n        else {\n            const element = notificationHandlers[message.method];\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        if (type !== undefined) {\n                            if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                            }\n                            if (type.numberOfParams !== message.params.length) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`);\n                            }\n                        }\n                        notificationHandler(...message.params);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = String(responseMessage.id);\n            const responseHandler = responsePromises[key];\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n                break;\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Recevied parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            messageWriter.write(notificationMessage);\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers[type] = { type: undefined, handler };\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        delete notificationHandlers[method];\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    cancellationStrategy.sender.sendCancellation(connection, id);\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage);\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises[String(id)] = responsePromise;\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers[type] = { handler: handler, type: undefined };\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        delete requestHandlers[method];\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new Error('Connection got disposed.');\n            Object.keys(responsePromises).forEach((key) => {\n                responsePromises[key].reject(error);\n            });\n            responsePromises = Object.create(null);\n            requestTokens = Object.create(null);\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            ral_1.default().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[Symbol.toStringTag] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        var _a;\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    get last() {\n        var _a;\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","module.exports = require(\"net\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    LSPErrorCodes.ContentModified = -32801;\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return typeof candidate === 'string';\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \" + id + \" is already in use.\");\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \" + id);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeError = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.DocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = void 0;\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokenTypes\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenTypes; } });\nObject.defineProperty(exports, \"SemanticTokenModifiers\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenModifiers; } });\nObject.defineProperty(exports, \"SemanticTokens\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokens; } });\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The DocumentFilter namespace provides helper functions to work with\n * [DocumentFilter](#DocumentFilter) literals.\n */\nvar DocumentFilter;\n(function (DocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    DocumentFilter.is = is;\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeError`;\n */\nvar InitializeError;\n(function (InitializeError) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeError.unknownProtocolVersion = 1;\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = exports.FoldingRangeKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Enum of known range kinds\n */\nvar FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to a incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel[\"document\"] = \"document\";\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel[\"project\"] = \"project\";\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel[\"group\"] = \"group\";\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel[\"scheme\"] = \"scheme\";\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel[\"global\"] = \"global\";\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind[\"import\"] = \"import\";\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind[\"export\"] = \"export\";\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind[\"local\"] = \"local\";\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: {\n                uri: _uriConverter(textDocument.uri),\n                languageId: textDocument.languageId,\n                version: textDocument.version,\n                text: textDocument.getText()\n            }\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        let candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        let candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg) {\n        if (isTextDocument(arg)) {\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(arg.uri),\n                    version: arg.version\n                },\n                contentChanges: [{ text: arg.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg)) {\n            let document = arg.document;\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(document.uri),\n                    version: document.version\n                },\n                contentChanges: arg.contentChanges.map((change) => {\n                    let range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line, character: value.character };\n    }\n    function asPositions(value) {\n        let result = [];\n        for (let elem of value) {\n            result.push(asPosition(elem));\n        }\n        return result;\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return items.map(asDiagnostic);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item) {\n        let result = { label: item.label };\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    function asCodeAction(item) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnostics(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), only);\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asPosition,\n        asPositions,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/vscode-proposed.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDiagnostics(diagnostics) {\n        return diagnostics.map(asDiagnostic);\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                result.code = {\n                    value: diagnostic.code,\n                    target: asUri(diagnostic.codeDescription.href)\n                };\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                result.hasDiagnosticCode = true;\n                result.code = {\n                    value: diagnostic.code.value,\n                    target: asUri(diagnostic.code.target)\n                };\n            }\n            else {\n                result.code = diagnostic.code;\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        return relatedInformation.map(asDiagnosticRelatedInformation);\n    }\n    function asDiagnosticRelatedInformation(information) {\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        if (!value) {\n            return undefined;\n        }\n        return new code.Position(value.line, value.character);\n    }\n    function asRange(value) {\n        if (!value) {\n            return undefined;\n        }\n        return new code.Range(asPosition(value.start), asPosition(value.end));\n    }\n    function asRanges(value) {\n        return value.map(value => asRange(value));\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            let result;\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    result = asMarkdownString();\n                    result.appendText(value.value);\n                    return result;\n                default:\n                    result = asMarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    return result;\n            }\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        const result = new code.MarkdownString(value);\n        if (trustMarkdown === true) {\n            result.isTrusted = trustMarkdown;\n        }\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    function asCompletionResult(result) {\n        if (!result) {\n            return undefined;\n        }\n        if (Array.isArray(result)) {\n            let items = result;\n            return items.map(asCompletionItem);\n        }\n        let list = result;\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item) {\n        let tags = asCompletionItemTags(item.tags);\n        let result = new protocolCompletionItem_1.default(item.label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        let insertText = asCompletionInsertText(item);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (Is.stringArray(item.commitCharacters)) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        if (item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        if (item.insertTextMode !== undefined) {\n            result.insertTextMode = item.insertTextMode;\n            if (item.insertTextMode === vscode_languageserver_protocol_1.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionInsertText(item) {\n        if (item.textEdit) {\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.textEdit.newText), range: asCompletionRange(item.textEdit), fromEdit: true };\n            }\n            else {\n                return { text: item.textEdit.newText, range: asCompletionRange(item.textEdit), fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function asCompletionRange(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return { inserting: asRange(value.insert), replacing: asRange(value.replace) };\n        }\n        else {\n            return asRange(value.range);\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    function asTextEdits(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asTextEdit);\n    }\n    function asSignatureHelp(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = asSignatureInformations(item.signatures);\n        }\n        return result;\n    }\n    function asSignatureInformations(items) {\n        return items.map(asSignatureInformation);\n    }\n    function asSignatureInformation(item) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = asParameterInformations(item.parameters);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(item) {\n        return item.map(asParameterInformation);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        if (!item) {\n            return undefined;\n        }\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\n    }\n    function asDeclarationResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item);\n    }\n    function asDefinitionResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    function asLocationResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                let links = item;\n                return links.map((link) => asLocationLink(link));\n            }\n            else {\n                let locations = item;\n                return locations.map((location) => asLocation(location));\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    function asReferences(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(location => asLocation(location));\n    }\n    function asDocumentHighlights(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(asDocumentHighlight);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    function asSymbolInformations(values, uri) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(information => asSymbolInformation(information, uri));\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item, uri) {\n        // Symbol kind is one based in the protocol and zero based in code.\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\n        fillTags(result, item);\n        if (item.containerName) {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asDocumentSymbols(values) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return values.map(asDocumentSymbol);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCommands(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asCommand);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    function asCodeAction(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnostics(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = asWorkspaceEdit(item.edit);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asCodeLenses(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map((codeLens) => asCodeLens(codeLens));\n    }\n    function asWorkspaceEdit(item) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            for (const key of Object.keys(item.changeAnnotations)) {\n                const metaData = asWorkspaceEditEntryMetadata(item.changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            for (const change of item.documentChanges) {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (vscode_languageserver_protocol_1.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }\n        }\n        else if (item.changes) {\n            Object.keys(item.changes).forEach(key => {\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\n            });\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    function asDocumentLinks(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asDocumentLink);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    function asColorInformations(colorInformation) {\n        if (Array.isArray(colorInformation)) {\n            return colorInformation.map(asColorInformation);\n        }\n        return undefined;\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    function asColorPresentations(colorPresentations) {\n        if (Array.isArray(colorPresentations)) {\n            return colorPresentations.map(asColorPresentation);\n        }\n        return undefined;\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    function asFoldingRanges(foldingRanges) {\n        if (Array.isArray(foldingRanges)) {\n            return foldingRanges.map(asFoldingRange);\n        }\n        return undefined;\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    function asSelectionRanges(selectionRanges) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        let result = [];\n        for (let range of selectionRanges) {\n            result.push(asSelectionRange(range));\n        }\n        return result;\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    function asCallHierarchyItems(items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyItem(item));\n    }\n    function asCallHierarchyIncomingCall(item) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), asRanges(item.fromRanges));\n    }\n    function asCallHierarchyIncomingCalls(items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyIncomingCall(item));\n    }\n    function asCallHierarchyOutgoingCall(item) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), asRanges(item.fromRanges));\n    }\n    function asCallHierarchyOutgoingCalls(items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyOutgoingCall(item));\n    }\n    function asSemanticTokens(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    function asSemanticTokensEdits(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    function asLinkedEditingRanges(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(asRanges(value.ranges), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    return {\n        asUri,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = vscode_languageserver_protocol_1.RAL().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== void 0;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== void 0) {\n            vscode_languageserver_protocol_1.RAL().timer.clearTimeout(this.timeout);\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(options.documentSelector, provider), provider];\n    }\n    asColor(color) {\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    asColorInformations(colorInformation) {\n        if (Array.isArray(colorInformation)) {\n            return colorInformation.map(ci => {\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\n            });\n        }\n        return [];\n    }\n    asColorPresentations(colorPresentations) {\n        if (Array.isArray(colorPresentations)) {\n            return colorPresentations.map(cp => {\n                let presentation = new vscode_1.ColorPresentation(cp.label);\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\n                return presentation;\n            });\n        }\n        return [];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass ImplementationFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = ensure(ensure(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerImplementationProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n//# sourceMappingURL=implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = ensure(ensure(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === void 0) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.clientOptions.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            this.doSendEvent(currentWorkspaceFolders, []);\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(FoldingRangeFeature.asFoldingRanges, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, provider), provider];\n    }\n    static asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\n                    return vscode_1.FoldingRangeKind.Comment;\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\n                    return vscode_1.FoldingRangeKind.Imports;\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\n                    return vscode_1.FoldingRangeKind.Region;\n            }\n        }\n        return void 0;\n    }\n    static asFoldingRanges(foldingRanges) {\n        if (Array.isArray(foldingRanges)) {\n            return foldingRanges.map(r => {\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, FoldingRangeFeature.asFoldingRangeKind(r.kind));\n            });\n        }\n        return [];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass DeclarationFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = ensure(ensure(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDeclarationProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n//# sourceMappingURL=declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass SelectionRangeFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: client.code2ProtocolConverter.asPositions(positions)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => client.protocol2CodeConverter.asSelectionRanges(ranges), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [vscode_1.languages.registerSelectionRangeProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    dispose() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.clientOptions.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                return client.protocol2CodeConverter.asCallHierarchyItems(result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = ensure(ensure(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst client_1 = require(\"./client\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass SemanticTokensFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = ensure(ensure(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.clientOptions.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            return client.protocol2CodeConverter.asSemanticTokens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.clientOptions.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then((result) => {\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return client.protocol2CodeConverter.asSemanticTokens(result);\n                                }\n                                else {\n                                    return client.protocol2CodeConverter.asSemanticTokensEdits(result);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.clientOptions.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            return client.protocol2CodeConverter.asSemanticTokens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(options.documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(options.documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._filters = new Map();\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        var _a;\n        const options = (_a = capabilities.workspace) === null || _a === void 0 ? void 0 : _a.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if ((capability === null || capability === void 0 ? void 0 : capability.filters) !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return Object.assign(Object.assign({}, event), { files });\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        if (options === undefined) {\n            return undefined;\n        }\n        if (options.ignoreCase === true) {\n            return { nocase: true };\n        }\n        return undefined;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didCreateFiles) ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didRenameFiles) ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didDeleteFiles) ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event))\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willCreateFiles) ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willRenameFiles) ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willDeleteFiles) ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n//# sourceMappingURL=fileOperations.js.map","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/vscode-proposed.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass LinkedEditingFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = ensure(ensure(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asLinkedEditingRanges, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [code.languages.registerLinkedEditingRangeProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = path_1.join(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n//# sourceMappingURL=processes.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./client\"), exports);\n__exportStar(require(\"./commonClient\"), exports);\n//# sourceMappingURL=api.js.map",null,"\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = void 0;\nvar path = require(\"path\");\nvar fs = require(\"fs\");\nvar ral_1 = require(\"../common/ral\");\nvar common_1 = require(\"../common/common\");\nvar common_2 = require(\"../common/common\");\nObject.defineProperty(exports, \"MessageFormat\", { enumerable: true, get: function () { return common_2.MessageFormat; } });\nObject.defineProperty(exports, \"BundleFormat\", { enumerable: true, get: function () { return common_2.BundleFormat; } });\nvar toString = Object.prototype.toString;\nfunction isNumber(value) {\n    return toString.call(value) === '[object Number]';\n}\nfunction isString(value) {\n    return toString.call(value) === '[object String]';\n}\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nfunction readJsonFileSync(filename) {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n}\nvar resolvedBundles;\nvar options;\nfunction initializeSettings() {\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: common_1.MessageFormat.bundle };\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\n        try {\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\n            var language = void 0;\n            if (vscodeOptions_1.availableLanguages) {\n                var value = vscodeOptions_1.availableLanguages['*'];\n                if (isString(value)) {\n                    language = value;\n                }\n            }\n            if (isString(vscodeOptions_1.locale)) {\n                options.locale = vscodeOptions_1.locale.toLowerCase();\n            }\n            if (language === undefined) {\n                options.language = options.locale;\n            }\n            else if (language !== 'en') {\n                options.language = language;\n            }\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\n            }\n            if (isString(vscodeOptions_1._cacheRoot)) {\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\n            }\n            if (isString(vscodeOptions_1._languagePackId)) {\n                options.languagePackId = vscodeOptions_1._languagePackId;\n            }\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\n                try {\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\n                }\n                catch (error) {\n                    // We can't read the translation config file. Mark the cache as corrupted.\n                    if (vscodeOptions_1._corruptedFile) {\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\n                        fs.exists(dirname, function (exists) {\n                            if (exists) {\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\n                                    console.error(err);\n                                });\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        catch (_a) {\n            // Do nothing.\n        }\n    }\n    common_1.setPseudo(options.locale === 'pseudo');\n    resolvedBundles = Object.create(null);\n}\ninitializeSettings();\nfunction supportsLanguagePack() {\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\n        && options.translationsConfig !== undefined;\n}\nfunction createScopedLocalizeFunction(messages) {\n    return function (key, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        if (isNumber(key)) {\n            if (key >= messages.length) {\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\n                return;\n            }\n            return common_1.format(messages[key], args);\n        }\n        else {\n            if (isString(message)) {\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\n                return common_1.format(message, args);\n            }\n            else {\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\n            }\n        }\n    };\n}\nfunction resolveLanguage(file) {\n    var resolvedLanguage;\n    if (options.cacheLanguageResolution && resolvedLanguage) {\n        resolvedLanguage = resolvedLanguage;\n    }\n    else {\n        if (common_1.isPseudo || !options.language) {\n            resolvedLanguage = '.nls.json';\n        }\n        else {\n            var locale = options.language;\n            while (locale) {\n                var candidate = '.nls.' + locale + '.json';\n                if (fs.existsSync(file + candidate)) {\n                    resolvedLanguage = candidate;\n                    break;\n                }\n                else {\n                    var index = locale.lastIndexOf('-');\n                    if (index > 0) {\n                        locale = locale.substring(0, index);\n                    }\n                    else {\n                        resolvedLanguage = '.nls.json';\n                        locale = null;\n                    }\n                }\n            }\n        }\n        if (options.cacheLanguageResolution) {\n            resolvedLanguage = resolvedLanguage;\n        }\n    }\n    return file + resolvedLanguage;\n}\nfunction findInTheBoxBundle(root) {\n    var language = options.language;\n    while (language) {\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n        else {\n            var index = language.lastIndexOf('-');\n            if (index > 0) {\n                language = language.substring(0, index);\n            }\n            else {\n                language = undefined;\n            }\n        }\n    }\n    // Test if we can reslove the default bundle.\n    if (language === undefined) {\n        var candidate = path.join(root, 'nls.bundle.json');\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n    }\n    return undefined;\n}\nfunction mkdir(directory) {\n    try {\n        fs.mkdirSync(directory);\n    }\n    catch (err) {\n        if (err.code === 'EEXIST') {\n            return;\n        }\n        else if (err.code === 'ENOENT') {\n            var parent = path.dirname(directory);\n            if (parent !== directory) {\n                mkdir(parent);\n                fs.mkdirSync(directory);\n            }\n        }\n        else {\n            throw err;\n        }\n    }\n}\nfunction createDefaultNlsBundle(folder) {\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_1 in metaData) {\n        var entry = metaData[module_1];\n        result[module_1] = entry.messages;\n    }\n    return result;\n}\nfunction createNLSBundle(header, metaDataPath) {\n    var languagePackLocation = options.translationsConfig[header.id];\n    if (!languagePackLocation) {\n        return undefined;\n    }\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_2 in metaData) {\n        var entry = metaData[module_2];\n        var translations = languagePack[header.outDir + \"/\" + module_2];\n        if (translations) {\n            var resultMessages = [];\n            for (var i = 0; i < entry.keys.length; i++) {\n                var messageKey = entry.keys[i];\n                var key = isString(messageKey) ? messageKey : messageKey.key;\n                var translatedMessage = translations[key];\n                if (translatedMessage === undefined) {\n                    translatedMessage = entry.messages[i];\n                }\n                resultMessages.push(translatedMessage);\n            }\n            result[module_2] = resultMessages;\n        }\n        else {\n            result[module_2] = entry.messages;\n        }\n    }\n    return result;\n}\nfunction touch(file) {\n    var d = new Date();\n    fs.utimes(file, d, d, function () {\n        // Do nothing. Ignore\n    });\n}\nfunction cacheBundle(key, bundle) {\n    resolvedBundles[key] = bundle;\n    return bundle;\n}\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\n    var result;\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\n    var useMemoryOnly = false;\n    var writeBundle = false;\n    try {\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\n        touch(bundle);\n        return result;\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            writeBundle = true;\n        }\n        else if (err instanceof SyntaxError) {\n            // We have a syntax error. So no valid JSON. Use\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\n            fs.unlink(bundle, function (err) {\n                if (err) {\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\n                }\n            });\n            useMemoryOnly = true;\n        }\n        else {\n            throw err;\n        }\n    }\n    result = createNLSBundle(header, bundlePath);\n    if (!result || useMemoryOnly) {\n        return result;\n    }\n    if (writeBundle) {\n        try {\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\n        }\n        catch (err) {\n            if (err.code === 'EEXIST') {\n                return result;\n            }\n            throw err;\n        }\n    }\n    return result;\n}\nfunction loadDefaultNlsBundle(bundlePath) {\n    try {\n        return createDefaultNlsBundle(bundlePath);\n    }\n    catch (err) {\n        console.log(\"Generating default bundle from meta data failed.\", err);\n        return undefined;\n    }\n}\nfunction loadNlsBundle(header, bundlePath) {\n    var result;\n    // Core decided to use a language pack. Do the same in the extension\n    if (supportsLanguagePack()) {\n        try {\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\n        }\n        catch (err) {\n            console.log(\"Load or create bundle failed \", err);\n        }\n    }\n    if (!result) {\n        // No language pack found, but core is running in language pack mode\n        // Don't try to use old in the box bundles since the might be stale\n        // Fall right back to the default bundle.\n        if (options.languagePackSupport) {\n            return loadDefaultNlsBundle(bundlePath);\n        }\n        var candidate = findInTheBoxBundle(bundlePath);\n        if (candidate) {\n            try {\n                return readJsonFileSync(candidate);\n            }\n            catch (err) {\n                console.log(\"Loading in the box message bundle failed.\", err);\n            }\n        }\n        result = loadDefaultNlsBundle(bundlePath);\n    }\n    return result;\n}\nfunction tryFindMetaDataHeaderFile(file) {\n    var result;\n    var dirname = path.dirname(file);\n    while (true) {\n        result = path.join(dirname, 'nls.metadata.header.json');\n        if (fs.existsSync(result)) {\n            break;\n        }\n        var parent = path.dirname(dirname);\n        if (parent === dirname) {\n            result = undefined;\n            break;\n        }\n        else {\n            dirname = parent;\n        }\n    }\n    return result;\n}\nfunction loadMessageBundle(file) {\n    if (!file) {\n        // No file. We are in dev mode. Return the default\n        // localize function.\n        return common_1.localize;\n    }\n    // Remove extension since we load json files.\n    var ext = path.extname(file);\n    if (ext) {\n        file = file.substr(0, file.length - ext.length);\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.bundle) {\n        var headerFile = tryFindMetaDataHeaderFile(file);\n        if (headerFile) {\n            var bundlePath = path.dirname(headerFile);\n            var bundle = resolvedBundles[bundlePath];\n            if (bundle === undefined) {\n                try {\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\n                    try {\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\n                    }\n                    catch (err) {\n                        console.error('Failed to load nls bundle', err);\n                        bundle = cacheBundle(bundlePath, null);\n                    }\n                }\n                catch (err) {\n                    console.error('Failed to read header file', err);\n                    bundle = cacheBundle(bundlePath, null);\n                }\n            }\n            if (bundle) {\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\n                var messages = bundle.nlsBundle[module_3];\n                if (messages === undefined) {\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\n                    return function () {\n                        return 'Messages not found.';\n                    };\n                }\n                return createScopedLocalizeFunction(messages);\n            }\n        }\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.file) {\n        // Try to load a single file bundle\n        try {\n            var json = readJsonFileSync(resolveLanguage(file));\n            if (Array.isArray(json)) {\n                return createScopedLocalizeFunction(json);\n            }\n            else {\n                if (common_1.isDefined(json.messages) && common_1.isDefined(json.keys)) {\n                    return createScopedLocalizeFunction(json.messages);\n                }\n                else {\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\n                    return function () {\n                        return 'File bundle has unsupported format. See console for details';\n                    };\n                }\n            }\n        }\n        catch (err) {\n            if (err.code !== 'ENOENT') {\n                console.error('Failed to load single file bundle', err);\n            }\n        }\n    }\n    console.error(\"Failed to load message bundle for file \" + file);\n    return function () {\n        return 'Failed to load message bundle. See console for details.';\n    };\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    if (opts) {\n        if (isString(opts.locale)) {\n            options.locale = opts.locale.toLowerCase();\n            options.language = options.locale;\n            resolvedBundles = Object.create(null);\n        }\n        if (opts.messageFormat !== undefined) {\n            options.messageFormat = opts.messageFormat;\n        }\n        if (opts.bundleFormat === common_1.BundleFormat.standalone && options.languagePackSupport === true) {\n            options.languagePackSupport = false;\n        }\n    }\n    common_1.setPseudo(options.locale === 'pseudo');\n    return loadMessageBundle;\n}\nexports.config = config;\nral_1.default.install(Object.freeze({\n    loadMessageBundle: loadMessageBundle,\n    config: config\n}));\n//# sourceMappingURL=main.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const EMPTY_ELEMENTS: string[] = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr'];\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { window, workspace, Disposable, TextDocumentContentChangeEvent, TextDocument, Position, SnippetString } from 'vscode';\n\nexport function activateTagClosing(tagProvider: (document: TextDocument, position: Position) => Thenable<string>, supportedLanguages: { [id: string]: boolean }, configName: string): Disposable {\n\n\tlet disposables: Disposable[] = [];\n\tworkspace.onDidChangeTextDocument(event => onDidChangeTextDocument(event.document, event.contentChanges), null, disposables);\n\n\tlet isEnabled = false;\n\tupdateEnabledState();\n\twindow.onDidChangeActiveTextEditor(updateEnabledState, null, disposables);\n\n\tlet timeout: NodeJS.Timer | undefined = undefined;\n\n\tfunction updateEnabledState() {\n\t\tisEnabled = false;\n\t\tlet editor = window.activeTextEditor;\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\t\tlet document = editor.document;\n\t\tif (!supportedLanguages[document.languageId]) {\n\t\t\treturn;\n\t\t}\n\t\tif (!workspace.getConfiguration(undefined, document.uri).get<boolean>(configName)) {\n\t\t\treturn;\n\t\t}\n\t\tisEnabled = true;\n\t}\n\n\tfunction onDidChangeTextDocument(document: TextDocument, changes: readonly TextDocumentContentChangeEvent[]) {\n\t\tif (!isEnabled) {\n\t\t\treturn;\n\t\t}\n\t\tlet activeDocument = window.activeTextEditor && window.activeTextEditor.document;\n\t\tif (document !== activeDocument || changes.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof timeout !== 'undefined') {\n\t\t\tclearTimeout(timeout);\n\t\t}\n\t\tlet lastChange = changes[changes.length - 1];\n\t\tlet lastCharacter = lastChange.text[lastChange.text.length - 1];\n\t\tif (lastChange.rangeLength > 0 || lastCharacter !== '>' && lastCharacter !== '/') {\n\t\t\treturn;\n\t\t}\n\t\tlet rangeStart = lastChange.range.start;\n\t\tlet version = document.version;\n\t\ttimeout = setTimeout(() => {\n\t\t\tlet position = new Position(rangeStart.line, rangeStart.character + lastChange.text.length);\n\t\t\ttagProvider(document, position).then(text => {\n\t\t\t\tif (text && isEnabled) {\n\t\t\t\t\tlet activeEditor = window.activeTextEditor;\n\t\t\t\t\tif (activeEditor) {\n\t\t\t\t\t\tlet activeDocument = activeEditor.document;\n\t\t\t\t\t\tif (document === activeDocument && activeDocument.version === version) {\n\t\t\t\t\t\t\tlet selections = activeEditor.selections;\n\t\t\t\t\t\t\tif (selections.length && selections.some(s => s.active.isEqual(position))) {\n\t\t\t\t\t\t\t\tactiveEditor.insertSnippet(new SnippetString(text), selections.map(s => s.active));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tactiveEditor.insertSnippet(new SnippetString(text), position);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\ttimeout = undefined;\n\t\t}, 100);\n\t}\n\treturn Disposable.from(...disposables);\n}","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { workspace, extensions, Uri, EventEmitter, Disposable } from 'vscode';\nimport { resolvePath, joinPath } from './requests';\n\nexport function getCustomDataSource(toDispose: Disposable[]) {\n\tlet pathsInWorkspace = getCustomDataPathsInAllWorkspaces();\n\tlet pathsInExtensions = getCustomDataPathsFromAllExtensions();\n\n\tconst onChange = new EventEmitter<void>();\n\n\ttoDispose.push(extensions.onDidChange(_ => {\n\t\tconst newPathsInExtensions = getCustomDataPathsFromAllExtensions();\n\t\tif (newPathsInExtensions.length !== pathsInExtensions.length || !newPathsInExtensions.every((val, idx) => val === pathsInExtensions[idx])) {\n\t\t\tpathsInExtensions = newPathsInExtensions;\n\t\t\tonChange.fire();\n\t\t}\n\t}));\n\ttoDispose.push(workspace.onDidChangeConfiguration(e => {\n\t\tif (e.affectsConfiguration('html.customData')) {\n\t\t\tpathsInWorkspace = getCustomDataPathsInAllWorkspaces();\n\t\t\tonChange.fire();\n\t\t}\n\t}));\n\n\treturn {\n\t\tget uris() {\n\t\t\treturn pathsInWorkspace.concat(pathsInExtensions);\n\t\t},\n\t\tget onDidChange() {\n\t\t\treturn onChange.event;\n\t\t}\n\t};\n}\n\n\nfunction getCustomDataPathsInAllWorkspaces(): string[] {\n\tconst workspaceFolders = workspace.workspaceFolders;\n\n\tconst dataPaths: string[] = [];\n\n\tif (!workspaceFolders) {\n\t\treturn dataPaths;\n\t}\n\n\tconst collect = (paths: string[] | undefined, rootFolder: Uri) => {\n\t\tif (Array.isArray(paths)) {\n\t\t\tfor (const path of paths) {\n\t\t\t\tif (typeof path === 'string') {\n\t\t\t\t\tdataPaths.push(resolvePath(rootFolder, path).toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfor (let i = 0; i < workspaceFolders.length; i++) {\n\t\tconst folderUri = workspaceFolders[i].uri;\n\t\tconst allHtmlConfig = workspace.getConfiguration('html', folderUri);\n\t\tconst customDataInspect = allHtmlConfig.inspect<string[]>('customData');\n\t\tif (customDataInspect) {\n\t\t\tcollect(customDataInspect.workspaceFolderValue, folderUri);\n\t\t\tif (i === 0) {\n\t\t\t\tif (workspace.workspaceFile) {\n\t\t\t\t\tcollect(customDataInspect.workspaceValue, workspace.workspaceFile);\n\t\t\t\t}\n\t\t\t\tcollect(customDataInspect.globalValue, folderUri);\n\t\t\t}\n\t\t}\n\n\t}\n\treturn dataPaths;\n}\n\nfunction getCustomDataPathsFromAllExtensions(): string[] {\n\tconst dataPaths: string[] = [];\n\tfor (const extension of extensions.all) {\n\t\tconst customData = extension.packageJSON?.contributes?.html?.customData;\n\t\tif (Array.isArray(customData)) {\n\t\t\tfor (const rp of customData) {\n\t\t\t\tdataPaths.push(joinPath(extension.extensionUri, rp).toString());\n\t\t\t}\n\t\t}\n\t}\n\treturn dataPaths;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar vscode = require(\"vscode\");\nvar appInsights = require(\"applicationinsights\");\nvar TelemetryReporter = /** @class */ (function () {\n    // tslint:disable-next-line\n    function TelemetryReporter(extensionId, extensionVersion, key) {\n        var _this = this;\n        this.extensionId = extensionId;\n        this.extensionVersion = extensionVersion;\n        this.userOptIn = false;\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\n        }\n        this.updateUserOptIn(key);\n        this.configListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\n    }\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\n        if (this.userOptIn !== config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)) {\n            this.userOptIn = config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true);\n            if (this.userOptIn) {\n                this.createAppInsightsClient(key);\n            }\n            else {\n                this.dispose();\n            }\n        }\n    };\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\n        //check if another instance is already initialized\n        if (appInsights.defaultClient) {\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\n            // no other way to enable offline mode\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\n        }\n        else {\n            appInsights.setup(key)\n                .setAutoCollectRequests(false)\n                .setAutoCollectPerformance(false)\n                .setAutoCollectExceptions(false)\n                .setAutoCollectDependencies(false)\n                .setAutoDependencyCorrelation(false)\n                .setAutoCollectConsole(false)\n                .setUseDiskRetryCaching(true)\n                .start();\n            this.appInsightsClient = appInsights.defaultClient;\n        }\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\n        if (vscode && vscode.env) {\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\n        }\n        //check if it's an Asimov key to change the endpoint\n        if (key && key.indexOf('AIF-') === 0) {\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\n        }\n    };\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    TelemetryReporter.prototype.getCommonProperties = function () {\n        var commonProperties = Object.create(null);\n        commonProperties['common.os'] = os.platform();\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\n        commonProperties['common.extname'] = this.extensionId;\n        commonProperties['common.extversion'] = this.extensionVersion;\n        if (vscode && vscode.env) {\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\n            commonProperties['common.vscodeversion'] = vscode.version;\n        }\n        return commonProperties;\n    };\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\n        if (this.userOptIn && eventName && this.appInsightsClient) {\n            this.appInsightsClient.trackEvent({\n                name: this.extensionId + \"/\" + eventName,\n                properties: properties,\n                measurements: measurements\n            });\n            if (this.logStream) {\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\n            }\n        }\n    };\n    TelemetryReporter.prototype.dispose = function () {\n        var _this = this;\n        this.configListener.dispose();\n        var flushEventsToLogger = new Promise(function (resolve) {\n            if (!_this.logStream) {\n                return resolve(void 0);\n            }\n            _this.logStream.on('finish', resolve);\n            _this.logStream.end();\n        });\n        var flushEventsToAI = new Promise(function (resolve) {\n            if (_this.appInsightsClient) {\n                _this.appInsightsClient.flush({\n                    callback: function () {\n                        // all data flushed\n                        _this.appInsightsClient = undefined;\n                        resolve(void 0);\n                    }\n                });\n            }\n            else {\n                resolve(void 0);\n            }\n        });\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\n    };\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\n    return TelemetryReporter;\n}());\nexports.default = TelemetryReporter;\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\r\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\r\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\r\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\r\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\r\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\r\nvar Logging = require(\"./Library/Logging\");\r\n// We export these imports so that SDK users may use these classes directly.\r\n// They're exposed using \"export import\" so that types are passed along as expected\r\nexports.TelemetryClient = require(\"./Library/NodeClient\");\r\nexports.Contracts = require(\"./Declarations/Contracts\");\r\n// Default autocollection configuration\r\nvar _isConsole = true;\r\nvar _isConsoleLog = false;\r\nvar _isExceptions = true;\r\nvar _isPerformance = true;\r\nvar _isRequests = true;\r\nvar _isDependencies = true;\r\nvar _isDiskRetry = true;\r\nvar _isCorrelating = true;\r\nvar _diskRetryInterval = undefined;\r\nvar _diskRetryMaxBytes = undefined;\r\nvar _console;\r\nvar _exceptions;\r\nvar _performance;\r\nvar _serverRequests;\r\nvar _clientRequests;\r\nvar _isStarted = false;\r\n/**\r\n * Initializes the default client. Should be called after setting\r\n * configuration options.\r\n *\r\n * @param instrumentationKey the instrumentation key to use. Optional, if\r\n * this is not specified, the value will be read from the environment\r\n * variable APPINSIGHTS_INSTRUMENTATIONKEY.\r\n * @returns {Configuration} the configuration class to initialize\r\n * and start the SDK.\r\n */\r\nfunction setup(instrumentationKey) {\r\n    if (!exports.defaultClient) {\r\n        exports.defaultClient = new exports.TelemetryClient(instrumentationKey);\r\n        _console = new AutoCollectConsole(exports.defaultClient);\r\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\r\n        _performance = new AutoCollectPerformance(exports.defaultClient);\r\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\r\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\r\n    }\r\n    else {\r\n        Logging.info(\"The default client is already setup\");\r\n    }\r\n    if (exports.defaultClient && exports.defaultClient.channel) {\r\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\r\n    }\r\n    return Configuration;\r\n}\r\nexports.setup = setup;\r\n/**\r\n * Starts automatic collection of telemetry. Prior to calling start no\r\n * telemetry will be *automatically* collected, though manual collection\r\n * is enabled.\r\n * @returns {ApplicationInsights} this class\r\n */\r\nfunction start() {\r\n    if (!!exports.defaultClient) {\r\n        _isStarted = true;\r\n        _console.enable(_isConsole, _isConsoleLog);\r\n        _exceptions.enable(_isExceptions);\r\n        _performance.enable(_isPerformance);\r\n        _serverRequests.useAutoCorrelation(_isCorrelating);\r\n        _serverRequests.enable(_isRequests);\r\n        _clientRequests.enable(_isDependencies);\r\n    }\r\n    else {\r\n        Logging.warn(\"Start cannot be called before setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.start = start;\r\n/**\r\n * Returns an object that is shared across all code handling a given request.\r\n * This can be used similarly to thread-local storage in other languages.\r\n * Properties set on this object will be available to telemetry processors.\r\n *\r\n * Do not store sensitive information here.\r\n * Custom properties set on this object can be exposed in a future SDK\r\n * release via outgoing HTTP headers.\r\n * This is to allow for correlating data cross-component.\r\n *\r\n * This method will return null if automatic dependency correlation is disabled.\r\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\r\n */\r\nfunction getCorrelationContext() {\r\n    if (_isCorrelating) {\r\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\r\n    }\r\n    return null;\r\n}\r\nexports.getCorrelationContext = getCorrelationContext;\r\n/**\r\n * Returns a function that will get the same correlation context within its\r\n * function body as the code executing this function.\r\n * Use this method if automatic dependency correlation is not propagating\r\n * correctly to an asynchronous callback.\r\n */\r\nfunction wrapWithCorrelationContext(fn) {\r\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\r\n}\r\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\r\n/**\r\n * The active configuration for global SDK behaviors, such as autocollection.\r\n */\r\nvar Configuration = (function () {\r\n    function Configuration() {\r\n    }\r\n    /**\r\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\r\n     * @param value if true logger activity will be sent to Application Insights\r\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\r\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\r\n        _isConsole = value;\r\n        _isConsoleLog = collectConsoleLog;\r\n        if (_isStarted) {\r\n            _console.enable(value, collectConsoleLog);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of exception tracking (enabled by default)\r\n     * @param value if true uncaught exceptions will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectExceptions = function (value) {\r\n        _isExceptions = value;\r\n        if (_isStarted) {\r\n            _exceptions.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of performance tracking (enabled by default)\r\n     * @param value if true performance counters will be collected every second and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPerformance = function (value) {\r\n        _isPerformance = value;\r\n        if (_isStarted) {\r\n            _performance.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true requests will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectRequests = function (value) {\r\n        _isRequests = value;\r\n        if (_isStarted) {\r\n            _serverRequests.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of dependency tracking (enabled by default)\r\n     * @param value if true dependencies will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectDependencies = function (value) {\r\n        _isDependencies = value;\r\n        if (_isStarted) {\r\n            _clientRequests.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of automatic dependency correlation (enabled by default)\r\n     * @param value if true dependencies will be correlated with requests\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoDependencyCorrelation = function (value) {\r\n        _isCorrelating = value;\r\n        if (_isStarted) {\r\n            _serverRequests.useAutoCorrelation(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\r\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        _isDiskRetry = value;\r\n        _diskRetryInterval = resendInterval;\r\n        _diskRetryMaxBytes = maxBytesOnDisk;\r\n        if (exports.defaultClient && exports.defaultClient.channel) {\r\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables debug and warning logging for AppInsights itself.\r\n     * @param enableDebugLogging if true, enables debug logging\r\n     * @param enableWarningLogging if true, enables warning logging\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\r\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\r\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\r\n        Logging.enableDebug = enableDebugLogging;\r\n        Logging.disableWarnings = !enableWarningLogging;\r\n        return Configuration;\r\n    };\r\n    // Convenience shortcut to ApplicationInsights.start\r\n    Configuration.start = start;\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\n/**\r\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\r\n*/\r\nfunction dispose() {\r\n    exports.defaultClient = null;\r\n    _isStarted = false;\r\n    if (_console) {\r\n        _console.dispose();\r\n    }\r\n    if (_exceptions) {\r\n        _exceptions.dispose();\r\n    }\r\n    if (_performance) {\r\n        _performance.dispose();\r\n    }\r\n    if (_serverRequests) {\r\n        _serverRequests.dispose();\r\n    }\r\n    if (_clientRequests) {\r\n        _clientRequests.dispose();\r\n    }\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=applicationinsights.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bunyan = require(\"./bunyan.pub\");\r\nexports.bunyan = bunyan;\r\nvar consolePub = require(\"./console.pub\");\r\nexports.console = consolePub;\r\nvar mongodbCore = require(\"./mongodb-core.pub\");\r\nexports.mongodbCore = mongodbCore;\r\nvar mongodb = require(\"./mongodb.pub\");\r\nexports.mongodb = mongodb;\r\nvar mysql = require(\"./mysql.pub\");\r\nexports.mysql = mysql;\r\nvar pgPool = require(\"./pg-pool.pub\");\r\nexports.pgPool = pgPool;\r\nvar pg = require(\"./pg.pub\");\r\nexports.pg = pg;\r\nvar redis = require(\"./redis.pub\");\r\nexports.redis = redis;\r\nvar winston = require(\"./winston.pub\");\r\nexports.winston = winston;\r\nfunction enable() {\r\n    bunyan.enable();\r\n    consolePub.enable();\r\n    mongodbCore.enable();\r\n    mongodb.enable();\r\n    mysql.enable();\r\n    pg.enable();\r\n    pgPool.enable();\r\n    redis.enable();\r\n    winston.enable();\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar bunyanPatchFunction = function (originalBunyan) {\r\n    var originalEmit = originalBunyan.prototype._emit;\r\n    originalBunyan.prototype._emit = function (rec, noemit) {\r\n        var ret = originalEmit.apply(this, arguments);\r\n        if (!noemit) {\r\n            var str = ret;\r\n            if (!str) {\r\n                str = originalEmit.call(this, rec, true);\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\r\n        }\r\n        return ret;\r\n    };\r\n    return originalBunyan;\r\n};\r\nexports.bunyan = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: bunyanPatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.pub.js.map","exports = module.exports = SemVer;\n\n// The debug function is excluded entirely from the minified version.\n/* nomin */ var debug;\n/* nomin */ if (typeof process === 'object' &&\n    /* nomin */ process.env &&\n    /* nomin */ process.env.NODE_DEBUG &&\n    /* nomin */ /\\bsemver\\b/i.test(process.env.NODE_DEBUG))\n  /* nomin */ debug = function() {\n    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);\n    /* nomin */ args.unshift('SEMVER');\n    /* nomin */ console.log.apply(console, args);\n    /* nomin */ };\n/* nomin */ else\n  /* nomin */ debug = function() {};\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar R = 0;\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++;\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\nvar NUMERICIDENTIFIERLOOSE = R++;\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++;\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++;\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')';\n\nvar MAINVERSIONLOOSE = R++;\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++;\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')';\n\nvar PRERELEASEIDENTIFIERLOOSE = R++;\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')';\n\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++;\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n\nvar PRERELEASELOOSE = R++;\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++;\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++;\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))';\n\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++;\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?';\n\nsrc[FULL] = '^' + FULLPLAIN + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?';\n\nvar LOOSE = R++;\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$';\n\nvar GTLT = R++;\nsrc[GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++;\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\nvar XRANGEIDENTIFIER = R++;\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\nvar XRANGEPLAIN = R++;\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?';\n\nvar XRANGEPLAINLOOSE = R++;\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?';\n\nvar XRANGE = R++;\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\nvar XRANGELOOSE = R++;\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$';\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++;\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])';\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++;\nsrc[LONETILDE] = '(?:~>?)';\n\nvar TILDETRIM = R++;\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\nvar TILDE = R++;\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\nvar TILDELOOSE = R++;\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++;\nsrc[LONECARET] = '(?:\\\\^)';\n\nvar CARETTRIM = R++;\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\nvar CARET = R++;\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\nvar CARETLOOSE = R++;\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++;\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\nvar COMPARATOR = R++;\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$';\n\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++;\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++;\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\nvar HYPHENRANGELOOSE = R++;\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++;\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i])\n    re[i] = new RegExp(src[i]);\n}\n\nexports.parse = parse;\nfunction parse(version, loose) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  if (version.length > MAX_LENGTH)\n    return null;\n\n  var r = loose ? re[LOOSE] : re[FULL];\n  if (!r.test(version))\n    return null;\n\n  try {\n    return new SemVer(version, loose);\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.valid = valid;\nfunction valid(version, loose) {\n  var v = parse(version, loose);\n  return v ? v.version : null;\n}\n\n\nexports.clean = clean;\nfunction clean(version, loose) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), loose);\n  return s ? s.version : null;\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer(version, loose) {\n  if (version instanceof SemVer) {\n    if (version.loose === loose)\n      return version;\n    else\n      version = version.version;\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version);\n  }\n\n  if (version.length > MAX_LENGTH)\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n\n  if (!(this instanceof SemVer))\n    return new SemVer(version, loose);\n\n  debug('SemVer', version, loose);\n  this.loose = loose;\n  var m = version.trim().match(loose ? re[LOOSE] : re[FULL]);\n\n  if (!m)\n    throw new TypeError('Invalid Version: ' + version);\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0)\n    throw new TypeError('Invalid major version')\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)\n    throw new TypeError('Invalid minor version')\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)\n    throw new TypeError('Invalid patch version')\n\n  // numberify any prerelease numeric ids\n  if (!m[4])\n    this.prerelease = [];\n  else\n    this.prerelease = m[4].split('.').map(function(id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id;\n        if (num >= 0 && num < MAX_SAFE_INTEGER)\n          return num;\n      }\n      return id;\n    });\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function() {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length)\n    this.version += '-' + this.prerelease.join('.');\n  return this.version;\n};\n\nSemVer.prototype.toString = function() {\n  return this.version;\n};\n\nSemVer.prototype.compare = function(other) {\n  debug('SemVer.compare', this.version, this.loose, other);\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return this.compareMain(other) || this.comparePre(other);\n};\n\nSemVer.prototype.compareMain = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch);\n};\n\nSemVer.prototype.comparePre = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length)\n    return -1;\n  else if (!this.prerelease.length && other.prerelease.length)\n    return 1;\n  else if (!this.prerelease.length && !other.prerelease.length)\n    return 0;\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined)\n      return 0;\n    else if (b === undefined)\n      return 1;\n    else if (a === undefined)\n      return -1;\n    else if (a === b)\n      continue;\n    else\n      return compareIdentifiers(a, b);\n  } while (++i);\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function(release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break;\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break;\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0)\n        this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)\n        this.major++;\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0)\n        this.minor++;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0)\n        this.patch++;\n      this.prerelease = [];\n      break;\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0)\n        this.prerelease = [0];\n      else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) // didn't increment anything\n          this.prerelease.push(0);\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1]))\n            this.prerelease = [identifier, 0];\n        } else\n          this.prerelease = [identifier, 0];\n      }\n      break;\n\n    default:\n      throw new Error('invalid increment argument: ' + release);\n  }\n  this.format();\n  this.raw = this.version;\n  return this;\n};\n\nexports.inc = inc;\nfunction inc(version, release, loose, identifier) {\n  if (typeof(loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version;\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.diff = diff;\nfunction diff(version1, version2) {\n  if (eq(version1, version2)) {\n    return null;\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    if (v1.prerelease.length || v2.prerelease.length) {\n      for (var key in v1) {\n        if (key === 'major' || key === 'minor' || key === 'patch') {\n          if (v1[key] !== v2[key]) {\n            return 'pre'+key;\n          }\n        }\n      }\n      return 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return key;\n        }\n      }\n    }\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return (anum && !bnum) ? -1 :\n         (bnum && !anum) ? 1 :\n         a < b ? -1 :\n         a > b ? 1 :\n         0;\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers(a, b) {\n  return compareIdentifiers(b, a);\n}\n\nexports.major = major;\nfunction major(a, loose) {\n  return new SemVer(a, loose).major;\n}\n\nexports.minor = minor;\nfunction minor(a, loose) {\n  return new SemVer(a, loose).minor;\n}\n\nexports.patch = patch;\nfunction patch(a, loose) {\n  return new SemVer(a, loose).patch;\n}\n\nexports.compare = compare;\nfunction compare(a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose));\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose(a, b) {\n  return compare(a, b, true);\n}\n\nexports.rcompare = rcompare;\nfunction rcompare(a, b, loose) {\n  return compare(b, a, loose);\n}\n\nexports.sort = sort;\nfunction sort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.compare(a, b, loose);\n  });\n}\n\nexports.rsort = rsort;\nfunction rsort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.rcompare(a, b, loose);\n  });\n}\n\nexports.gt = gt;\nfunction gt(a, b, loose) {\n  return compare(a, b, loose) > 0;\n}\n\nexports.lt = lt;\nfunction lt(a, b, loose) {\n  return compare(a, b, loose) < 0;\n}\n\nexports.eq = eq;\nfunction eq(a, b, loose) {\n  return compare(a, b, loose) === 0;\n}\n\nexports.neq = neq;\nfunction neq(a, b, loose) {\n  return compare(a, b, loose) !== 0;\n}\n\nexports.gte = gte;\nfunction gte(a, b, loose) {\n  return compare(a, b, loose) >= 0;\n}\n\nexports.lte = lte;\nfunction lte(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n}\n\nexports.cmp = cmp;\nfunction cmp(a, op, b, loose) {\n  var ret;\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a === b;\n      break;\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a !== b;\n      break;\n    case '': case '=': case '==': ret = eq(a, b, loose); break;\n    case '!=': ret = neq(a, b, loose); break;\n    case '>': ret = gt(a, b, loose); break;\n    case '>=': ret = gte(a, b, loose); break;\n    case '<': ret = lt(a, b, loose); break;\n    case '<=': ret = lte(a, b, loose); break;\n    default: throw new TypeError('Invalid operator: ' + op);\n  }\n  return ret;\n}\n\nexports.Comparator = Comparator;\nfunction Comparator(comp, loose) {\n  if (comp instanceof Comparator) {\n    if (comp.loose === loose)\n      return comp;\n    else\n      comp = comp.value;\n  }\n\n  if (!(this instanceof Comparator))\n    return new Comparator(comp, loose);\n\n  debug('comparator', comp, loose);\n  this.loose = loose;\n  this.parse(comp);\n\n  if (this.semver === ANY)\n    this.value = '';\n  else\n    this.value = this.operator + this.semver.version;\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function(comp) {\n  var r = this.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m)\n    throw new TypeError('Invalid comparator: ' + comp);\n\n  this.operator = m[1];\n  if (this.operator === '=')\n    this.operator = '';\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2])\n    this.semver = ANY;\n  else\n    this.semver = new SemVer(m[2], this.loose);\n};\n\nComparator.prototype.toString = function() {\n  return this.value;\n};\n\nComparator.prototype.test = function(version) {\n  debug('Comparator.test', version, this.loose);\n\n  if (this.semver === ANY)\n    return true;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  return cmp(version, this.operator, this.semver, this.loose);\n};\n\nComparator.prototype.intersects = function(comp, loose) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required');\n  }\n\n  var rangeTmp;\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, loose);\n    return satisfies(this.value, rangeTmp, loose);\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, loose);\n    return satisfies(comp.semver, rangeTmp, loose);\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>');\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<');\n  var sameSemVer = this.semver.version === comp.semver.version;\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=');\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, loose) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'));\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, loose) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'));\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n};\n\n\nexports.Range = Range;\nfunction Range(range, loose) {\n  if (range instanceof Range) {\n    if (range.loose === loose) {\n      return range;\n    } else {\n      return new Range(range.raw, loose);\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, loose);\n  }\n\n  if (!(this instanceof Range))\n    return new Range(range, loose);\n\n  this.loose = loose;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function(range) {\n    return this.parseRange(range.trim());\n  }, this).filter(function(c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length;\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range);\n  }\n\n  this.format();\n}\n\nRange.prototype.format = function() {\n  this.range = this.set.map(function(comps) {\n    return comps.join(' ').trim();\n  }).join('||').trim();\n  return this.range;\n};\n\nRange.prototype.toString = function() {\n  return this.range;\n};\n\nRange.prototype.parseRange = function(range) {\n  var loose = this.loose;\n  range = range.trim();\n  debug('range', range, loose);\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var set = range.split(' ').map(function(comp) {\n    return parseComparator(comp, loose);\n  }).join(' ').split(/\\s+/);\n  if (this.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function(comp) {\n      return !!comp.match(compRe);\n    });\n  }\n  set = set.map(function(comp) {\n    return new Comparator(comp, loose);\n  });\n\n  return set;\n};\n\nRange.prototype.intersects = function(range, loose) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required');\n  }\n\n  return this.set.some(function(thisComparators) {\n    return thisComparators.every(function(thisComparator) {\n      return range.set.some(function(rangeComparators) {\n        return rangeComparators.every(function(rangeComparator) {\n          return thisComparator.intersects(rangeComparator, loose);\n        });\n      });\n    });\n  });\n};\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators(range, loose) {\n  return new Range(range, loose).set.map(function(comp) {\n    return comp.map(function(c) {\n      return c.value;\n    }).join(' ').trim().split(' ');\n  });\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator(comp, loose) {\n  debug('comp', comp);\n  comp = replaceCarets(comp, loose);\n  debug('caret', comp);\n  comp = replaceTildes(comp, loose);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, loose);\n  debug('xrange', comp);\n  comp = replaceStars(comp, loose);\n  debug('stars', comp);\n  return comp;\n}\n\nfunction isX(id) {\n  return !id || id.toLowerCase() === 'x' || id === '*';\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceTilde(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceTilde(comp, loose) {\n  var r = loose ? re[TILDELOOSE] : re[TILDE];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p))\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    else if (pr) {\n      debug('replaceTilde pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      ret = '>=' + M + '.' + m + '.' + p + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceCaret(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceCaret(comp, loose) {\n  debug('caret', comp, loose);\n  var r = loose ? re[CARETLOOSE] : re[CARET];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p)) {\n      if (M === '0')\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      else\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p + pr +\n              ' <' + (+M + 1) + '.0.0';\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n}\n\nfunction replaceXRanges(comp, loose) {\n  debug('replaceXRanges', comp, loose);\n  return comp.split(/\\s+/).map(function(comp) {\n    return replaceXRange(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceXRange(comp, loose) {\n  comp = comp.trim();\n  var r = loose ? re[XRANGELOOSE] : re[XRANGE];\n  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX)\n      gtlt = '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // replace X with 0\n      if (xm)\n        m = 0;\n      if (xp)\n        p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else if (xp) {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n        if (xm)\n          M = +M + 1;\n        else\n          m = +m + 1;\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('xRange return', ret);\n\n    return ret;\n  });\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars(comp, loose) {\n  debug('replaceStars', comp, loose);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '');\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace($0,\n                       from, fM, fm, fp, fpr, fb,\n                       to, tM, tm, tp, tpr, tb) {\n\n  if (isX(fM))\n    from = '';\n  else if (isX(fm))\n    from = '>=' + fM + '.0.0';\n  else if (isX(fp))\n    from = '>=' + fM + '.' + fm + '.0';\n  else\n    from = '>=' + from;\n\n  if (isX(tM))\n    to = '';\n  else if (isX(tm))\n    to = '<' + (+tM + 1) + '.0.0';\n  else if (isX(tp))\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  else if (tpr)\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  else\n    to = '<=' + to;\n\n  return (from + ' ' + to).trim();\n}\n\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function(version) {\n  if (!version)\n    return false;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version))\n      return true;\n  }\n  return false;\n};\n\nfunction testSet(set, version) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version))\n      return false;\n  }\n\n  if (version.prerelease.length) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY)\n        continue;\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch)\n          return true;\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false;\n  }\n\n  return true;\n}\n\nexports.satisfies = satisfies;\nfunction satisfies(version, range, loose) {\n  try {\n    range = new Range(range, loose);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying(versions, range, loose) {\n  var max = null;\n  var maxSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!max || maxSV.compare(v) === -1) { // compare(max, v, true)\n        max = v;\n        maxSV = new SemVer(max, loose);\n      }\n    }\n  })\n  return max;\n}\n\nexports.minSatisfying = minSatisfying;\nfunction minSatisfying(versions, range, loose) {\n  var min = null;\n  var minSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!min || minSV.compare(v) === 1) { // compare(min, v, true)\n        min = v;\n        minSV = new SemVer(min, loose);\n      }\n    }\n  })\n  return min;\n}\n\nexports.validRange = validRange;\nfunction validRange(range, loose) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, loose).range || '*';\n  } catch (er) {\n    return null;\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr(version, range, loose) {\n  return outside(version, range, '<', loose);\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr(version, range, loose) {\n  return outside(version, range, '>', loose);\n}\n\nexports.outside = outside;\nfunction outside(version, range, hilo, loose) {\n  version = new SemVer(version, loose);\n  range = new Range(range, loose);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, loose)) {\n    return false;\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function(comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, loose)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, loose)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false;\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false;\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexports.prerelease = prerelease;\nfunction prerelease(version, loose) {\n  var parsed = parse(version, loose);\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null;\n}\n\nexports.intersects = intersects;\nfunction intersects(r1, r2, loose) {\n  r1 = new Range(r1, loose)\n  r2 = new Range(r2, loose)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce;\nfunction coerce(version) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  var match = version.match(re[COERCE]);\n\n  if (match == null)\n    return null;\n\n  return parse((match[1] || '0') + '.' + (match[2] || '0') + '.' + (match[3] || '0')); \n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar stream_1 = require(\"stream\");\r\nvar consolePatchFunction = function (originalConsole) {\r\n    var aiLoggingOutStream = new stream_1.Writable();\r\n    var aiLoggingErrStream = new stream_1.Writable();\r\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\r\n    // We create a version which publishes to the channel and also to stdout/stderr\r\n    aiLoggingOutStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\r\n        return true;\r\n    };\r\n    aiLoggingErrStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\r\n        return true;\r\n    };\r\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\r\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\r\n    var _loop_1 = function (method) {\r\n        var originalMethod = originalConsole[method];\r\n        if (originalMethod) {\r\n            originalConsole[method] = function () {\r\n                if (aiLoggingConsole[method]) {\r\n                    try {\r\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\r\n                    }\r\n                    catch (e) {\r\n                        // Ignore errors; allow the original method to throw if necessary\r\n                    }\r\n                }\r\n                return originalMethod.apply(originalConsole, arguments);\r\n            };\r\n        }\r\n    };\r\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\r\n        var method = consoleMethods_1[_i];\r\n        _loop_1(method);\r\n    }\r\n    return originalConsole;\r\n};\r\nexports.console = {\r\n    versionSpecifier: \">= 4.0.0\",\r\n    patch: consolePatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\r\n    // Force patching of console\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    require(\"console\");\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.pub.js.map","module.exports = require(\"stream\");","module.exports = require(\"console\");","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbcorePatchFunction = function (originalMongoCore) {\r\n    var originalConnect = originalMongoCore.Server.prototype.connect;\r\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.pool.write;\r\n        this.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.pool.logout;\r\n        this.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongoCore;\r\n};\r\nexports.mongoCore2 = {\r\n    versionSpecifier: \">= 2.0.0 < 2.2.0\",\r\n    patch: mongodbcorePatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore2);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbPatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument({\r\n        operationIdGenerator: {\r\n            next: function () {\r\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n            },\r\n        },\r\n    });\r\n    var eventMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        eventMap[event.requestId] = event;\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n    });\r\n    return originalMongo;\r\n};\r\nexports.mongo2 = {\r\n    versionSpecifier: \">= 2.0.0 <= 2.2.x\",\r\n    patch: mongodbPatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar path = require(\"path\");\r\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\r\n    // The `name` passed in here is for debugging purposes,\r\n    // to help distinguish which object is being patched.\r\n    var patchObjectFunction = function (obj, name) {\r\n        return function (func, cbWrapper) {\r\n            var originalFunc = obj[func];\r\n            if (originalFunc) {\r\n                obj[func] = function mysqlContextPreserver() {\r\n                    // Find the callback, if there is one\r\n                    var cbidx = arguments.length - 1;\r\n                    for (var i = arguments.length - 1; i >= 0; --i) {\r\n                        if (typeof arguments[i] === \"function\") {\r\n                            cbidx = i;\r\n                            break;\r\n                        }\r\n                        else if (typeof arguments[i] !== \"undefined\") {\r\n                            break;\r\n                        }\r\n                    }\r\n                    var cb = arguments[cbidx];\r\n                    var resultContainer = { result: null, startTime: null };\r\n                    if (typeof cb === \"function\") {\r\n                        // Preserve context on the callback.\r\n                        // If this is one of the functions that we want to track,\r\n                        // then wrap the callback with the tracking wrapper\r\n                        if (cbWrapper) {\r\n                            resultContainer.startTime = process.hrtime();\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\r\n                        }\r\n                        else {\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\r\n                        }\r\n                    }\r\n                    var result = originalFunc.apply(this, arguments);\r\n                    resultContainer.result = result;\r\n                    return result;\r\n                };\r\n            }\r\n        };\r\n    };\r\n    var patchClassMemberFunction = function (classObject, name) {\r\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\r\n    };\r\n    var connectionCallbackFunctions = [\r\n        \"connect\", \"changeUser\",\r\n        \"ping\", \"statistics\", \"end\",\r\n    ];\r\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\r\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\r\n    // Connection.createQuery is a static method\r\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\r\n        return function (err) {\r\n            var hrDuration = process.hrtime(resultContainer.startTime);\r\n            /* tslint:disable-next-line:no-bitwise */\r\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration });\r\n            cb.apply(this, arguments);\r\n        };\r\n    });\r\n    var poolCallbackFunctions = [\r\n        \"_enqueueCallback\",\r\n    ];\r\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\r\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\r\n    return originalMysql;\r\n};\r\nexports.mysql = {\r\n    versionSpecifier: \">= 2.0.0 <= 2.14.x\",\r\n    patch: mysqlPatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 174;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 175;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nfunction postgresPool1PatchFunction(originalPgPool) {\r\n    var originalConnect = originalPgPool.prototype.connect;\r\n    originalPgPool.prototype.connect = function connect(callback) {\r\n        if (callback) {\r\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\r\n        }\r\n        originalConnect.apply(this, arguments);\r\n    };\r\n    return originalPgPool;\r\n}\r\nexports.postgresPool1 = {\r\n    versionSpecifier: \"1.x\",\r\n    patch: postgresPool1PatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar events_1 = require(\"events\");\r\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port,\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n        };\r\n        var start = process.hrtime();\r\n        var queryResult;\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\r\n                // emulate weird internal behavior in pg@6\r\n                // on success, the callback is called *before* query events are emitted\r\n                // on failure, the callback is called *instead of* the query emitting events\r\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\r\n                // since we are always inserting ourselves as a callback, we have to restore the original\r\n                // behavior if the user didn't provide one themselves\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // this function takes too many variations of arguments.\r\n        // this patches any provided callback or creates a new callback if one wasn't provided.\r\n        // since the callback is always called (if provided) in addition to always having a Promisified\r\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values,\r\n                    };\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    // pg v6 will, for some reason, accept both\r\n                    // client.query(\"...\", undefined, () => {...})\r\n                    // **and**\r\n                    // client.query(\"...\", () => {...});\r\n                    // Internally, precedence is given to the callback argument\r\n                    if (callback) {\r\n                        callback = patchCallback(callback);\r\n                    }\r\n                    else {\r\n                        values = patchCallback(values);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values,\r\n                    };\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    values = patchCallback(values);\r\n                }\r\n                else {\r\n                    config.callback = patchCallback(config.callback);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        queryResult = originalClientQuery.apply(this, arguments);\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nexports.postgres6 = {\r\n    versionSpecifier: \"6.x\",\r\n    patch: postgres6PatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar redisPatchFunction = function (originalRedis) {\r\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\r\n    // Note: This is mixing together both context tracking and dependency tracking\r\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\r\n        if (commandObj) {\r\n            var cb_1 = commandObj.callback;\r\n            if (!cb_1 || !cb_1.pubsubBound) {\r\n                var address_1 = this.address;\r\n                var startTime_1 = process.hrtime();\r\n                // Note: augmenting the callback on internal_send_command is correct for context\r\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\r\n                // which higher levels expect in some cases\r\n                // However, the only other option is to intercept every individual command.\r\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\r\n                    var hrDuration = process.hrtime(startTime_1);\r\n                    /* tslint:disable-next-line:no-bitwise */\r\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result });\r\n                    if (typeof cb_1 === \"function\") {\r\n                        cb_1.apply(this, arguments);\r\n                    }\r\n                });\r\n                commandObj.callback.pubsubBound = true;\r\n            }\r\n        }\r\n        return originalSend.call(this, commandObj);\r\n    };\r\n    return originalRedis;\r\n};\r\nexports.redis = {\r\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\r\n    patch: redisPatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\n// register a \"filter\" with each logger that publishes the data about to be logged\r\nvar winstonPatchFunction = function (originalWinston) {\r\n    var originalLog = originalWinston.Logger.prototype.log;\r\n    var curLevels;\r\n    var loggingFilter = function (level, message, meta) {\r\n        var levelKind;\r\n        if (curLevels === originalWinston.config.npm.levels) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (curLevels === originalWinston.config.syslog.levels) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\r\n        return message;\r\n    };\r\n    // whenever someone logs, ensure our filter comes last\r\n    originalWinston.Logger.prototype.log = function log() {\r\n        curLevels = this.levels;\r\n        if (!this.filters || this.filters.length === 0) {\r\n            this.filters = [loggingFilter];\r\n        }\r\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\r\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\r\n            this.filters.push(loggingFilter);\r\n        }\r\n        return originalLog.apply(this, arguments);\r\n    };\r\n    return originalWinston;\r\n};\r\nexports.winston = {\r\n    versionSpecifier: \"2.x\",\r\n    patch: winstonPatchFunction,\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.pub.js.map","/**\n* @license\n* Copyright Google Inc. All Rights Reserved.\n*\n* Use of this source code is governed by an MIT-style license that can be\n* found in the LICENSE file at https://angular.io/license\n*/\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (factory());\n}(this, (function () { 'use strict';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nvar Zone$1 = (function (global) {\n    if (global['Zone']) {\n        throw new Error('Zone already loaded.');\n    }\n    var Zone = (function () {\n        function Zone(parent, zoneSpec) {\n            this._properties = null;\n            this._parent = parent;\n            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';\n            this._properties = zoneSpec && zoneSpec.properties || {};\n            this._zoneDelegate =\n                new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n        }\n        Zone.assertZonePatched = function () {\n            if (global.Promise !== ZoneAwarePromise) {\n                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +\n                    'has been overwritten.\\n' +\n                    'Most likely cause is that a Promise polyfill has been loaded ' +\n                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +\n                    'If you must load one, do so before loading zone.js.)');\n            }\n        };\n        Object.defineProperty(Zone, \"current\", {\n            get: function () {\n                return _currentZoneFrame.zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        \n        Object.defineProperty(Zone, \"currentTask\", {\n            get: function () {\n                return _currentTask;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        \n        Object.defineProperty(Zone.prototype, \"parent\", {\n            get: function () {\n                return this._parent;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        \n        Object.defineProperty(Zone.prototype, \"name\", {\n            get: function () {\n                return this._name;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        \n        Zone.prototype.get = function (key) {\n            var zone = this.getZoneWith(key);\n            if (zone)\n                return zone._properties[key];\n        };\n        Zone.prototype.getZoneWith = function (key) {\n            var current = this;\n            while (current) {\n                if (current._properties.hasOwnProperty(key)) {\n                    return current;\n                }\n                current = current._parent;\n            }\n            return null;\n        };\n        Zone.prototype.fork = function (zoneSpec) {\n            if (!zoneSpec)\n                throw new Error('ZoneSpec required!');\n            return this._zoneDelegate.fork(this, zoneSpec);\n        };\n        Zone.prototype.wrap = function (callback, source) {\n            if (typeof callback !== 'function') {\n                throw new Error('Expecting function got: ' + callback);\n            }\n            var _callback = this._zoneDelegate.intercept(this, callback, source);\n            var zone = this;\n            return function () {\n                return zone.runGuarded(_callback, this, arguments, source);\n            };\n        };\n        Zone.prototype.run = function (callback, applyThis, applyArgs, source) {\n            if (applyThis === void 0) { applyThis = null; }\n            if (applyArgs === void 0) { applyArgs = null; }\n            if (source === void 0) { source = null; }\n            _currentZoneFrame = new ZoneFrame(_currentZoneFrame, this);\n            try {\n                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        };\n        Zone.prototype.runGuarded = function (callback, applyThis, applyArgs, source) {\n            if (applyThis === void 0) { applyThis = null; }\n            if (applyArgs === void 0) { applyArgs = null; }\n            if (source === void 0) { source = null; }\n            _currentZoneFrame = new ZoneFrame(_currentZoneFrame, this);\n            try {\n                try {\n                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        };\n        Zone.prototype.runTask = function (task, applyThis, applyArgs) {\n            task.runCount++;\n            if (task.zone != this)\n                throw new Error('A task can only be run in the zone which created it! (Creation: ' + task.zone.name +\n                    '; Execution: ' + this.name + ')');\n            var previousTask = _currentTask;\n            _currentTask = task;\n            _currentZoneFrame = new ZoneFrame(_currentZoneFrame, this);\n            try {\n                if (task.type == 'macroTask' && task.data && !task.data.isPeriodic) {\n                    task.cancelFn = null;\n                }\n                try {\n                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n                _currentTask = previousTask;\n            }\n        };\n        Zone.prototype.scheduleMicroTask = function (source, callback, data, customSchedule) {\n            return this._zoneDelegate.scheduleTask(this, new ZoneTask('microTask', this, source, callback, data, customSchedule, null));\n        };\n        Zone.prototype.scheduleMacroTask = function (source, callback, data, customSchedule, customCancel) {\n            return this._zoneDelegate.scheduleTask(this, new ZoneTask('macroTask', this, source, callback, data, customSchedule, customCancel));\n        };\n        Zone.prototype.scheduleEventTask = function (source, callback, data, customSchedule, customCancel) {\n            return this._zoneDelegate.scheduleTask(this, new ZoneTask('eventTask', this, source, callback, data, customSchedule, customCancel));\n        };\n        Zone.prototype.cancelTask = function (task) {\n            var value = this._zoneDelegate.cancelTask(this, task);\n            task.runCount = -1;\n            task.cancelFn = null;\n            return value;\n        };\n        return Zone;\n    }());\n    Zone.__symbol__ = __symbol__;\n    \n    var ZoneDelegate = (function () {\n        function ZoneDelegate(zone, parentDelegate, zoneSpec) {\n            this._taskCounts = { microTask: 0, macroTask: 0, eventTask: 0 };\n            this.zone = zone;\n            this._parentDelegate = parentDelegate;\n            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);\n            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);\n            this._forkCurrZone = zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate.zone);\n            this._interceptZS =\n                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);\n            this._interceptDlgt =\n                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);\n            this._interceptCurrZone =\n                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate.zone);\n            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);\n            this._invokeDlgt =\n                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);\n            this._invokeCurrZone = zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate.zone);\n            this._handleErrorZS =\n                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);\n            this._handleErrorDlgt =\n                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);\n            this._handleErrorCurrZone =\n                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate.zone);\n            this._scheduleTaskZS =\n                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);\n            this._scheduleTaskDlgt =\n                zoneSpec && (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);\n            this._scheduleTaskCurrZone =\n                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate.zone);\n            this._invokeTaskZS =\n                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);\n            this._invokeTaskDlgt =\n                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);\n            this._invokeTaskCurrZone =\n                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate.zone);\n            this._cancelTaskZS =\n                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);\n            this._cancelTaskDlgt =\n                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);\n            this._cancelTaskCurrZone =\n                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate.zone);\n            this._hasTaskZS = zoneSpec && (zoneSpec.onHasTask ? zoneSpec : parentDelegate._hasTaskZS);\n            this._hasTaskDlgt =\n                zoneSpec && (zoneSpec.onHasTask ? parentDelegate : parentDelegate._hasTaskDlgt);\n            this._hasTaskCurrZone = zoneSpec && (zoneSpec.onHasTask ? this.zone : parentDelegate.zone);\n        }\n        ZoneDelegate.prototype.fork = function (targetZone, zoneSpec) {\n            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :\n                new Zone(targetZone, zoneSpec);\n        };\n        ZoneDelegate.prototype.intercept = function (targetZone, callback, source) {\n            return this._interceptZS ?\n                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :\n                callback;\n        };\n        ZoneDelegate.prototype.invoke = function (targetZone, callback, applyThis, applyArgs, source) {\n            return this._invokeZS ?\n                this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :\n                callback.apply(applyThis, applyArgs);\n        };\n        ZoneDelegate.prototype.handleError = function (targetZone, error) {\n            return this._handleErrorZS ?\n                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :\n                true;\n        };\n        ZoneDelegate.prototype.scheduleTask = function (targetZone, task) {\n            try {\n                if (this._scheduleTaskZS) {\n                    return this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);\n                }\n                else if (task.scheduleFn) {\n                    task.scheduleFn(task);\n                }\n                else if (task.type == 'microTask') {\n                    scheduleMicroTask(task);\n                }\n                else {\n                    throw new Error('Task is missing scheduleFn.');\n                }\n                return task;\n            }\n            finally {\n                if (targetZone == this.zone) {\n                    this._updateTaskCount(task.type, 1);\n                }\n            }\n        };\n        ZoneDelegate.prototype.invokeTask = function (targetZone, task, applyThis, applyArgs) {\n            try {\n                return this._invokeTaskZS ?\n                    this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :\n                    task.callback.apply(applyThis, applyArgs);\n            }\n            finally {\n                if (targetZone == this.zone && (task.type != 'eventTask') &&\n                    !(task.data && task.data.isPeriodic)) {\n                    this._updateTaskCount(task.type, -1);\n                }\n            }\n        };\n        ZoneDelegate.prototype.cancelTask = function (targetZone, task) {\n            var value;\n            if (this._cancelTaskZS) {\n                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);\n            }\n            else if (!task.cancelFn) {\n                throw new Error('Task does not support cancellation, or is already canceled.');\n            }\n            else {\n                value = task.cancelFn(task);\n            }\n            if (targetZone == this.zone) {\n                // this should not be in the finally block, because exceptions assume not canceled.\n                this._updateTaskCount(task.type, -1);\n            }\n            return value;\n        };\n        ZoneDelegate.prototype.hasTask = function (targetZone, isEmpty) {\n            return this._hasTaskZS &&\n                this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);\n        };\n        ZoneDelegate.prototype._updateTaskCount = function (type, count) {\n            var counts = this._taskCounts;\n            var prev = counts[type];\n            var next = counts[type] = prev + count;\n            if (next < 0) {\n                throw new Error('More tasks executed then were scheduled.');\n            }\n            if (prev == 0 || next == 0) {\n                var isEmpty = {\n                    microTask: counts.microTask > 0,\n                    macroTask: counts.macroTask > 0,\n                    eventTask: counts.eventTask > 0,\n                    change: type\n                };\n                try {\n                    this.hasTask(this.zone, isEmpty);\n                }\n                finally {\n                    if (this._parentDelegate) {\n                        this._parentDelegate._updateTaskCount(type, count);\n                    }\n                }\n            }\n        };\n        return ZoneDelegate;\n    }());\n    var ZoneTask = (function () {\n        function ZoneTask(type, zone, source, callback, options, scheduleFn, cancelFn) {\n            this.runCount = 0;\n            this.type = type;\n            this.zone = zone;\n            this.source = source;\n            this.data = options;\n            this.scheduleFn = scheduleFn;\n            this.cancelFn = cancelFn;\n            this.callback = callback;\n            var self = this;\n            this.invoke = function () {\n                _numberOfNestedTaskFrames++;\n                try {\n                    return zone.runTask(self, this, arguments);\n                }\n                finally {\n                    if (_numberOfNestedTaskFrames == 1) {\n                        drainMicroTaskQueue();\n                    }\n                    _numberOfNestedTaskFrames--;\n                }\n            };\n        }\n        ZoneTask.prototype.toString = function () {\n            if (this.data && typeof this.data.handleId !== 'undefined') {\n                return this.data.handleId;\n            }\n            else {\n                return Object.prototype.toString.call(this);\n            }\n        };\n        // add toJSON method to prevent cyclic error when\n        // call JSON.stringify(zoneTask)\n        ZoneTask.prototype.toJSON = function () {\n            return {\n                type: this.type,\n                source: this.source,\n                data: this.data,\n                zone: this.zone.name,\n                invoke: this.invoke,\n                scheduleFn: this.scheduleFn,\n                cancelFn: this.cancelFn,\n                runCount: this.runCount,\n                callback: this.callback\n            };\n        };\n        return ZoneTask;\n    }());\n    var ZoneFrame = (function () {\n        function ZoneFrame(parent, zone) {\n            this.parent = parent;\n            this.zone = zone;\n        }\n        return ZoneFrame;\n    }());\n    function __symbol__(name) {\n        return '__zone_symbol__' + name;\n    }\n    \n    var symbolSetTimeout = __symbol__('setTimeout');\n    var symbolPromise = __symbol__('Promise');\n    var symbolThen = __symbol__('then');\n    var _currentZoneFrame = new ZoneFrame(null, new Zone(null, null));\n    var _currentTask = null;\n    var _microTaskQueue = [];\n    var _isDrainingMicrotaskQueue = false;\n    var _uncaughtPromiseErrors = [];\n    var _numberOfNestedTaskFrames = 0;\n    function scheduleQueueDrain() {\n        // if we are not running in any task, and there has not been anything scheduled\n        // we must bootstrap the initial task creation by manually scheduling the drain\n        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {\n            // We are not running in Task, so we need to kickstart the microtask queue.\n            if (global[symbolPromise]) {\n                global[symbolPromise].resolve(0)[symbolThen](drainMicroTaskQueue);\n            }\n            else {\n                global[symbolSetTimeout](drainMicroTaskQueue, 0);\n            }\n        }\n    }\n    function scheduleMicroTask(task) {\n        scheduleQueueDrain();\n        _microTaskQueue.push(task);\n    }\n    function consoleError(e) {\n        var rejection = e && e.rejection;\n        if (rejection) {\n            console.error('Unhandled Promise rejection:', rejection instanceof Error ? rejection.message : rejection, '; Zone:', e.zone.name, '; Task:', e.task && e.task.source, '; Value:', rejection, rejection instanceof Error ? rejection.stack : undefined);\n        }\n        console.error(e);\n    }\n    function drainMicroTaskQueue() {\n        if (!_isDrainingMicrotaskQueue) {\n            _isDrainingMicrotaskQueue = true;\n            while (_microTaskQueue.length) {\n                var queue = _microTaskQueue;\n                _microTaskQueue = [];\n                for (var i = 0; i < queue.length; i++) {\n                    var task = queue[i];\n                    try {\n                        task.zone.runTask(task, null, null);\n                    }\n                    catch (e) {\n                        consoleError(e);\n                    }\n                }\n            }\n            while (_uncaughtPromiseErrors.length) {\n                var _loop_1 = function () {\n                    var uncaughtPromiseError = _uncaughtPromiseErrors.shift();\n                    try {\n                        uncaughtPromiseError.zone.runGuarded(function () {\n                            throw uncaughtPromiseError;\n                        });\n                    }\n                    catch (e) {\n                        consoleError(e);\n                    }\n                };\n                while (_uncaughtPromiseErrors.length) {\n                    _loop_1();\n                }\n            }\n            _isDrainingMicrotaskQueue = false;\n        }\n    }\n    function isThenable(value) {\n        return value && value.then;\n    }\n    function forwardResolution(value) {\n        return value;\n    }\n    function forwardRejection(rejection) {\n        return ZoneAwarePromise.reject(rejection);\n    }\n    var symbolState = __symbol__('state');\n    var symbolValue = __symbol__('value');\n    var source = 'Promise.then';\n    var UNRESOLVED = null;\n    var RESOLVED = true;\n    var REJECTED = false;\n    var REJECTED_NO_CATCH = 0;\n    function makeResolver(promise, state) {\n        return function (v) {\n            resolvePromise(promise, state, v);\n            // Do not return value or you will break the Promise spec.\n        };\n    }\n    function resolvePromise(promise, state, value) {\n        if (promise[symbolState] === UNRESOLVED) {\n            if (value instanceof ZoneAwarePromise && value.hasOwnProperty(symbolState) &&\n                value.hasOwnProperty(symbolValue) && value[symbolState] !== UNRESOLVED) {\n                clearRejectedNoCatch(value);\n                resolvePromise(promise, value[symbolState], value[symbolValue]);\n            }\n            else if (isThenable(value)) {\n                value.then(makeResolver(promise, state), makeResolver(promise, false));\n            }\n            else {\n                promise[symbolState] = state;\n                var queue = promise[symbolValue];\n                promise[symbolValue] = value;\n                for (var i = 0; i < queue.length;) {\n                    scheduleResolveOrReject(promise, queue[i++], queue[i++], queue[i++], queue[i++]);\n                }\n                if (queue.length == 0 && state == REJECTED) {\n                    promise[symbolState] = REJECTED_NO_CATCH;\n                    try {\n                        throw new Error('Uncaught (in promise): ' + value +\n                            (value && value.stack ? '\\n' + value.stack : ''));\n                    }\n                    catch (e) {\n                        var error_1 = e;\n                        error_1.rejection = value;\n                        error_1.promise = promise;\n                        error_1.zone = Zone.current;\n                        error_1.task = Zone.currentTask;\n                        _uncaughtPromiseErrors.push(error_1);\n                        scheduleQueueDrain();\n                    }\n                }\n            }\n        }\n        // Resolving an already resolved promise is a noop.\n        return promise;\n    }\n    function clearRejectedNoCatch(promise) {\n        if (promise[symbolState] === REJECTED_NO_CATCH) {\n            promise[symbolState] = REJECTED;\n            for (var i = 0; i < _uncaughtPromiseErrors.length; i++) {\n                if (promise === _uncaughtPromiseErrors[i].promise) {\n                    _uncaughtPromiseErrors.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    }\n    function scheduleResolveOrReject(promise, zone, chainPromise, onFulfilled, onRejected) {\n        clearRejectedNoCatch(promise);\n        var delegate = promise[symbolState] ? onFulfilled || forwardResolution : onRejected || forwardRejection;\n        zone.scheduleMicroTask(source, function () {\n            try {\n                resolvePromise(chainPromise, true, zone.run(delegate, null, [promise[symbolValue]]));\n            }\n            catch (error) {\n                resolvePromise(chainPromise, false, error);\n            }\n        });\n    }\n    var ZoneAwarePromise = (function () {\n        function ZoneAwarePromise(executor) {\n            var promise = this;\n            if (!(promise instanceof ZoneAwarePromise)) {\n                throw new Error('Must be an instanceof Promise.');\n            }\n            promise[symbolState] = UNRESOLVED;\n            promise[symbolValue] = []; // queue;\n            try {\n                executor && executor(makeResolver(promise, RESOLVED), makeResolver(promise, REJECTED));\n            }\n            catch (e) {\n                resolvePromise(promise, false, e);\n            }\n        }\n        ZoneAwarePromise.toString = function () {\n            return 'function ZoneAwarePromise() { [native code] }';\n        };\n        ZoneAwarePromise.resolve = function (value) {\n            return resolvePromise(new this(null), RESOLVED, value);\n        };\n        ZoneAwarePromise.reject = function (error) {\n            return resolvePromise(new this(null), REJECTED, error);\n        };\n        ZoneAwarePromise.race = function (values) {\n            var resolve;\n            var reject;\n            var promise = new this(function (res, rej) {\n                _a = [res, rej], resolve = _a[0], reject = _a[1];\n                var _a;\n            });\n            function onResolve(value) {\n                promise && (promise = null || resolve(value));\n            }\n            function onReject(error) {\n                promise && (promise = null || reject(error));\n            }\n            for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n                var value = values_1[_i];\n                if (!isThenable(value)) {\n                    value = this.resolve(value);\n                }\n                value.then(onResolve, onReject);\n            }\n            return promise;\n        };\n        ZoneAwarePromise.all = function (values) {\n            var resolve;\n            var reject;\n            var promise = new this(function (res, rej) {\n                resolve = res;\n                reject = rej;\n            });\n            var count = 0;\n            var resolvedValues = [];\n            for (var _i = 0, values_2 = values; _i < values_2.length; _i++) {\n                var value = values_2[_i];\n                if (!isThenable(value)) {\n                    value = this.resolve(value);\n                }\n                value.then((function (index) { return function (value) {\n                    resolvedValues[index] = value;\n                    count--;\n                    if (!count) {\n                        resolve(resolvedValues);\n                    }\n                }; })(count), reject);\n                count++;\n            }\n            if (!count)\n                resolve(resolvedValues);\n            return promise;\n        };\n        ZoneAwarePromise.prototype.then = function (onFulfilled, onRejected) {\n            var chainPromise = new this.constructor(null);\n            var zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFulfilled, onRejected);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFulfilled, onRejected);\n            }\n            return chainPromise;\n        };\n        ZoneAwarePromise.prototype.catch = function (onRejected) {\n            return this.then(null, onRejected);\n        };\n        return ZoneAwarePromise;\n    }());\n    // Protect against aggressive optimizers dropping seemingly unused properties.\n    // E.g. Closure Compiler in advanced mode.\n    ZoneAwarePromise['resolve'] = ZoneAwarePromise.resolve;\n    ZoneAwarePromise['reject'] = ZoneAwarePromise.reject;\n    ZoneAwarePromise['race'] = ZoneAwarePromise.race;\n    ZoneAwarePromise['all'] = ZoneAwarePromise.all;\n    var NativePromise = global[__symbol__('Promise')] = global['Promise'];\n    global['Promise'] = ZoneAwarePromise;\n    function patchThen(NativePromise) {\n        var NativePromiseProtototype = NativePromise.prototype;\n        var NativePromiseThen = NativePromiseProtototype[__symbol__('then')] =\n            NativePromiseProtototype.then;\n        NativePromiseProtototype.then = function (onResolve, onReject) {\n            var nativePromise = this;\n            return new ZoneAwarePromise(function (resolve, reject) {\n                NativePromiseThen.call(nativePromise, resolve, reject);\n            })\n                .then(onResolve, onReject);\n        };\n    }\n    if (NativePromise) {\n        patchThen(NativePromise);\n        if (typeof global['fetch'] !== 'undefined') {\n            var fetchPromise = void 0;\n            try {\n                // In MS Edge this throws\n                fetchPromise = global['fetch']();\n            }\n            catch (e) {\n                // In Chrome this throws instead.\n                fetchPromise = global['fetch']('about:blank');\n            }\n            // ignore output to prevent error;\n            fetchPromise.then(function () { return null; }, function () { return null; });\n            if (fetchPromise.constructor != NativePromise &&\n                fetchPromise.constructor != ZoneAwarePromise) {\n                patchThen(fetchPromise.constructor);\n            }\n        }\n    }\n    // This is not part of public API, but it is usefull for tests, so we expose it.\n    Promise[Zone.__symbol__('uncaughtPromiseErrors')] = _uncaughtPromiseErrors;\n    /*\n     * This code patches Error so that:\n     *   - It ignores un-needed stack frames.\n     *   - It Shows the associated Zone for reach frame.\n     */\n    var FrameType;\n    (function (FrameType) {\n        /// Skip this frame when printing out stack\n        FrameType[FrameType[\"blackList\"] = 0] = \"blackList\";\n        /// This frame marks zone transition\n        FrameType[FrameType[\"transition\"] = 1] = \"transition\";\n    })(FrameType || (FrameType = {}));\n    var NativeError = global[__symbol__('Error')] = global.Error;\n    // Store the frames which should be removed from the stack frames\n    var blackListedStackFrames = {};\n    // We must find the frame where Error was created, otherwise we assume we don't understand stack\n    var zoneAwareFrame;\n    global.Error = ZoneAwareError;\n    // How should the stack frames be parsed.\n    var frameParserStrategy = null;\n    var stackRewrite = 'stackRewrite';\n    // fix #595, create property descriptor\n    // for error properties\n    var createProperty = function (props, key) {\n        // if property is already defined, skip it.\n        if (props[key]) {\n            return;\n        }\n        // define a local property\n        // in case error property is not settable\n        var name = __symbol__(key);\n        props[key] = {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                // if local property has no value\n                // use internal error's property value\n                if (!this[name]) {\n                    var error_2 = this[__symbol__('error')];\n                    if (error_2) {\n                        this[name] = error_2[key];\n                    }\n                }\n                return this[name];\n            },\n            set: function (value) {\n                // setter will set value to local property value\n                this[name] = value;\n            }\n        };\n    };\n    // fix #595, create property descriptor\n    // for error method properties\n    var createMethodProperty = function (props, key) {\n        if (props[key]) {\n            return;\n        }\n        props[key] = {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: function () {\n                var error = this[__symbol__('error')];\n                var errorMethod = (error && error[key]) || this[key];\n                if (errorMethod) {\n                    return errorMethod.apply(error, arguments);\n                }\n            }\n        };\n    };\n    var createErrorProperties = function () {\n        var props = Object.create(null);\n        var error = new NativeError();\n        var keys = Object.getOwnPropertyNames(error);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(error, key)) {\n                createProperty(props, key);\n            }\n        }\n        var proto = NativeError.prototype;\n        if (proto) {\n            var pKeys = Object.getOwnPropertyNames(proto);\n            for (var i = 0; i < pKeys.length; i++) {\n                var key = pKeys[i];\n                // skip constructor\n                if (key !== 'constructor' && key !== 'toString' && key !== 'toSource') {\n                    createProperty(props, key);\n                }\n            }\n        }\n        // some other properties are not\n        // in NativeError\n        createProperty(props, 'originalStack');\n        createProperty(props, 'zoneAwareStack');\n        // define toString, toSource as method property\n        createMethodProperty(props, 'toString');\n        createMethodProperty(props, 'toSource');\n        return props;\n    };\n    var errorProperties = createErrorProperties();\n    // for derived Error class which extends ZoneAwareError\n    // we should not override the derived class's property\n    // so we create a new props object only copy the properties\n    // from errorProperties which not exist in derived Error's prototype\n    var getErrorPropertiesForPrototype = function (prototype) {\n        // if the prototype is ZoneAwareError.prototype\n        // we just return the prebuilt errorProperties.\n        if (prototype === ZoneAwareError.prototype) {\n            return errorProperties;\n        }\n        var newProps = Object.create(null);\n        var cKeys = Object.getOwnPropertyNames(errorProperties);\n        var keys = Object.getOwnPropertyNames(prototype);\n        cKeys.forEach(function (cKey) {\n            if (keys.filter(function (key) {\n                return key === cKey;\n            })\n                .length === 0) {\n                newProps[cKey] = errorProperties[cKey];\n            }\n        });\n        return newProps;\n    };\n    /**\n     * This is ZoneAwareError which processes the stack frame and cleans up extra frames as well as\n     * adds zone information to it.\n     */\n    function ZoneAwareError() {\n        // make sure we have a valid this\n        // if this is undefined(call Error without new) or this is global\n        // or this is some other objects, we should force to create a\n        // valid ZoneAwareError by call Object.create()\n        if (!(this instanceof ZoneAwareError)) {\n            return ZoneAwareError.apply(Object.create(ZoneAwareError.prototype), arguments);\n        }\n        // Create an Error.\n        var error = NativeError.apply(this, arguments);\n        this[__symbol__('error')] = error;\n        // Save original stack trace\n        error.originalStack = error.stack;\n        // Process the stack trace and rewrite the frames.\n        if (ZoneAwareError[stackRewrite] && error.originalStack) {\n            var frames_1 = error.originalStack.split('\\n');\n            var zoneFrame = _currentZoneFrame;\n            var i = 0;\n            // Find the first frame\n            while (frames_1[i] !== zoneAwareFrame && i < frames_1.length) {\n                i++;\n            }\n            for (; i < frames_1.length && zoneFrame; i++) {\n                var frame = frames_1[i];\n                if (frame.trim()) {\n                    var frameType = blackListedStackFrames.hasOwnProperty(frame) && blackListedStackFrames[frame];\n                    if (frameType === FrameType.blackList) {\n                        frames_1.splice(i, 1);\n                        i--;\n                    }\n                    else if (frameType === FrameType.transition) {\n                        if (zoneFrame.parent) {\n                            // This is the special frame where zone changed. Print and process it accordingly\n                            frames_1[i] += \" [\" + zoneFrame.parent.zone.name + \" => \" + zoneFrame.zone.name + \"]\";\n                            zoneFrame = zoneFrame.parent;\n                        }\n                        else {\n                            zoneFrame = null;\n                        }\n                    }\n                    else {\n                        frames_1[i] += \" [\" + zoneFrame.zone.name + \"]\";\n                    }\n                }\n            }\n            error.stack = error.zoneAwareStack = frames_1.join('\\n');\n        }\n        // use defineProperties here instead of copy property value\n        // because of issue #595 which will break angular2.\n        Object.defineProperties(this, getErrorPropertiesForPrototype(Object.getPrototypeOf(this)));\n        return this;\n    }\n    // Copy the prototype so that instanceof operator works as expected\n    ZoneAwareError.prototype = NativeError.prototype;\n    ZoneAwareError[Zone.__symbol__('blacklistedStackFrames')] = blackListedStackFrames;\n    ZoneAwareError[stackRewrite] = false;\n    if (NativeError.hasOwnProperty('stackTraceLimit')) {\n        // Extend default stack limit as we will be removing few frames.\n        NativeError.stackTraceLimit = Math.max(NativeError.stackTraceLimit, 15);\n        // make sure that ZoneAwareError has the same property which forwards to NativeError.\n        Object.defineProperty(ZoneAwareError, 'stackTraceLimit', {\n            get: function () {\n                return NativeError.stackTraceLimit;\n            },\n            set: function (value) {\n                return NativeError.stackTraceLimit = value;\n            }\n        });\n    }\n    if (NativeError.hasOwnProperty('captureStackTrace')) {\n        Object.defineProperty(ZoneAwareError, 'captureStackTrace', {\n            // add named function here because we need to remove this\n            // stack frame when prepareStackTrace below\n            value: function zoneCaptureStackTrace(targetObject, constructorOpt) {\n                NativeError.captureStackTrace(targetObject, constructorOpt);\n            }\n        });\n    }\n    Object.defineProperty(ZoneAwareError, 'prepareStackTrace', {\n        get: function () {\n            return NativeError.prepareStackTrace;\n        },\n        set: function (value) {\n            if (!value || typeof value !== 'function') {\n                return NativeError.prepareStackTrace = value;\n            }\n            return NativeError.prepareStackTrace = function (error, structuredStackTrace) {\n                // remove additional stack information from ZoneAwareError.captureStackTrace\n                if (structuredStackTrace) {\n                    for (var i = 0; i < structuredStackTrace.length; i++) {\n                        var st = structuredStackTrace[i];\n                        // remove the first function which name is zoneCaptureStackTrace\n                        if (st.getFunctionName() === 'zoneCaptureStackTrace') {\n                            structuredStackTrace.splice(i, 1);\n                            break;\n                        }\n                    }\n                }\n                return value.apply(this, [error, structuredStackTrace]);\n            };\n        }\n    });\n    // Now we need to populet the `blacklistedStackFrames` as well as find the\n    // run/runGuraded/runTask frames. This is done by creating a detect zone and then threading\n    // the execution through all of the above methods so that we can look at the stack trace and\n    // find the frames of interest.\n    var detectZone = Zone.current.fork({\n        name: 'detect',\n        onInvoke: function (parentZoneDelegate, currentZone, targetZone, delegate, applyThis, applyArgs, source) {\n            // Here only so that it will show up in the stack frame so that it can be black listed.\n            return parentZoneDelegate.invoke(targetZone, delegate, applyThis, applyArgs, source);\n        },\n        onHandleError: function (parentZD, current, target, error) {\n            if (error.originalStack && Error === ZoneAwareError) {\n                var frames_2 = error.originalStack.split(/\\n/);\n                var runFrame = false, runGuardedFrame = false, runTaskFrame = false;\n                while (frames_2.length) {\n                    var frame = frames_2.shift();\n                    // On safari it is possible to have stack frame with no line number.\n                    // This check makes sure that we don't filter frames on name only (must have\n                    // linenumber)\n                    if (/:\\d+:\\d+/.test(frame)) {\n                        // Get rid of the path so that we don't accidintely find function name in path.\n                        // In chrome the seperator is `(` and `@` in FF and safari\n                        // Chrome: at Zone.run (zone.js:100)\n                        // Chrome: at Zone.run (http://localhost:9876/base/build/lib/zone.js:100:24)\n                        // FireFox: Zone.prototype.run@http://localhost:9876/base/build/lib/zone.js:101:24\n                        // Safari: run@http://localhost:9876/base/build/lib/zone.js:101:24\n                        var fnName = frame.split('(')[0].split('@')[0];\n                        var frameType = FrameType.transition;\n                        if (fnName.indexOf('ZoneAwareError') !== -1) {\n                            zoneAwareFrame = frame;\n                        }\n                        if (fnName.indexOf('runGuarded') !== -1) {\n                            runGuardedFrame = true;\n                        }\n                        else if (fnName.indexOf('runTask') !== -1) {\n                            runTaskFrame = true;\n                        }\n                        else if (fnName.indexOf('run') !== -1) {\n                            runFrame = true;\n                        }\n                        else {\n                            frameType = FrameType.blackList;\n                        }\n                        blackListedStackFrames[frame] = frameType;\n                        // Once we find all of the frames we can stop looking.\n                        if (runFrame && runGuardedFrame && runTaskFrame) {\n                            ZoneAwareError[stackRewrite] = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            return false;\n        }\n    });\n    // carefully constructor a stack frame which contains all of the frames of interest which\n    // need to be detected and blacklisted.\n    var detectRunFn = function () {\n        detectZone.run(function () {\n            detectZone.runGuarded(function () {\n                throw new Error('blacklistStackFrames');\n            });\n        });\n    };\n    // Cause the error to extract the stack frames.\n    detectZone.runTask(detectZone.scheduleMacroTask('detect', detectRunFn, null, function () { return null; }, null));\n    return global['Zone'] = Zone;\n})(typeof window === 'object' && window || typeof self === 'object' && self || global);\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Suppress closure compiler errors about unknown 'Zone' variable\n * @fileoverview\n * @suppress {undefinedVars}\n */\nvar zoneSymbol = function (n) { return \"__zone_symbol__\" + n; };\nvar _global$1 = typeof window === 'object' && window || typeof self === 'object' && self || global;\nfunction bindArguments(args, source) {\n    for (var i = args.length - 1; i >= 0; i--) {\n        if (typeof args[i] === 'function') {\n            args[i] = Zone.current.wrap(args[i], source + '_' + i);\n        }\n    }\n    return args;\n}\n\n\nvar isNode = (!('nw' in _global$1) && typeof process !== 'undefined' &&\n    {}.toString.call(process) === '[object process]');\n\n\n\n\n\nvar EVENT_TASKS = zoneSymbol('eventTasks');\n// For EventTarget\nvar ADD_EVENT_LISTENER = 'addEventListener';\nvar REMOVE_EVENT_LISTENER = 'removeEventListener';\nfunction findExistingRegisteredTask(target, handler, name, capture, remove) {\n    var eventTasks = target[EVENT_TASKS];\n    if (eventTasks) {\n        for (var i = 0; i < eventTasks.length; i++) {\n            var eventTask = eventTasks[i];\n            var data = eventTask.data;\n            var listener = data.handler;\n            if ((data.handler === handler || listener.listener === handler) &&\n                data.useCapturing === capture && data.eventName === name) {\n                if (remove) {\n                    eventTasks.splice(i, 1);\n                }\n                return eventTask;\n            }\n        }\n    }\n    return null;\n}\nfunction findAllExistingRegisteredTasks(target, name, capture, remove) {\n    var eventTasks = target[EVENT_TASKS];\n    if (eventTasks) {\n        var result = [];\n        for (var i = eventTasks.length - 1; i >= 0; i--) {\n            var eventTask = eventTasks[i];\n            var data = eventTask.data;\n            if (data.eventName === name && data.useCapturing === capture) {\n                result.push(eventTask);\n                if (remove) {\n                    eventTasks.splice(i, 1);\n                }\n            }\n        }\n        return result;\n    }\n    return null;\n}\nfunction attachRegisteredEvent(target, eventTask, isPrepend) {\n    var eventTasks = target[EVENT_TASKS];\n    if (!eventTasks) {\n        eventTasks = target[EVENT_TASKS] = [];\n    }\n    if (isPrepend) {\n        eventTasks.unshift(eventTask);\n    }\n    else {\n        eventTasks.push(eventTask);\n    }\n}\nvar defaultListenerMetaCreator = function (self, args) {\n    return {\n        useCapturing: args[2],\n        eventName: args[0],\n        handler: args[1],\n        target: self || _global$1,\n        name: args[0],\n        invokeAddFunc: function (addFnSymbol, delegate) {\n            if (delegate && delegate.invoke) {\n                return this.target[addFnSymbol](this.eventName, delegate.invoke, this.useCapturing);\n            }\n            else {\n                return this.target[addFnSymbol](this.eventName, delegate, this.useCapturing);\n            }\n        },\n        invokeRemoveFunc: function (removeFnSymbol, delegate) {\n            if (delegate && delegate.invoke) {\n                return this.target[removeFnSymbol](this.eventName, delegate.invoke, this.useCapturing);\n            }\n            else {\n                return this.target[removeFnSymbol](this.eventName, delegate, this.useCapturing);\n            }\n        }\n    };\n};\nfunction makeZoneAwareAddListener(addFnName, removeFnName, useCapturingParam, allowDuplicates, isPrepend, metaCreator) {\n    if (useCapturingParam === void 0) { useCapturingParam = true; }\n    if (allowDuplicates === void 0) { allowDuplicates = false; }\n    if (isPrepend === void 0) { isPrepend = false; }\n    if (metaCreator === void 0) { metaCreator = defaultListenerMetaCreator; }\n    var addFnSymbol = zoneSymbol(addFnName);\n    var removeFnSymbol = zoneSymbol(removeFnName);\n    var defaultUseCapturing = useCapturingParam ? false : undefined;\n    function scheduleEventListener(eventTask) {\n        var meta = eventTask.data;\n        attachRegisteredEvent(meta.target, eventTask, isPrepend);\n        return meta.invokeAddFunc(addFnSymbol, eventTask);\n    }\n    function cancelEventListener(eventTask) {\n        var meta = eventTask.data;\n        findExistingRegisteredTask(meta.target, eventTask.invoke, meta.eventName, meta.useCapturing, true);\n        return meta.invokeRemoveFunc(removeFnSymbol, eventTask);\n    }\n    return function zoneAwareAddListener(self, args) {\n        var data = metaCreator(self, args);\n        data.useCapturing = data.useCapturing || defaultUseCapturing;\n        // - Inside a Web Worker, `this` is undefined, the context is `global`\n        // - When `addEventListener` is called on the global context in strict mode, `this` is undefined\n        // see https://github.com/angular/zone.js/issues/190\n        var delegate = null;\n        if (typeof data.handler == 'function') {\n            delegate = data.handler;\n        }\n        else if (data.handler && data.handler.handleEvent) {\n            delegate = function (event) { return data.handler.handleEvent(event); };\n        }\n        var validZoneHandler = false;\n        try {\n            // In cross site contexts (such as WebDriver frameworks like Selenium),\n            // accessing the handler object here will cause an exception to be thrown which\n            // will fail tests prematurely.\n            validZoneHandler = data.handler && data.handler.toString() === '[object FunctionWrapper]';\n        }\n        catch (e) {\n            // Returning nothing here is fine, because objects in a cross-site context are unusable\n            return;\n        }\n        // Ignore special listeners of IE11 & Edge dev tools, see\n        // https://github.com/angular/zone.js/issues/150\n        if (!delegate || validZoneHandler) {\n            return data.invokeAddFunc(addFnSymbol, data.handler);\n        }\n        if (!allowDuplicates) {\n            var eventTask = findExistingRegisteredTask(data.target, data.handler, data.eventName, data.useCapturing, false);\n            if (eventTask) {\n                // we already registered, so this will have noop.\n                return data.invokeAddFunc(addFnSymbol, eventTask);\n            }\n        }\n        var zone = Zone.current;\n        var source = data.target.constructor['name'] + '.' + addFnName + ':' + data.eventName;\n        zone.scheduleEventTask(source, delegate, data, scheduleEventListener, cancelEventListener);\n    };\n}\nfunction makeZoneAwareRemoveListener(fnName, useCapturingParam, metaCreator) {\n    if (useCapturingParam === void 0) { useCapturingParam = true; }\n    if (metaCreator === void 0) { metaCreator = defaultListenerMetaCreator; }\n    var symbol = zoneSymbol(fnName);\n    var defaultUseCapturing = useCapturingParam ? false : undefined;\n    return function zoneAwareRemoveListener(self, args) {\n        var data = metaCreator(self, args);\n        data.useCapturing = data.useCapturing || defaultUseCapturing;\n        // - Inside a Web Worker, `this` is undefined, the context is `global`\n        // - When `addEventListener` is called on the global context in strict mode, `this` is undefined\n        // see https://github.com/angular/zone.js/issues/190\n        var eventTask = findExistingRegisteredTask(data.target, data.handler, data.eventName, data.useCapturing, true);\n        if (eventTask) {\n            eventTask.zone.cancelTask(eventTask);\n        }\n        else {\n            data.invokeRemoveFunc(symbol, data.handler);\n        }\n    };\n}\nfunction makeZoneAwareRemoveAllListeners(fnName, useCapturingParam) {\n    if (useCapturingParam === void 0) { useCapturingParam = true; }\n    var symbol = zoneSymbol(fnName);\n    var defaultUseCapturing = useCapturingParam ? false : undefined;\n    return function zoneAwareRemoveAllListener(self, args) {\n        var target = self || _global$1;\n        if (args.length === 0) {\n            // remove all listeners without eventName\n            target[EVENT_TASKS] = [];\n            // we don't cancel Task either, because call native eventEmitter.removeAllListeners will\n            // will do remove listener(cancelTask) for us\n            target[symbol]();\n            return;\n        }\n        var eventName = args[0];\n        var useCapturing = args[1] || defaultUseCapturing;\n        // call this function just remove the related eventTask from target[EVENT_TASKS]\n        findAllExistingRegisteredTasks(target, eventName, useCapturing, true);\n        // we don't need useCapturing here because useCapturing is just for DOM, and\n        // removeAllListeners should only be called by node eventEmitter\n        // and we don't cancel Task either, because call native eventEmitter.removeAllListeners will\n        // will do remove listener(cancelTask) for us\n        target[symbol](eventName);\n    };\n}\nfunction makeZoneAwareListeners(fnName) {\n    var symbol = zoneSymbol(fnName);\n    return function zoneAwareEventListeners(self, args) {\n        var eventName = args[0];\n        var target = self || _global$1;\n        if (!target[EVENT_TASKS]) {\n            return [];\n        }\n        return target[EVENT_TASKS]\n            .filter(function (task) { return task.data.eventName === eventName; })\n            .map(function (task) { return task.data.handler; });\n    };\n}\nvar zoneAwareAddEventListener = makeZoneAwareAddListener(ADD_EVENT_LISTENER, REMOVE_EVENT_LISTENER);\nvar zoneAwareRemoveEventListener = makeZoneAwareRemoveListener(REMOVE_EVENT_LISTENER);\n\nvar originalInstanceKey = zoneSymbol('originalInstance');\n// wrap some native API on `window`\n\n\nfunction createNamedFn(name, delegate) {\n    try {\n        return (Function('f', \"return function \" + name + \"(){return f(this, arguments)}\"))(delegate);\n    }\n    catch (e) {\n        // if we fail, we must be CSP, just return delegate.\n        return function () {\n            return delegate(this, arguments);\n        };\n    }\n}\nfunction patchMethod(target, name, patchFn) {\n    var proto = target;\n    while (proto && Object.getOwnPropertyNames(proto).indexOf(name) === -1) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    if (!proto && target[name]) {\n        // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n        proto = target;\n    }\n    var delegateName = zoneSymbol(name);\n    var delegate;\n    if (proto && !(delegate = proto[delegateName])) {\n        delegate = proto[delegateName] = proto[name];\n        proto[name] = createNamedFn(name, patchFn(delegate, delegateName, name));\n    }\n    return delegate;\n}\n// TODO: support cancel task later if necessary\nfunction patchMacroTask(obj, funcName, metaCreator) {\n    var setNative = null;\n    function scheduleTask(task) {\n        var data = task.data;\n        data.args[data.callbackIndex] = function () {\n            task.invoke.apply(this, arguments);\n        };\n        setNative.apply(data.target, data.args);\n        return task;\n    }\n    setNative = patchMethod(obj, funcName, function (delegate) { return function (self, args) {\n        var meta = metaCreator(self, args);\n        if (meta.callbackIndex >= 0 && typeof args[meta.callbackIndex] === 'function') {\n            var task = Zone.current.scheduleMacroTask(meta.name, args[meta.callbackIndex], meta, scheduleTask, null);\n            return task;\n        }\n        else {\n            // cause an error by calling it directly.\n            return delegate.apply(self, args);\n        }\n    }; });\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar callAndReturnFirstParam = function (fn) {\n    return function (self, args) {\n        fn(self, args);\n        return self;\n    };\n};\n// For EventEmitter\nvar EE_ADD_LISTENER = 'addListener';\nvar EE_PREPEND_LISTENER = 'prependListener';\nvar EE_REMOVE_LISTENER = 'removeListener';\nvar EE_REMOVE_ALL_LISTENER = 'removeAllListeners';\nvar EE_LISTENERS = 'listeners';\nvar EE_ON = 'on';\nvar zoneAwareAddListener$1 = callAndReturnFirstParam(makeZoneAwareAddListener(EE_ADD_LISTENER, EE_REMOVE_LISTENER, false, true, false));\nvar zoneAwarePrependListener = callAndReturnFirstParam(makeZoneAwareAddListener(EE_PREPEND_LISTENER, EE_REMOVE_LISTENER, false, true, true));\nvar zoneAwareRemoveListener$1 = callAndReturnFirstParam(makeZoneAwareRemoveListener(EE_REMOVE_LISTENER, false));\nvar zoneAwareRemoveAllListeners = callAndReturnFirstParam(makeZoneAwareRemoveAllListeners(EE_REMOVE_ALL_LISTENER, false));\nvar zoneAwareListeners = makeZoneAwareListeners(EE_LISTENERS);\nfunction patchEventEmitterMethods(obj) {\n    if (obj && obj.addListener) {\n        patchMethod(obj, EE_ADD_LISTENER, function () { return zoneAwareAddListener$1; });\n        patchMethod(obj, EE_PREPEND_LISTENER, function () { return zoneAwarePrependListener; });\n        patchMethod(obj, EE_REMOVE_LISTENER, function () { return zoneAwareRemoveListener$1; });\n        patchMethod(obj, EE_REMOVE_ALL_LISTENER, function () { return zoneAwareRemoveAllListeners; });\n        patchMethod(obj, EE_LISTENERS, function () { return zoneAwareListeners; });\n        obj[EE_ON] = obj[EE_ADD_LISTENER];\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n// EventEmitter\nvar events;\ntry {\n    events = require('events');\n}\ncatch (err) {\n}\nif (events && events.EventEmitter) {\n    patchEventEmitterMethods(events.EventEmitter.prototype);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar fs;\ntry {\n    fs = require('fs');\n}\ncatch (err) {\n}\n// watch, watchFile, unwatchFile has been patched\n// because EventEmitter has been patched\nvar TO_PATCH_MACROTASK_METHODS = [\n    'access', 'appendFile', 'chmod', 'chown', 'close', 'exists', 'fchmod',\n    'fchown', 'fdatasync', 'fstat', 'fsync', 'ftruncate', 'futimes', 'lchmod',\n    'lchown', 'link', 'lstat', 'mkdir', 'mkdtemp', 'open', 'read',\n    'readdir', 'readFile', 'readlink', 'realpath', 'rename', 'rmdir', 'stat',\n    'symlink', 'truncate', 'unlink', 'utimes', 'write', 'writeFile',\n];\nif (fs) {\n    TO_PATCH_MACROTASK_METHODS.filter(function (name) { return !!fs[name] && typeof fs[name] === 'function'; })\n        .forEach(function (name) {\n        patchMacroTask(fs, name, function (self, args) {\n            return {\n                name: 'fs.' + name,\n                args: args,\n                callbackIndex: args.length > 0 ? args.length - 1 : -1,\n                target: self\n            };\n        });\n    });\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchTimer(window, setName, cancelName, nameSuffix) {\n    var setNative = null;\n    var clearNative = null;\n    setName += nameSuffix;\n    cancelName += nameSuffix;\n    var tasksByHandleId = {};\n    function scheduleTask(task) {\n        var data = task.data;\n        data.args[0] = function () {\n            task.invoke.apply(this, arguments);\n            delete tasksByHandleId[data.handleId];\n        };\n        data.handleId = setNative.apply(window, data.args);\n        tasksByHandleId[data.handleId] = task;\n        return task;\n    }\n    function clearTask(task) {\n        delete tasksByHandleId[task.data.handleId];\n        return clearNative(task.data.handleId);\n    }\n    setNative =\n        patchMethod(window, setName, function (delegate) { return function (self, args) {\n            if (typeof args[0] === 'function') {\n                var zone = Zone.current;\n                var options = {\n                    handleId: null,\n                    isPeriodic: nameSuffix === 'Interval',\n                    delay: (nameSuffix === 'Timeout' || nameSuffix === 'Interval') ? args[1] || 0 : null,\n                    args: args\n                };\n                var task = zone.scheduleMacroTask(setName, args[0], options, scheduleTask, clearTask);\n                if (!task) {\n                    return task;\n                }\n                // Node.js must additionally support the ref and unref functions.\n                var handle = task.data.handleId;\n                if (handle.ref && handle.unref) {\n                    task.ref = handle.ref.bind(handle);\n                    task.unref = handle.unref.bind(handle);\n                }\n                return task;\n            }\n            else {\n                // cause an error by calling it directly.\n                return delegate.apply(window, args);\n            }\n        }; });\n    clearNative =\n        patchMethod(window, cancelName, function (delegate) { return function (self, args) {\n            var task = typeof args[0] === 'number' ? tasksByHandleId[args[0]] : args[0];\n            if (task && typeof task.type === 'string') {\n                if (task.cancelFn && task.data.isPeriodic || task.runCount === 0) {\n                    // Do not cancel already canceled functions\n                    task.zone.cancelTask(task);\n                }\n            }\n            else {\n                // cause an error by calling it directly.\n                delegate.apply(window, args);\n            }\n        }; });\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar set = 'set';\nvar clear = 'clear';\nvar _global = typeof window === 'object' && window || typeof self === 'object' && self || global;\n// Timers\nvar timers = require('timers');\npatchTimer(timers, set, clear, 'Timeout');\npatchTimer(timers, set, clear, 'Interval');\npatchTimer(timers, set, clear, 'Immediate');\nvar shouldPatchGlobalTimers = global.setTimeout !== timers.setTimeout;\nif (shouldPatchGlobalTimers) {\n    patchTimer(_global, set, clear, 'Timeout');\n    patchTimer(_global, set, clear, 'Interval');\n    patchTimer(_global, set, clear, 'Immediate');\n}\npatchNextTick();\n// Crypto\nvar crypto;\ntry {\n    crypto = require('crypto');\n}\ncatch (err) {\n}\n// TODO(gdi2290): implement a better way to patch these methods\nif (crypto) {\n    var nativeRandomBytes_1 = crypto.randomBytes;\n    crypto.randomBytes = function randomBytesZone(size, callback) {\n        if (!callback) {\n            return nativeRandomBytes_1(size);\n        }\n        else {\n            var zone = Zone.current;\n            var source = crypto.constructor.name + '.randomBytes';\n            return nativeRandomBytes_1(size, zone.wrap(callback, source));\n        }\n    }.bind(crypto);\n    var nativePbkdf2_1 = crypto.pbkdf2;\n    crypto.pbkdf2 = function pbkdf2Zone() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var fn = args[args.length - 1];\n        if (typeof fn === 'function') {\n            var zone = Zone.current;\n            var source = crypto.constructor.name + '.pbkdf2';\n            args[args.length - 1] = zone.wrap(fn, source);\n            return nativePbkdf2_1.apply(void 0, args);\n        }\n        else {\n            return nativePbkdf2_1.apply(void 0, args);\n        }\n    }.bind(crypto);\n}\n// HTTP Client\nvar httpClient;\ntry {\n    httpClient = require('_http_client');\n}\ncatch (err) {\n}\nif (httpClient && httpClient.ClientRequest) {\n    var ClientRequest_1 = httpClient.ClientRequest.bind(httpClient);\n    httpClient.ClientRequest = function (options, callback) {\n        if (!callback) {\n            return new ClientRequest_1(options);\n        }\n        else {\n            var zone = Zone.current;\n            return new ClientRequest_1(options, zone.wrap(callback, 'http.ClientRequest'));\n        }\n    };\n}\nfunction patchNextTick() {\n    var setNative = null;\n    function scheduleTask(task) {\n        var args = task.data;\n        args[0] = function () {\n            task.invoke.apply(this, arguments);\n        };\n        setNative.apply(process, args);\n        return task;\n    }\n    setNative =\n        patchMethod(process, 'nextTick', function (delegate) { return function (self, args) {\n            if (typeof args[0] === 'function') {\n                var zone = Zone.current;\n                var task = zone.scheduleMicroTask('nextTick', args[0], args, scheduleTask);\n                return task;\n            }\n            else {\n                // cause an error by calling it directly.\n                return delegate.apply(process, args);\n            }\n        }; });\n}\n\n})));\n","module.exports = require(\"timers\");","module.exports = require(\"_http_client\");","\"use strict\";\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar AutoCollectConsole = (function () {\r\n    function AutoCollectConsole(client) {\r\n        if (!!AutoCollectConsole.INSTANCE) {\r\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\r\n        }\r\n        this._client = client;\r\n        AutoCollectConsole.INSTANCE = this;\r\n    }\r\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\r\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectConsole.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectConsole.prototype.dispose = function () {\r\n        AutoCollectConsole.INSTANCE = null;\r\n        this.enable(false, false);\r\n    };\r\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\r\n    return AutoCollectConsole;\r\n}());\r\nmodule.exports = AutoCollectConsole;\r\n//# sourceMappingURL=Console.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        // Message can have a trailing newline\r\n        var message = event.data.message;\r\n        if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n            message = message.substring(0, message.length - 1);\r\n        }\r\n        client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Generated_1 = require(\"./Generated\");\r\nvar RemoteDependencyDataConstants = (function () {\r\n    function RemoteDependencyDataConstants() {\r\n    }\r\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\r\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\r\n    return RemoteDependencyDataConstants;\r\n}());\r\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\r\nfunction domainSupportsProperties(domain) {\r\n    return \"properties\" in domain ||\r\n        domain instanceof Generated_1.EventData ||\r\n        domain instanceof Generated_1.ExceptionData ||\r\n        domain instanceof Generated_1.MessageData ||\r\n        domain instanceof Generated_1.MetricData ||\r\n        domain instanceof Generated_1.PageViewData ||\r\n        domain instanceof Generated_1.RemoteDependencyData ||\r\n        domain instanceof Generated_1.RequestData;\r\n}\r\nexports.domainSupportsProperties = domainSupportsProperties;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of AvailabilityData represent the result of executing an availability test.\r\n */\r\nvar AvailabilityData = (function (_super) {\r\n    __extends(AvailabilityData, _super);\r\n    function AvailabilityData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return AvailabilityData;\r\n}(Domain));\r\nmodule.exports = AvailabilityData;\r\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nvar ContextTagKeys = (function () {\r\n    function ContextTagKeys() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n    }\r\n    return ContextTagKeys;\r\n}());\r\nmodule.exports = ContextTagKeys;\r\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Base = require(\"./Base\");\r\n\"use strict\";\r\n/**\r\n * Data struct to contain both B and C sections.\r\n */\r\nvar Data = (function (_super) {\r\n    __extends(Data, _super);\r\n    function Data() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return Data;\r\n}(Base));\r\nmodule.exports = Data;\r\n//# sourceMappingURL=Data.js.map","\"use strict\";\r\n// THIS FILE WAS AUTOGENERATED\r\nvar DataPointType = require(\"./DataPointType\");\r\n\"use strict\";\r\n/**\r\n * Metric data single measurement.\r\n */\r\nvar DataPoint = (function () {\r\n    function DataPoint() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n    return DataPoint;\r\n}());\r\nmodule.exports = DataPoint;\r\n//# sourceMappingURL=DataPoint.js.map","\"use strict\";\r\n/**\r\n * System variables for a telemetry item.\r\n */\r\nvar Envelope = (function () {\r\n    function Envelope() {\r\n        this.ver = 1;\r\n        this.sampleRate = 100.0;\r\n        this.tags = {};\r\n    }\r\n    return Envelope;\r\n}());\r\nmodule.exports = Envelope;\r\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n */\r\nvar ExceptionData = (function (_super) {\r\n    __extends(ExceptionData, _super);\r\n    function ExceptionData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.exceptions = [];\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return ExceptionData;\r\n}(Domain));\r\nmodule.exports = ExceptionData;\r\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\r\n/**\r\n * Exception details of the exception in a chain.\r\n */\r\nvar ExceptionDetails = (function () {\r\n    function ExceptionDetails() {\r\n        this.hasFullStack = true;\r\n        this.parsedStack = [];\r\n    }\r\n    return ExceptionDetails;\r\n}());\r\nmodule.exports = ExceptionDetails;\r\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n */\r\nvar MessageData = (function (_super) {\r\n    __extends(MessageData, _super);\r\n    function MessageData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MessageData;\r\n}(Domain));\r\nmodule.exports = MessageData;\r\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n */\r\nvar MetricData = (function (_super) {\r\n    __extends(MetricData, _super);\r\n    function MetricData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.metrics = [];\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MetricData;\r\n}(Domain));\r\nmodule.exports = MetricData;\r\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar EventData = require(\"./EventData\");\r\n\"use strict\";\r\n/**\r\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n */\r\nvar PageViewData = (function (_super) {\r\n    __extends(PageViewData, _super);\r\n    function PageViewData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewData;\r\n}(EventData));\r\nmodule.exports = PageViewData;\r\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n */\r\nvar RemoteDependencyData = (function (_super) {\r\n    __extends(RemoteDependencyData, _super);\r\n    function RemoteDependencyData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.success = true;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RemoteDependencyData;\r\n}(Domain));\r\nmodule.exports = RemoteDependencyData;\r\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\r\n */\r\nvar RequestData = (function (_super) {\r\n    __extends(RequestData, _super);\r\n    function RequestData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RequestData;\r\n}(Domain));\r\nmodule.exports = RequestData;\r\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nvar SeverityLevel;\r\n(function (SeverityLevel) {\r\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\r\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\r\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\r\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\r\n})(SeverityLevel || (SeverityLevel = {}));\r\nmodule.exports = SeverityLevel;\r\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Stack frame information.\r\n */\r\nvar StackFrame = (function () {\r\n    function StackFrame() {\r\n    }\r\n    return StackFrame;\r\n}());\r\nmodule.exports = StackFrame;\r\n//# sourceMappingURL=StackFrame.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./TelemetryType\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\r\n * @param type Type to convert to BaseData string\r\n */\r\nfunction telemetryTypeToBaseType(type) {\r\n    switch (type) {\r\n        case TelemetryType.Event:\r\n            return \"EventData\";\r\n        case TelemetryType.Exception:\r\n            return \"ExceptionData\";\r\n        case TelemetryType.Trace:\r\n            return \"MessageData\";\r\n        case TelemetryType.Metric:\r\n            return \"MetricData\";\r\n        case TelemetryType.Request:\r\n            return \"RequestData\";\r\n        case TelemetryType.Dependency:\r\n            return \"RemoteDependencyData\";\r\n    }\r\n    return undefined;\r\n}\r\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\r\n/**\r\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\r\n * @param baseType BaseData string to convert to TelemetryType\r\n */\r\nfunction baseTypeToTelemetryType(baseType) {\r\n    switch (baseType) {\r\n        case \"EventData\":\r\n            return TelemetryType.Event;\r\n        case \"ExceptionData\":\r\n            return TelemetryType.Exception;\r\n        case \"MessageData\":\r\n            return TelemetryType.Trace;\r\n        case \"MetricData\":\r\n            return TelemetryType.Metric;\r\n        case \"RequestData\":\r\n            return TelemetryType.Request;\r\n        case \"RemoteDependencyData\":\r\n            return TelemetryType.Dependency;\r\n    }\r\n    return undefined;\r\n}\r\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\r\n/**\r\n * Telemetry types supported by this SDK\r\n */\r\nvar TelemetryType;\r\n(function (TelemetryType) {\r\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\r\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\r\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\r\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\r\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\r\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\r\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\r\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nvar bunyanToAILevelMap = {\r\n    10: Contracts_1.SeverityLevel.Verbose,\r\n    20: Contracts_1.SeverityLevel.Verbose,\r\n    30: Contracts_1.SeverityLevel.Information,\r\n    40: Contracts_1.SeverityLevel.Warning,\r\n    50: Contracts_1.SeverityLevel.Error,\r\n    60: Contracts_1.SeverityLevel.Critical,\r\n};\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var AIlevel = bunyanToAILevelMap[event.data.level];\r\n        client.trackTrace({ message: event.data.result, severity: AIlevel });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar winstonToAILevelMap = {\r\n    syslog: function (og) {\r\n        var map = {\r\n            emerg: Contracts_1.SeverityLevel.Critical,\r\n            alert: Contracts_1.SeverityLevel.Critical,\r\n            crit: Contracts_1.SeverityLevel.Critical,\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warning: Contracts_1.SeverityLevel.Warning,\r\n            notice: Contracts_1.SeverityLevel.Information,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            debug: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    npm: function (og) {\r\n        var map = {\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warn: Contracts_1.SeverityLevel.Warning,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            verbose: Contracts_1.SeverityLevel.Verbose,\r\n            debug: Contracts_1.SeverityLevel.Verbose,\r\n            silly: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    unknown: function (og) {\r\n        return Contracts_1.SeverityLevel.Information;\r\n    }\r\n};\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\r\n        client.trackTrace({\r\n            message: event.data.message,\r\n            severity: AIlevel,\r\n            properties: event.data.meta\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\r\nvar AutoCollectExceptions = (function () {\r\n    function AutoCollectExceptions(client) {\r\n        if (!!AutoCollectExceptions.INSTANCE) {\r\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectExceptions.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    Object.defineProperty(AutoCollectExceptions, \"UNCAUGHT_EXCEPTION_HANDLER_NAME\", {\r\n        get: function () { return \"uncaughtException\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AutoCollectExceptions, \"UNHANDLED_REJECTION_HANDLER_NAME\", {\r\n        get: function () { return \"unhandledRejection\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AutoCollectExceptions.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        if (isEnabled) {\r\n            this._isInitialized = true;\r\n            var self = this;\r\n            if (!this._exceptionListenerHandle) {\r\n                var handle = function (reThrow, error) {\r\n                    _this._client.trackException({ exception: error });\r\n                    _this._client.flush({ isAppCrashing: true });\r\n                    if (reThrow) {\r\n                        var THIS_IS_APPLICATION_INSIGHTS_RETHROWING_YOUR_EXCEPTION = error;\r\n                        throw THIS_IS_APPLICATION_INSIGHTS_RETHROWING_YOUR_EXCEPTION; // Error originated somewhere else in your app\r\n                    }\r\n                };\r\n                this._exceptionListenerHandle = handle.bind(this, true);\r\n                this._rejectionListenerHandle = handle.bind(this, false);\r\n                process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n            }\r\n        }\r\n        else {\r\n            if (this._exceptionListenerHandle) {\r\n                process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                this._exceptionListenerHandle = undefined;\r\n                this._rejectionListenerHandle = undefined;\r\n                delete this._exceptionListenerHandle;\r\n                delete this._rejectionListenerHandle;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectExceptions.prototype.dispose = function () {\r\n        AutoCollectExceptions.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectExceptions.INSTANCE = null;\r\n    return AutoCollectExceptions;\r\n}());\r\nmodule.exports = AutoCollectExceptions;\r\n//# sourceMappingURL=Exceptions.js.map","module.exports = require(\"constants\");","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n/**\r\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpDependencyParser = (function (_super) {\r\n    __extends(HttpDependencyParser, _super);\r\n    function HttpDependencyParser(requestOptions, request) {\r\n        var _this = _super.call(this) || this;\r\n        if (request && request.method && requestOptions) {\r\n            // The ClientRequest.method property isn't documented, but is always there.\r\n            _this.method = request.method;\r\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\r\n            _this.startTime = +new Date();\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Called when the ClientRequest emits an error event.\r\n     */\r\n    HttpDependencyParser.prototype.onError = function (error) {\r\n        this._setStatus(undefined, error);\r\n    };\r\n    /**\r\n     * Called when the ClientRequest emits a response event.\r\n     */\r\n    HttpDependencyParser.prototype.onResponse = function (response) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\r\n    };\r\n    /**\r\n     * Gets a dependency data contract object for a completed ClientRequest.\r\n     */\r\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\r\n        var urlObject = url.parse(this.url);\r\n        urlObject.search = undefined;\r\n        urlObject.hash = undefined;\r\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\r\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        var remoteDependencyTarget = urlObject.hostname;\r\n        if (this.correlationId) {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\r\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\r\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\r\n            }\r\n        }\r\n        else {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        }\r\n        var dependencyTelemetry = {\r\n            id: dependencyId,\r\n            name: dependencyName,\r\n            data: this.url,\r\n            duration: this.duration,\r\n            success: this._isSuccess(),\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            properties: this.properties || {},\r\n            dependencyTypeName: remoteDependencyType,\r\n            target: remoteDependencyTarget\r\n        };\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!dependencyTelemetry[key]) {\r\n                    dependencyTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return dependencyTelemetry;\r\n    };\r\n    /**\r\n     * Builds a URL from request options, using the same logic as http.request(). This is\r\n     * necessary because a ClientRequest object does not expose a url property.\r\n     */\r\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\r\n        if (typeof options === 'string') {\r\n            options = url.parse(options);\r\n        }\r\n        else {\r\n            // Avoid modifying the original options object.\r\n            var originalOptions_1 = options;\r\n            options = {};\r\n            if (originalOptions_1) {\r\n                Object.keys(originalOptions_1).forEach(function (key) {\r\n                    options[key] = originalOptions_1[key];\r\n                });\r\n            }\r\n        }\r\n        // Oddly, url.format ignores path and only uses pathname and search,\r\n        // so create them from the path, if path was specified\r\n        if (options.path) {\r\n            var parsedQuery = url.parse(options.path);\r\n            options.pathname = parsedQuery.pathname;\r\n            options.search = parsedQuery.search;\r\n        }\r\n        // Simiarly, url.format ignores hostname and port if host is specified,\r\n        // even if host doesn't have the port, but http.request does not work\r\n        // this way. It will use the port if one is not specified in host,\r\n        // effectively treating host as hostname, but will use the port specified\r\n        // in host if it exists.\r\n        if (options.host && options.port) {\r\n            // Force a protocol so it will parse the host as the host, not path.\r\n            // It is discarded and not used, so it doesn't matter if it doesn't match\r\n            var parsedHost = url.parse(\"http://\" + options.host);\r\n            if (!parsedHost.port && options.port) {\r\n                options.hostname = options.host;\r\n                delete options.host;\r\n            }\r\n        }\r\n        // Mix in default values used by http.request and others\r\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\r\n        options.hostname = options.hostname || 'localhost';\r\n        return url.format(options);\r\n    };\r\n    return HttpDependencyParser;\r\n}(RequestParser));\r\nmodule.exports = HttpDependencyParser;\r\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: event.data.event.commandName,\r\n            name: event.data.event.commandName,\r\n            duration: event.data.event.duration,\r\n            success: event.data.succeeded,\r\n            /* TODO: transmit result code from mongo */\r\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n            dependencyTypeName: 'mongodb'\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var queryObj = event.data.query || {};\r\n        var sqlString = queryObj.sql || \"Unknown query\";\r\n        var success = !event.data.err;\r\n        var connection = queryObj._connection || {};\r\n        var connectionConfig = connection.config || {};\r\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: sqlString,\r\n            name: sqlString,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            /* TODO: transmit result code from mysql */\r\n            resultCode: success ? \"0\" : \"1\",\r\n            dependencyTypeName: \"mysql\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency({\r\n            target: event.data.address,\r\n            name: event.data.commandObj.command,\r\n            data: event.data.commandObj.command,\r\n            duration: event.data.duration,\r\n            success: !event.data.err,\r\n            /* TODO: transmit result code from redis */\r\n            resultCode: event.data.err ? \"1\" : \"0\",\r\n            dependencyTypeName: \"redis\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var q = event.data.query;\r\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\r\n        var success = !event.data.error;\r\n        var conn = event.data.database.host + \":\" + event.data.database.port;\r\n        client.trackDependency({\r\n            target: conn,\r\n            data: sql,\r\n            name: sql,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            resultCode: success ? \"0\" : \"1\",\r\n            dependencyTypeName: \"postgres\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n/**\r\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpRequestParser = (function (_super) {\r\n    __extends(HttpRequestParser, _super);\r\n    function HttpRequestParser(request, requestId) {\r\n        var _this = _super.call(this) || this;\r\n        if (request) {\r\n            _this.method = request.method;\r\n            _this.url = _this._getAbsoluteUrl(request);\r\n            _this.startTime = +new Date();\r\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\r\n            _this.parseHeaders(request, requestId);\r\n            if (request.connection) {\r\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\r\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\r\n        this._setStatus(undefined, error);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\r\n        var requestTelemetry = {\r\n            id: this.requestId,\r\n            name: this.method + \" \" + url.parse(this.url).pathname,\r\n            url: this.url,\r\n            /*\r\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\r\n            for reference\r\n            */\r\n            source: this.sourceCorrelationId,\r\n            duration: this.duration,\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            success: this._isSuccess(),\r\n            properties: this.properties\r\n        };\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!requestTelemetry[key]) {\r\n                    requestTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return requestTelemetry;\r\n    };\r\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\r\n        // create a copy of the context for requests since client info will be used here\r\n        var newTags = {};\r\n        for (var key in tags) {\r\n            newTags[key] = tags[key];\r\n        }\r\n        // don't override tags if they are already set\r\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\r\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\r\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\r\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\r\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\r\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\r\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\r\n        return newTags;\r\n    };\r\n    HttpRequestParser.prototype.getOperationId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\r\n    };\r\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\r\n    };\r\n    HttpRequestParser.prototype.getOperationName = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\r\n    };\r\n    HttpRequestParser.prototype.getRequestId = function () {\r\n        return this.requestId;\r\n    };\r\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\r\n        return this.correlationContextHeader;\r\n    };\r\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\r\n        if (!request.headers) {\r\n            return request.url;\r\n        }\r\n        var encrypted = request.connection ? request.connection.encrypted : null;\r\n        var requestUrl = url.parse(request.url);\r\n        var pathName = requestUrl.pathname;\r\n        var search = requestUrl.search;\r\n        var absoluteUrl = url.format({\r\n            protocol: encrypted ? \"https\" : \"http\",\r\n            host: request.headers.host,\r\n            pathname: pathName,\r\n            search: search\r\n        });\r\n        return absoluteUrl;\r\n    };\r\n    HttpRequestParser.prototype._getIp = function () {\r\n        // regex to match ipv4 without port\r\n        // Note: including the port would cause the payload to be rejected by the data collector\r\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\r\n        var check = function (str) {\r\n            var results = ipMatch.exec(str);\r\n            if (results) {\r\n                return results[0];\r\n            }\r\n        };\r\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\r\n            || check(this.rawHeaders[\"x-client-ip\"])\r\n            || check(this.rawHeaders[\"x-real-ip\"])\r\n            || check(this.connectionRemoteAddress)\r\n            || check(this.socketRemoteAddress)\r\n            || check(this.legacySocketRemoteAddress);\r\n        // node v12 returns this if the address is \"localhost\"\r\n        if (!ip\r\n            && this.connectionRemoteAddress\r\n            && this.connectionRemoteAddress.substr\r\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\r\n            ip = \"127.0.0.1\";\r\n        }\r\n        return ip;\r\n    };\r\n    HttpRequestParser.prototype._getId = function (name) {\r\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\r\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\r\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\r\n        return value;\r\n    };\r\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\r\n        this.rawHeaders = request.headers || request.rawHeaders;\r\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\r\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\r\n        if (request.headers) {\r\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\r\n            if (request.headers[RequestResponseHeaders.requestIdHeader]) {\r\n                this.parentId = request.headers[RequestResponseHeaders.requestIdHeader];\r\n                this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\r\n                this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\r\n            }\r\n            else {\r\n                // Legacy fallback\r\n                var rootId = request.headers[RequestResponseHeaders.rootIdHeader];\r\n                this.parentId = request.headers[RequestResponseHeaders.parentIdHeader];\r\n                this.requestId = CorrelationIdManager.generateRequestId(rootId || this.parentId);\r\n                this.correlationContextHeader = null;\r\n            }\r\n            if (requestId) {\r\n                // For the scenarios that don't guarantee an AI-created context,\r\n                // override the requestId with the provided one.\r\n                this.requestId = requestId;\r\n            }\r\n            this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n        }\r\n    };\r\n    HttpRequestParser.parseId = function (cookieValue) {\r\n        return cookieValue.substr(0, cookieValue.indexOf('|'));\r\n    };\r\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\r\n    return HttpRequestParser;\r\n}(RequestParser));\r\nmodule.exports = HttpRequestParser;\r\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar TelemetryClient = require(\"./TelemetryClient\");\r\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\r\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\r\n * in addition to Node-specific helper functions.\r\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\r\n * In most cases, `appInsights.defaultClient` should be used instead.\r\n */\r\nvar NodeClient = (function (_super) {\r\n    __extends(NodeClient, _super);\r\n    function NodeClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\r\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\r\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\r\n     * @param telemetry Object encapsulating incoming request, response and duration information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\r\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\r\n            ServerRequestTracking.trackRequestSync(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\r\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\r\n     * @param telemetry Object encapsulating incoming request and response information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\r\n        if (telemetry.duration || telemetry.error) {\r\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\r\n        }\r\n        if (telemetry && telemetry.request && telemetry.response) {\r\n            ServerRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\r\n     * the specified headers and will log the telemetry when outgoing request is complete\r\n     * @param telemetry Object encapsulating outgoing request information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\r\n        if (telemetry && telemetry.request) {\r\n            ClientRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\r\n        }\r\n    };\r\n    return NodeClient;\r\n}(TelemetryClient));\r\nmodule.exports = NodeClient;\r\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\r\nvar url = require(\"url\");\r\nvar Config = require(\"./Config\");\r\nvar Context = require(\"./Context\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Channel = require(\"./Channel\");\r\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Sender = require(\"./Sender\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\r\n/**\r\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\r\n * and manually trigger immediate sending (flushing)\r\n */\r\nvar TelemetryClient = (function () {\r\n    /**\r\n     * Constructs a new client of the client\r\n     * @param iKey the instrumentation key to use (read from environment variable if not specified)\r\n     */\r\n    function TelemetryClient(iKey) {\r\n        this._telemetryProcessors = [];\r\n        var config = new Config(iKey);\r\n        this.config = config;\r\n        this.context = new Context();\r\n        this.commonProperties = {};\r\n        var sender = new Sender(this.config);\r\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\r\n    }\r\n    /**\r\n     * Log a trace message\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Trace);\r\n    };\r\n    /**\r\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\r\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\r\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Metric);\r\n    };\r\n    /**\r\n     * Log an exception\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackException = function (telemetry) {\r\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\r\n            telemetry.exception = new Error(telemetry.exception.toString());\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Exception);\r\n    };\r\n    /**\r\n     * Log a user action or other occurrence.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Event);\r\n    };\r\n    /**\r\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\r\n     * that aren't automatically captured or if you've disabled automatic request collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Request);\r\n    };\r\n    /**\r\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\r\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking option\r\n     * */\r\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\r\n        if (telemetry && !telemetry.target && telemetry.data) {\r\n            // url.parse().host returns null for non-urls,\r\n            // making this essentially a no-op in those cases\r\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\r\n            telemetry.target = url.parse(telemetry.data).host;\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\r\n    };\r\n    /**\r\n     * Immediately send all queued telemetry.\r\n     * @param options Flush options, including indicator whether app is crashing and callback\r\n     */\r\n    TelemetryClient.prototype.flush = function (options) {\r\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\r\n    };\r\n    /**\r\n     * Generic track method for all telemetry types\r\n     * @param data the telemetry to send\r\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\r\n     */\r\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\r\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\r\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\r\n            // Set time on the envelope if it was set on the telemetry item\r\n            if (telemetry.time) {\r\n                envelope.time = telemetry.time.toISOString();\r\n            }\r\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\r\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\r\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\r\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\r\n            if (accepted) {\r\n                this.channel.send(envelope);\r\n            }\r\n        }\r\n        else {\r\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\r\n     * before telemetry item is pushed for sending and in the order they were added.\r\n     *\r\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\r\n     */\r\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\r\n        this._telemetryProcessors.push(telemetryProcessor);\r\n    };\r\n    /*\r\n     * Removes all telemetry processors\r\n     */\r\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\r\n        this._telemetryProcessors = [];\r\n    };\r\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\r\n        var accepted = true;\r\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\r\n        if (telemetryProcessorsCount === 0) {\r\n            return accepted;\r\n        }\r\n        contextObjects = contextObjects || {};\r\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\r\n            try {\r\n                var processor = this._telemetryProcessors[i];\r\n                if (processor) {\r\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\r\n                        accepted = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                accepted = true;\r\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\r\n            }\r\n        }\r\n        return accepted;\r\n    };\r\n    return TelemetryClient;\r\n}());\r\nmodule.exports = TelemetryClient;\r\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\nvar Config = (function () {\r\n    function Config(instrumentationKey) {\r\n        var _this = this;\r\n        this.endpointBase = \"https://dc.services.visualstudio.com\";\r\n        this.instrumentationKey = instrumentationKey || Config._getInstrumentationKey();\r\n        this.endpointUrl = this.endpointBase + \"/v2/track\";\r\n        this.maxBatchSize = 250;\r\n        this.maxBatchIntervalMs = 15000;\r\n        this.disableAppInsights = false;\r\n        this.samplingPercentage = 100;\r\n        this.correlationIdRetryIntervalMs = 30 * 1000;\r\n        this.correlationHeaderExcludedDomains = [\r\n            \"*.core.windows.net\",\r\n            \"*.core.chinacloudapi.cn\",\r\n            \"*.core.cloudapi.de\",\r\n            \"*.core.usgovcloudapi.net\"\r\n        ];\r\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\r\n        this.profileQueryEndpoint = process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\r\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\r\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\r\n        this.httpAgent = undefined;\r\n        this.httpsAgent = undefined;\r\n    }\r\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\r\n        get: function () {\r\n            return this._profileQueryEndpoint;\r\n        },\r\n        set: function (endpoint) {\r\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\r\n            this._profileQueryEndpoint = endpoint;\r\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\r\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Config._getInstrumentationKey = function () {\r\n        // check for both the documented env variable and the azure-prefixed variable\r\n        var iKey = process.env[Config.ENV_iKey]\r\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\r\n            || process.env[Config.legacy_ENV_iKey]\r\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\r\n        if (!iKey || iKey == \"\") {\r\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\r\n        }\r\n        return iKey;\r\n    };\r\n    // Azure adds this prefix to all environment variables\r\n    Config.ENV_azurePrefix = \"APPSETTING_\";\r\n    // This key is provided in the readme\r\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\r\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\r\n    Config.ENV_http_proxy = \"http_proxy\";\r\n    Config.ENV_https_proxy = \"https_proxy\";\r\n    return Config;\r\n}());\r\nmodule.exports = Config;\r\n//# sourceMappingURL=Config.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Logging = require(\"./Logging\");\r\nvar Context = (function () {\r\n    function Context(packageJsonPath) {\r\n        this.keys = new Contracts.ContextTagKeys();\r\n        this.tags = {};\r\n        this._loadApplicationContext();\r\n        this._loadDeviceContext();\r\n        this._loadInternalContext();\r\n    }\r\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\r\n        // note: this should return the host package.json\r\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\r\n        if (!Context.appVersion[packageJsonPath]) {\r\n            Context.appVersion[packageJsonPath] = \"unknown\";\r\n            try {\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.appVersion[packageJsonPath] = packageJson.version;\r\n                }\r\n            }\r\n            catch (exception) {\r\n                Logging.info(\"unable to read app version: \", exception);\r\n            }\r\n        }\r\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\r\n    };\r\n    Context.prototype._loadDeviceContext = function () {\r\n        this.tags[this.keys.deviceId] = \"\";\r\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\r\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\r\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\r\n        // not yet supported tags\r\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\r\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\r\n    };\r\n    Context.prototype._loadInternalContext = function () {\r\n        // note: this should return the sdk package.json\r\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\r\n        if (!Context.sdkVersion) {\r\n            Context.sdkVersion = \"unknown\";\r\n            try {\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.sdkVersion = packageJson.version;\r\n                }\r\n            }\r\n            catch (exception) {\r\n                Logging.info(\"unable to read app version: \", exception);\r\n            }\r\n        }\r\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\r\n    };\r\n    Context.DefaultRoleName = \"Web\";\r\n    Context.appVersion = {};\r\n    Context.sdkVersion = null;\r\n    return Context;\r\n}());\r\nmodule.exports = Context;\r\n//# sourceMappingURL=Context.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Channel = (function () {\r\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\r\n        this._buffer = [];\r\n        this._lastSend = 0;\r\n        this._isDisabled = isDisabled;\r\n        this._getBatchSize = getBatchSize;\r\n        this._getBatchIntervalMs = getBatchIntervalMs;\r\n        this._sender = sender;\r\n    }\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\r\n    };\r\n    /**\r\n     * Add a telemetry item to the send buffer\r\n     */\r\n    Channel.prototype.send = function (envelope) {\r\n        var _this = this;\r\n        // if master off switch is set, don't send any data\r\n        if (this._isDisabled()) {\r\n            // Do not send/save data\r\n            return;\r\n        }\r\n        // validate input\r\n        if (!envelope) {\r\n            Logging.warn(\"Cannot send null/undefined telemetry\");\r\n            return;\r\n        }\r\n        // check if the incoming payload is too large, truncate if necessary\r\n        var payload = this._stringify(envelope);\r\n        if (typeof payload !== \"string\") {\r\n            return;\r\n        }\r\n        // enqueue the payload\r\n        this._buffer.push(payload);\r\n        // flush if we would exceed the max-size limit by adding this item\r\n        if (this._buffer.length >= this._getBatchSize()) {\r\n            this.triggerSend(false);\r\n            return;\r\n        }\r\n        // ensure an invocation timeout is set if anything is in the buffer\r\n        if (!this._timeoutHandle && this._buffer.length > 0) {\r\n            this._timeoutHandle = setTimeout(function () {\r\n                _this._timeoutHandle = null;\r\n                _this.triggerSend(false);\r\n            }, this._getBatchIntervalMs());\r\n        }\r\n    };\r\n    /**\r\n     * Immediately send buffered data\r\n     */\r\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\r\n        var bufferIsEmpty = this._buffer.length < 1;\r\n        if (!bufferIsEmpty) {\r\n            // compose an array of payloads\r\n            var batch = this._buffer.join(\"\\n\");\r\n            // invoke send\r\n            if (isNodeCrashing) {\r\n                this._sender.saveOnCrash(batch);\r\n                if (typeof callback === \"function\") {\r\n                    callback(\"data saved on crash\");\r\n                }\r\n            }\r\n            else {\r\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\r\n            }\r\n        }\r\n        // update lastSend time to enable throttling\r\n        this._lastSend = +new Date;\r\n        // clear buffer\r\n        this._buffer.length = 0;\r\n        clearTimeout(this._timeoutHandle);\r\n        this._timeoutHandle = null;\r\n        if (bufferIsEmpty && typeof callback === \"function\") {\r\n            callback(\"no data to send\");\r\n        }\r\n    };\r\n    Channel.prototype._stringify = function (envelope) {\r\n        try {\r\n            return JSON.stringify(envelope);\r\n        }\r\n        catch (error) {\r\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\r\n        }\r\n    };\r\n    return Channel;\r\n}());\r\nmodule.exports = Channel;\r\n//# sourceMappingURL=Channel.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./SamplingTelemetryProcessor\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\n/**\r\n *  A telemetry processor that handles sampling.\r\n */\r\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\r\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\r\n    var isSampledIn = false;\r\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n        return true;\r\n    }\r\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\r\n        // Exclude MetricData telemetry from sampling\r\n        return true;\r\n    }\r\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\r\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request \r\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\r\n    }\r\n    else {\r\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\r\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\r\n    }\r\n    return isSampledIn;\r\n}\r\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\r\n/** Ported from AI .NET SDK */\r\nfunction getSamplingHashCode(input) {\r\n    var csharpMin = -2147483648;\r\n    var csharpMax = 2147483647;\r\n    var hash = 5381;\r\n    if (!input) {\r\n        return 0;\r\n    }\r\n    while (input.length < 8) {\r\n        input = input + input;\r\n    }\r\n    for (var i = 0; i < input.length; i++) {\r\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\r\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\r\n    }\r\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\r\n    return (hash / csharpMax) * 100;\r\n}\r\nexports.getSamplingHashCode = getSamplingHashCode;\r\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar zlib = require(\"zlib\");\r\nvar child_process = require(\"child_process\");\r\nvar Logging = require(\"./Logging\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Util = require(\"./Util\");\r\nvar Sender = (function () {\r\n    function Sender(config, onSuccess, onError) {\r\n        this._config = config;\r\n        this._onSuccess = onSuccess;\r\n        this._onError = onError;\r\n        this._enableDiskRetryMode = false;\r\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\r\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\r\n        this._numConsecutiveFailures = 0;\r\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n            // Node's chmod levels do not appropriately restrict file access on Windows\r\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\r\n            // access to the temporary directory used for disk retry mode.\r\n            if (Sender.USE_ICACLS) {\r\n                // This should be async - but it's currently safer to have this synchronous\r\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\r\n                try {\r\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\r\n                }\r\n                catch (e) { }\r\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\r\n                }\r\n            }\r\n            else {\r\n                // chmod works everywhere else\r\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n    * Enable or disable offline mode\r\n    */\r\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\r\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\r\n            this._resendInterval = Math.floor(resendInterval);\r\n        }\r\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\r\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\r\n        }\r\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n            this._enableDiskRetryMode = false;\r\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\r\n        }\r\n    };\r\n    Sender.prototype.send = function (payload, callback) {\r\n        var _this = this;\r\n        var endpointUrl = this._config.endpointUrl;\r\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\r\n        var options = {\r\n            method: \"POST\",\r\n            withCredentials: false,\r\n            headers: {\r\n                \"Content-Type\": \"application/x-json-stream\"\r\n            }\r\n        };\r\n        zlib.gzip(payload, function (err, buffer) {\r\n            var dataToSend = buffer;\r\n            if (err) {\r\n                Logging.warn(err);\r\n                dataToSend = payload; // something went wrong so send without gzip\r\n                options.headers[\"Content-Length\"] = payload.length.toString();\r\n            }\r\n            else {\r\n                options.headers[\"Content-Encoding\"] = \"gzip\";\r\n                options.headers[\"Content-Length\"] = buffer.length;\r\n            }\r\n            Logging.info(Sender.TAG, options);\r\n            // Ensure this request is not captured by auto-collection.\r\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\r\n            var requestCallback = function (res) {\r\n                res.setEncoding(\"utf-8\");\r\n                //returns empty if the data is accepted\r\n                var responseString = \"\";\r\n                res.on(\"data\", function (data) {\r\n                    responseString += data;\r\n                });\r\n                res.on(\"end\", function () {\r\n                    _this._numConsecutiveFailures = 0;\r\n                    Logging.info(Sender.TAG, responseString);\r\n                    if (typeof _this._onSuccess === \"function\") {\r\n                        _this._onSuccess(responseString);\r\n                    }\r\n                    if (typeof callback === \"function\") {\r\n                        callback(responseString);\r\n                    }\r\n                    if (_this._enableDiskRetryMode) {\r\n                        // try to send any cached events if the user is back online\r\n                        if (res.statusCode === 200) {\r\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval);\r\n                            // store to disk in case of burst throttling\r\n                        }\r\n                        else if (res.statusCode === 408 ||\r\n                            res.statusCode === 429 ||\r\n                            res.statusCode === 439 ||\r\n                            res.statusCode === 500 ||\r\n                            res.statusCode === 503) {\r\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\r\n                            _this._storeToDisk(payload);\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\r\n            req.on(\"error\", function (error) {\r\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\r\n                _this._numConsecutiveFailures++;\r\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\r\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\r\n                // Continue informing on each failure if verbose logging is being used\r\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\r\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\r\n                    if (_this._enableDiskRetryMode) {\r\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\r\n                    }\r\n                    Logging.warn(Sender.TAG, notice, error);\r\n                }\r\n                else {\r\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\r\n                    Logging.info(Sender.TAG, notice, error);\r\n                }\r\n                _this._onErrorHelper(error);\r\n                if (typeof callback === \"function\") {\r\n                    var errorMessage = \"error sending telemetry\";\r\n                    if (error && (typeof error.toString === \"function\")) {\r\n                        errorMessage = error.toString();\r\n                    }\r\n                    callback(errorMessage);\r\n                }\r\n                if (_this._enableDiskRetryMode) {\r\n                    _this._storeToDisk(payload);\r\n                }\r\n            });\r\n            req.write(dataToSend);\r\n            req.end();\r\n        });\r\n    };\r\n    Sender.prototype.saveOnCrash = function (payload) {\r\n        if (this._enableDiskRetryMode) {\r\n            this._storeToDiskSync(payload);\r\n        }\r\n    };\r\n    Sender.prototype._runICACLS = function (args, callback) {\r\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\r\n        aclProc.on(\"error\", function (e) { return callback(e); });\r\n        aclProc.on(\"close\", function (code, signal) {\r\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\r\n        });\r\n    };\r\n    Sender.prototype._runICACLSSync = function (args) {\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\r\n            if (aclProc.error) {\r\n                throw aclProc.error;\r\n            }\r\n            else if (aclProc.status !== 0) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\r\n        }\r\n    };\r\n    Sender.prototype._getACLIdentity = function (callback) {\r\n        if (Sender.ACL_IDENTITY) {\r\n            return callback(null, Sender.ACL_IDENTITY);\r\n        }\r\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n            windowsHide: true,\r\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\r\n        });\r\n        var data = \"\";\r\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\r\n        psProc.on(\"error\", function (e) { return callback(e, null); });\r\n        psProc.on(\"close\", function (code, signal) {\r\n            Sender.ACL_IDENTITY = data && data.trim();\r\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\r\n        });\r\n    };\r\n    Sender.prototype._getACLIdentitySync = function () {\r\n        if (Sender.ACL_IDENTITY) {\r\n            return Sender.ACL_IDENTITY;\r\n        }\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\r\n            });\r\n            if (psProc.error) {\r\n                throw psProc.error;\r\n            }\r\n            else if (psProc.status !== 0) {\r\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\r\n            }\r\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\r\n            return Sender.ACL_IDENTITY;\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\r\n        }\r\n    };\r\n    Sender.prototype._getACLArguments = function (directory, identity) {\r\n        return [directory,\r\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\r\n            \"/grant\", identity + \":(OI)(CI)F\",\r\n            \"/inheritance:r\"]; // Remove all inherited permissions\r\n    };\r\n    Sender.prototype._applyACLRules = function (directory, callback) {\r\n        var _this = this;\r\n        if (!Sender.USE_ICACLS) {\r\n            return callback(null);\r\n        }\r\n        // For performance, only run ACL rules if we haven't already during this session\r\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\r\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\r\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\r\n            // This is better than the alternative of potentially infinitely spawned processes\r\n            Sender.ACLED_DIRECTORIES[directory] = false;\r\n            // Restrict this directory to only current user and administrator access\r\n            this._getACLIdentity(function (err, identity) {\r\n                if (err) {\r\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\r\n                    return callback(err);\r\n                }\r\n                else {\r\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\r\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\r\n                        return callback(err);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\r\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\r\n        }\r\n    };\r\n    Sender.prototype._applyACLRulesSync = function (directory) {\r\n        if (Sender.USE_ICACLS) {\r\n            // For performance, only run ACL rules if we haven't already during this session\r\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\r\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\r\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\r\n                return;\r\n            }\r\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n            }\r\n        }\r\n    };\r\n    Sender.prototype._confirmDirExists = function (directory, callback) {\r\n        var _this = this;\r\n        fs.lstat(directory, function (err, stats) {\r\n            if (err && err.code === 'ENOENT') {\r\n                fs.mkdir(directory, function (err) {\r\n                    if (err && err.code !== 'EEXIST') {\r\n                        callback(err);\r\n                    }\r\n                    else {\r\n                        _this._applyACLRules(directory, callback);\r\n                    }\r\n                });\r\n            }\r\n            else if (!err && stats.isDirectory()) {\r\n                _this._applyACLRules(directory, callback);\r\n            }\r\n            else {\r\n                callback(err || new Error(\"Path existed but was not a directory\"));\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\r\n     */\r\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\r\n        // Get the directory listing\r\n        fs.readdir(directory, function (err, files) {\r\n            if (err) {\r\n                return callback(err, -1);\r\n            }\r\n            var error = null;\r\n            var totalSize = 0;\r\n            var count = 0;\r\n            if (files.length === 0) {\r\n                callback(null, 0);\r\n                return;\r\n            }\r\n            // Query all file sizes\r\n            for (var i = 0; i < files.length; i++) {\r\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\r\n                    count++;\r\n                    if (err) {\r\n                        error = err;\r\n                    }\r\n                    else {\r\n                        if (fileStats.isFile()) {\r\n                            totalSize += fileStats.size;\r\n                        }\r\n                    }\r\n                    if (count === files.length) {\r\n                        // Did we get an error?\r\n                        if (error) {\r\n                            callback(error, -1);\r\n                        }\r\n                        else {\r\n                            callback(error, totalSize);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\r\n     */\r\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\r\n        var files = fs.readdirSync(directory);\r\n        var totalSize = 0;\r\n        for (var i = 0; i < files.length; i++) {\r\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\r\n        }\r\n        return totalSize;\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk in the temp directory\r\n     */\r\n    Sender.prototype._storeToDisk = function (payload) {\r\n        var _this = this;\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        // This will create the dir if it does not exist\r\n        // Default permissions on *nix are directory listing from other users but no file creations\r\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\r\n        this._confirmDirExists(directory, function (error) {\r\n            if (error) {\r\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\r\n                _this._onErrorHelper(error);\r\n                return;\r\n            }\r\n            _this._getShallowDirectorySize(directory, function (err, size) {\r\n                if (err || size < 0) {\r\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\r\n                    _this._onErrorHelper(err);\r\n                    return;\r\n                }\r\n                else if (size > _this._maxBytesOnDisk) {\r\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\r\n                    return;\r\n                }\r\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n                //would require an external dependency\r\n                var fileName = new Date().getTime() + \".ai.json\";\r\n                var fileFullPath = path.join(directory, fileName);\r\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\r\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\r\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\r\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk using sync file operations\r\n     * this is used when storing data before crashes\r\n     */\r\n    Sender.prototype._storeToDiskSync = function (payload) {\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        try {\r\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\r\n            if (!fs.existsSync(directory)) {\r\n                fs.mkdirSync(directory);\r\n            }\r\n            // Make sure permissions are valid\r\n            this._applyACLRulesSync(directory);\r\n            var dirSize = this._getShallowDirectorySizeSync(directory);\r\n            if (dirSize > this._maxBytesOnDisk) {\r\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\r\n                return;\r\n            }\r\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(directory, fileName);\r\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\r\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\r\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\r\n        }\r\n        catch (error) {\r\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\r\n            this._onErrorHelper(error);\r\n        }\r\n    };\r\n    /**\r\n     * Check for temp telemetry files\r\n     * reads the first file if exist, deletes it and tries to send its load\r\n     */\r\n    Sender.prototype._sendFirstFileOnDisk = function () {\r\n        var _this = this;\r\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        fs.exists(tempDir, function (exists) {\r\n            if (exists) {\r\n                fs.readdir(tempDir, function (error, files) {\r\n                    if (!error) {\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (files.length > 0) {\r\n                            var firstFile = files[0];\r\n                            var filePath = path.join(tempDir, firstFile);\r\n                            fs.readFile(filePath, function (error, payload) {\r\n                                if (!error) {\r\n                                    // delete the file first to prevent double sending\r\n                                    fs.unlink(filePath, function (error) {\r\n                                        if (!error) {\r\n                                            _this.send(payload);\r\n                                        }\r\n                                        else {\r\n                                            _this._onErrorHelper(error);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    _this._onErrorHelper(error);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this._onErrorHelper(error);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    Sender.prototype._onErrorHelper = function (error) {\r\n        if (typeof this._onError === \"function\") {\r\n            this._onError(error);\r\n        }\r\n    };\r\n    Sender.TAG = \"Sender\";\r\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\r\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\r\n    Sender.ACLED_DIRECTORIES = {};\r\n    Sender.ACL_IDENTITY = null;\r\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\r\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\r\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\r\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\r\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\r\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\r\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\r\n    return Sender;\r\n}());\r\nmodule.exports = Sender;\r\n//# sourceMappingURL=Sender.js.map","module.exports = require(\"zlib\");","\"use strict\";\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"./Util\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\n/**\r\n * Manages the logic of creating envelopes from Telemetry objects\r\n */\r\nvar EnvelopeFactory = (function () {\r\n    function EnvelopeFactory() {\r\n    }\r\n    /**\r\n     * Creates envelope ready to be sent by Channel\r\n     * @param telemetry Telemetry data\r\n     * @param telemetryType Type of telemetry\r\n     * @param commonProperties Bag of custom common properties to be added to the envelope\r\n     * @param context Client context\r\n     * @param config Client configuration\r\n     */\r\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\r\n        var data = null;\r\n        switch (telemetryType) {\r\n            case Contracts.TelemetryType.Trace:\r\n                data = EnvelopeFactory.createTraceData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Dependency:\r\n                data = EnvelopeFactory.createDependencyData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Event:\r\n                data = EnvelopeFactory.createEventData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Exception:\r\n                data = EnvelopeFactory.createExceptionData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Request:\r\n                data = EnvelopeFactory.createRequestData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Metric:\r\n                data = EnvelopeFactory.createMetricData(telemetry);\r\n                break;\r\n        }\r\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\r\n            if (data && data.baseData) {\r\n                // if no properties are specified just add the common ones\r\n                if (!data.baseData.properties) {\r\n                    data.baseData.properties = commonProperties;\r\n                }\r\n                else {\r\n                    // otherwise, check each of the common ones\r\n                    for (var name in commonProperties) {\r\n                        // only override if the property `name` has not been set on this item\r\n                        if (!data.baseData.properties[name]) {\r\n                            data.baseData.properties[name] = commonProperties[name];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // sanitize properties\r\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\r\n        }\r\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\r\n        var envelope = new Contracts.Envelope();\r\n        envelope.data = data;\r\n        envelope.iKey = iKey;\r\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\r\n        envelope.name =\r\n            \"Microsoft.ApplicationInsights.\" +\r\n                iKey.replace(/-/g, \"\") +\r\n                \".\" +\r\n                data.baseType.substr(0, data.baseType.length - 4);\r\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\r\n        envelope.time = (new Date()).toISOString();\r\n        envelope.ver = 1;\r\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\r\n        // Exclude metrics from sampling by default\r\n        if (telemetryType === Contracts.TelemetryType.Metric) {\r\n            envelope.sampleRate = 100;\r\n        }\r\n        return envelope;\r\n    };\r\n    EnvelopeFactory.createTraceData = function (telemetry) {\r\n        var trace = new Contracts.MessageData();\r\n        trace.message = telemetry.message;\r\n        trace.properties = telemetry.properties;\r\n        if (!isNaN(telemetry.severity)) {\r\n            trace.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            trace.severityLevel = Contracts.SeverityLevel.Information;\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\r\n        data.baseData = trace;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createDependencyData = function (telemetry) {\r\n        var remoteDependency = new Contracts.RemoteDependencyData();\r\n        remoteDependency.name = telemetry.name;\r\n        remoteDependency.data = telemetry.data;\r\n        remoteDependency.target = telemetry.target;\r\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\r\n        remoteDependency.success = telemetry.success;\r\n        remoteDependency.type = telemetry.dependencyTypeName;\r\n        remoteDependency.properties = telemetry.properties;\r\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\r\n        if (telemetry.id) {\r\n            remoteDependency.id = telemetry.id;\r\n        }\r\n        else {\r\n            remoteDependency.id = Util.w3cTraceId();\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\r\n        data.baseData = remoteDependency;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createEventData = function (telemetry) {\r\n        var event = new Contracts.EventData();\r\n        event.name = telemetry.name;\r\n        event.properties = telemetry.properties;\r\n        event.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\r\n        data.baseData = event;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createExceptionData = function (telemetry) {\r\n        var exception = new Contracts.ExceptionData();\r\n        exception.properties = telemetry.properties;\r\n        exception.severityLevel = Contracts.SeverityLevel.Error;\r\n        exception.measurements = telemetry.measurements;\r\n        exception.exceptions = [];\r\n        var stack = telemetry.exception[\"stack\"];\r\n        var exceptionDetails = new Contracts.ExceptionDetails();\r\n        exceptionDetails.message = telemetry.exception.message;\r\n        exceptionDetails.typeName = telemetry.exception.name;\r\n        exceptionDetails.parsedStack = this.parseStack(stack);\r\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\r\n        exception.exceptions.push(exceptionDetails);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\r\n        data.baseData = exception;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createRequestData = function (telemetry) {\r\n        var requestData = new Contracts.RequestData();\r\n        if (telemetry.id) {\r\n            requestData.id = telemetry.id;\r\n        }\r\n        else {\r\n            requestData.id = Util.w3cTraceId();\r\n        }\r\n        requestData.name = telemetry.name;\r\n        requestData.url = telemetry.url;\r\n        requestData.source = telemetry.source;\r\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\r\n        requestData.success = telemetry.success;\r\n        requestData.properties = telemetry.properties;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\r\n        data.baseData = requestData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createMetricData = function (telemetry) {\r\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\r\n        metrics.metrics = [];\r\n        var metric = new Contracts.DataPoint();\r\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\r\n        metric.kind = Contracts.DataPointType.Aggregation;\r\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\r\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\r\n        metric.name = telemetry.name;\r\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\r\n        metric.value = telemetry.value;\r\n        metrics.metrics.push(metric);\r\n        metrics.properties = telemetry.properties;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\r\n        data.baseData = metrics;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        // Make a copy of context tags so we don't alter the actual object\r\n        // Also perform tag overriding\r\n        var newTags = {};\r\n        if (context && context.tags) {\r\n            for (var key in context.tags) {\r\n                newTags[key] = context.tags[key];\r\n            }\r\n        }\r\n        if (tagOverrides) {\r\n            for (var key in tagOverrides) {\r\n                newTags[key] = tagOverrides[key];\r\n            }\r\n        }\r\n        // Fill in internally-populated values if not already set\r\n        if (correlationContext) {\r\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\r\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\r\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\r\n        }\r\n        return newTags;\r\n    };\r\n    EnvelopeFactory.parseStack = function (stack) {\r\n        var parsedStack = undefined;\r\n        if (typeof stack === \"string\") {\r\n            var frames = stack.split(\"\\n\");\r\n            parsedStack = [];\r\n            var level = 0;\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames.length; i++) {\r\n                var frame = frames[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n                    if (size > exceptionParsedStackThreshold) {\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        return parsedStack;\r\n    };\r\n    return EnvelopeFactory;\r\n}());\r\nvar _StackFrame = (function () {\r\n    function _StackFrame(frame, level) {\r\n        this.sizeInBytes = 0;\r\n        this.level = level;\r\n        this.method = \"<no_method>\";\r\n        this.assembly = Util.trim(frame);\r\n        var matches = frame.match(_StackFrame.regex);\r\n        if (matches && matches.length >= 5) {\r\n            this.method = Util.trim(matches[2]) || this.method;\r\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\r\n            this.line = parseInt(matches[5]) || 0;\r\n        }\r\n        this.sizeInBytes += this.method.length;\r\n        this.sizeInBytes += this.fileName.length;\r\n        this.sizeInBytes += this.assembly.length;\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        this.sizeInBytes += _StackFrame.baseSize;\r\n        this.sizeInBytes += this.level.toString().length;\r\n        this.sizeInBytes += this.line.toString().length;\r\n    }\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}());\r\nmodule.exports = EnvelopeFactory;\r\n//# sourceMappingURL=EnvelopeFactory.js.map"],"sourceRoot":""}